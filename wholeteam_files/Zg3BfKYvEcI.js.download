if (self.CavalryLogger) { CavalryLogger.start_js(["mqJWn"]); }

__d("LinkSelector",["csx","ArbiterMixin","DOM","mixin"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("mixin")(c("ArbiterMixin")));j=i&&i.prototype;function k(l,m,n){"use strict";j.constructor.call(this);this._link=l;this._menu=m;this._input=n;this._label=c("DOM").find(this._link,"._554b");this.init()}k.prototype.init=function(){"use strict";this._menu.subscribe("change",function(l,m){c("DOM").setContent(this._label,m.label);this._input.value=m.value;this.inform("change",m)}.bind(this))};k.prototype.getValue=function(){"use strict";return this._input.value};k.prototype.setValue=function(l){"use strict";this._menu.setValue(l)};f.exports=k}),null);
__d("SavedForLaterDashboardCollectionIcon.react",["cx","Image.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=20;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){j.constructor.call(this,m)}l.prototype.render=function(){if(this.props.src)return c("React").createElement("span",null,c("React").createElement(c("Image.react"),{src:this.props.src,width:k,height:k,className:"_2mwd"}));else if(this.props.firstLetter.length>0)return c("React").createElement("span",{className:"_2mwe"},c("React").createElement("span",{className:"_2mwg"},this.props.firstLetter));return null};f.exports=l}),null);
__d("XSaveListCreateDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/save/list/dialog/",{object_id:{type:"FBID"},mechanism:{type:"String"},surface:{type:"String"}})}),null);
__d("SavedForLaterDashboardAddToCollectionButton.react",["ix","cx","fbt","CollectionCurationMechanisms","CollectionsDisplaySurface","SavedForLaterDashboardCollectionIcon.react","fbglyph","Image.react","MenuSeparator","PopoverMenu.react","React","ReactXUIMenu","TimelineAppCollectionAddObjectActions","XSaveListCreateDialogController","XTimelineAppCollectionItemSimpleCurationController","XUIButton.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("ReactXUIMenu").Item;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(o){l.constructor.call(this,o)}n.prototype.render=function(){return c("React").createElement(c("PopoverMenu.react"),{alignv:"baseline",menu:this.$SavedForLaterDashboardAddToCollectionButton1()},c("React").createElement(c("XUIButton.react"),{className:"_2p-o",image:c("React").createElement(c("Image.react"),{src:h("130011")}),label:j._("Add to Collection")}))};n.prototype.$SavedForLaterDashboardAddToCollectionButton1=function(){var o=this.$SavedForLaterDashboardAddToCollectionButton2();if(o.length>0)o.push(c("React").createElement(c("MenuSeparator"),{key:"createListMenuSeparator"}));o.push(this.$SavedForLaterDashboardAddToCollectionButton3());return c("React").createElement(c("ReactXUIMenu"),null,o)};n.prototype.$SavedForLaterDashboardAddToCollectionButton2=function(){return this.props.nonContainingLists.map(function(o){var p=c("XTimelineAppCollectionItemSimpleCurationController").getURIBuilder().setString("collection_token",o.collectionToken).setString("object_id",this.props.itemId).setEnum("action_type",c("TimelineAppCollectionAddObjectActions").ADD).setEnum("mechanism",c("CollectionCurationMechanisms").ADD_TO_LIST_BUTTON).setEnum("surface",c("CollectionsDisplaySurface").SAVE_DASHBOARD).setInt("list_id",o.listId).getURI();return c("React").createElement(m,{icon:c("React").createElement(c("SavedForLaterDashboardCollectionIcon.react"),{firstLetter:o.firstLetter,src:o.imageSource}),href:"#",ajaxify:p,rel:"async-post",key:o.listId,onClick:this.handleAddToCollection.bind(this,o.listId)},o.name)}.bind(this))};n.prototype.$SavedForLaterDashboardAddToCollectionButton3=function(){var o=c("XSaveListCreateDialogController").getURIBuilder().setFBID("object_id",this.props.itemId).setString("surface",c("CollectionsDisplaySurface").SAVE_DASHBOARD).setString("mechanism",c("CollectionCurationMechanisms").ADD_TO_SAVED_LIST_BUTTON).getURI();return c("React").createElement(m,{key:"createListMenuItem",ajaxify:o,rel:"dialog"},j._("Create New Collection"))};n.prototype.handleAddToCollection=function(o){this.props.addItemToList(o)};f.exports=n}),null);
__d("SavedForLaterDashboardHeaderCategoryFilter",["cx","Banzai","CollectionCurationMechanisms","CollectionsDisplaySurface","LoadingIndicator.react","PageTransitions","React","ReactDOM","SavedForLaterDashboardDataStore","SavedForLaterDashboardNUX","Selector","ge","guid"],(function a(b,c,d,e,f,g,h){__p&&__p();var i="saved_for_later:section_imp",j="_5x-b",k="saved_loading_indicator",l={init:function m(n){this.bindSelectorBehavior(n)},initLinkSelector:function m(n){this.bindSelectorBehavior(n)},bindSelectorBehavior:function m(n){__p&&__p();n.subscribe("change",function(){var o=n.getValue(),p=o.split(":")[2],q=c("ge")("saveContentFragment"),r=c("CollectionsDisplaySurface").SAVE_DASHBOARD;c("SavedForLaterDashboardDataStore").setSurface(r);c("Banzai").post(i,{surface:r,mechanism:c("CollectionCurationMechanisms").SECTION_FILTER_BUTTON,collection_id:p,event_id:c("guid")()},{delay:0,retry:true});c("SavedForLaterDashboardNUX").dismiss(q);var s=c("PageTransitions").getCurrentURI().getUnqualifiedURI(),t=c("PageTransitions").getCurrentURI().getUnqualifiedURI();t.addQueryData({collection_token:o});t.removeQueryData("list_id");c("PageTransitions").rewriteCurrentURI(s,t);c("ReactDOM").render(c("React").createElement("div",{className:j,id:k},c("React").createElement(c("LoadingIndicator.react"),{size:"large",color:"white"})),q)})}};f.exports=l}),null);
__d("SavedForLaterDashboardItemTags.react",["cx","fbt","SavedForLaterDashboardCollectionIcon.react","MenuSeparator","MenuStaticItem","PageTransitions","PopoverMenu.react","React","ReactXUIMenu","URI","XUISubNavigationItemsAndNavigationShortcutsHighlighting","XUIText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("ReactXUIMenu").Item;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n)}m.prototype.render=function(){if(this.props.containingLists.length==0)return null;return c("React").createElement("span",{className:"_440n _3vo5"},c("React").createElement(c("XUIText.react"),{className:"_5znp"},"\xb7\xa0",this.$SavedForLaterDashboardItemTags1()))};m.prototype.$SavedForLaterDashboardItemTags1=function(){var n=this.props.containingLists[0];return c("React").createElement("span",{className:"_3a4y"},i._("Saved to"),c("React").createElement("span",{className:"_397o"},c("React").createElement("a",{href:"#",onClick:this.handleTagClick.bind(null,n)},n.name)),this.$SavedForLaterDashboardItemTags2())};m.prototype.$SavedForLaterDashboardItemTags2=function(){var n=this.props.containingLists.slice(1);if(n.length==0)return null;return c("React").createElement(c("PopoverMenu.react"),{alignv:"baseline",menu:this.$SavedForLaterDashboardItemTags3()},c("React").createElement("span",{className:"_397o"},c("React").createElement("a",{href:"#"},i._({"*":"+{other collections} more"},[i.param("other collections",n.length,[0])]))))};m.prototype.$SavedForLaterDashboardItemTags3=function(){var n=this.props.containingLists.slice(1),o=this.handleTagClick,p=n.map(function(q){return c("React").createElement(l,{icon:c("React").createElement(c("SavedForLaterDashboardCollectionIcon.react"),{firstLetter:q.firstLetter,src:q.imageSource}),key:q.listId,onClick:o.bind(null,q)},q.name)});p.unshift(c("React").createElement(c("MenuStaticItem"),{key:"alsoLivesInMenuItem"},i._("Also lives in:")),c("React").createElement(c("MenuSeparator"),{key:"alsoLivesInMenuSeparator"}));return c("React").createElement(c("ReactXUIMenu"),null,p)};m.prototype.handleTagClick=function(n){var o=new(c("URI"))(n.uri);c("PageTransitions").go(o,true);c("XUISubNavigationItemsAndNavigationShortcutsHighlighting").removeHighlightingFromAllItemsExceptForURI(o.toString())};f.exports=m}),null);
__d("SavedForLaterDashboardMoreButton.react",["ix","cx","fbt","AsyncRequest","Banzai","CollectionCurationMechanisms","CollectionsDisplaySurface","SavedForLaterDashboardCollectionIcon.react","fbglyph","guid","Image.react","MenuSeparator","MenuStaticItem","PopoverMenu.react","React","ReactXUIMenu","TimelineAppCollectionAddObjectActions","XTimelineAppCollectionItemSimpleCurationController","XUIButton.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m="saved_for_later:click",n=c("ReactXUIMenu").Item;k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;function o(p){l.constructor.call(this,p);this.handleUnsaveItem=function(){this.props.unsaveItem();var q=c("XTimelineAppCollectionItemSimpleCurationController").getURIBuilder().setString("collection_token",this.props.collectionToken).setString("object_id",this.props.itemId).setEnum("action_type",c("TimelineAppCollectionAddObjectActions").REMOVE).setEnum("mechanism",c("CollectionCurationMechanisms").DELETE_BUTTON).setEnum("surface",c("CollectionsDisplaySurface").SAVE_DASHBOARD).setBool("confirm",true).getURI();new(c("AsyncRequest"))(q).setServerDialogCancelHandler(this.props.cancelUnsaveItem).send()}.bind(this)}o.prototype.render=function(){return c("React").createElement(c("PopoverMenu.react"),{alignv:"baseline",menu:this.$SavedForLaterDashboardMoreButton1()},c("React").createElement(c("XUIButton.react"),{className:"_2p-o",image:c("React").createElement(c("Image.react"),{src:h("128601")}),label:j._("more"),labelIsHidden:true}))};o.prototype.$SavedForLaterDashboardMoreButton1=function(){__p&&__p();var p=[];p.push(this.$SavedForLaterDashboardMoreButton2());p.push(c("React").createElement(c("MenuSeparator"),{key:"markAsMenuSeparator"}));var q=this.$SavedForLaterDashboardMoreButton3();if(q.length>0){p.push(c("React").createElement(c("MenuStaticItem"),{key:"removeFromMenuItem"},j._("Remove from:")));p=p.concat(q);p.push(c("React").createElement(c("MenuSeparator"),{key:"unsaveMenuSeparator"}))}p.push(this.$SavedForLaterDashboardMoreButton4());return c("React").createElement(c("ReactXUIMenu"),null,p)};o.prototype.$SavedForLaterDashboardMoreButton2=function(){var p=j._("Mark as unopened");if(this.props.unseen)p=j._("Mark as opened");return c("React").createElement(n,{href:"#",key:"markAsMenuItem",onClick:this.handleMarkAs.bind(this)},p)};o.prototype.$SavedForLaterDashboardMoreButton3=function(){return this.props.containingLists.map(function(p){var q=c("XTimelineAppCollectionItemSimpleCurationController").getURIBuilder().setString("collection_token",p.collectionToken).setString("object_id",this.props.itemId).setEnum("action_type",c("TimelineAppCollectionAddObjectActions").REMOVE).setEnum("mechanism",c("CollectionCurationMechanisms").REMOVE_FROM_SAVED_LIST_BUTTON).setEnum("surface",c("CollectionsDisplaySurface").SAVE_DASHBOARD).setInt("list_id",p.listId).getURI();return c("React").createElement(n,{icon:c("React").createElement(c("SavedForLaterDashboardCollectionIcon.react"),{firstLetter:p.firstLetter,src:p.imageSource}),href:"#",ajaxify:q,rel:"async-post",key:p.listId,onClick:this.handleRemoveFromCollection.bind(this,p.listId)},p.name)}.bind(this))};o.prototype.$SavedForLaterDashboardMoreButton4=function(){return c("React").createElement(n,{href:"#",key:"unsaveMenuItem",onClick:this.handleUnsaveItem},j._("Unsave"))};o.prototype.handleMarkAs=function(p){var q=c("CollectionCurationMechanisms").MARK_AS_UNSEEN_BUTTON;if(this.props.unseen)q=c("CollectionCurationMechanisms").MARK_AS_SEEN_BUTTON;c("Banzai").post(m,{collection_item_id:this.props.collectionItemId,surface:c("CollectionsDisplaySurface").SAVE_DASHBOARD,mechanism:q,event_id:c("guid")()},{delay:0,retry:true});this.props.toggleSeenStatus()};o.prototype.handleRemoveFromCollection=function(p){this.props.removeItemFromList(p)};f.exports=o}),null);
__d("SavedForLaterDashboardItemActionButtonManager.react",["ix","cx","$","CSS","fbglyph","Image.react","React","ReactDOM","SavedForLaterDashboardItemListsManager","SavedForLaterDashboardAddToCollectionButton.react","SavedForLaterDashboardItemTags.react","SavedForLaterDashboardMoreButton.react","TimelineInHouseAppCollections","XUICardSection.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("TimelineInHouseAppCollections").SAVED_ALL.toString();j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={belongsToList:this.$SavedForLaterDashboardItemActionButtonManager1(),unseen:this.props.unseen,removed:false},this.$SavedForLaterDashboardItemActionButtonManager3=function(s){this.setState(function(t,u){var v=new Map(t.belongsToList);v.set(s,true);return{belongsToList:v}});c("SavedForLaterDashboardItemListsManager").addToListsForItem(this.props.itemId,s)}.bind(this),this.$SavedForLaterDashboardItemActionButtonManager4=function(s){this.setState(function(t,u){var v=new Map(t.belongsToList);v.set(s,false);return{belongsToList:v}});c("SavedForLaterDashboardItemListsManager").removeFromListsForItem(this.props.itemId,s)}.bind(this),this.$SavedForLaterDashboardItemActionButtonManager5=function(){this.setState(function(s,t){return{unseen:!s.unseen}})}.bind(this),this.$SavedForLaterDashboardItemActionButtonManager7=function(){__p&&__p();var s=this.$SavedForLaterDashboardItemActionButtonManager2(true);for(var t=s,u=Array.isArray(t),v=0,t=u?t:t[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var w;if(u){if(v>=t.length)break;w=t[v++]}else{v=t.next();if(v.done)break;w=v.value}var x=w;c("SavedForLaterDashboardItemListsManager").removeFromListsForItem(this.props.itemId,x.listId)}c("SavedForLaterDashboardItemListsManager").removeFromListsForItem(this.props.itemId,l);this.$SavedForLaterDashboardItemActionButtonManager9()}.bind(this),this.$SavedForLaterDashboardItemActionButtonManager6=function(){__p&&__p();var s=this.$SavedForLaterDashboardItemActionButtonManager2(true);for(var t=s,u=Array.isArray(t),v=0,t=u?t:t[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var w;if(u){if(v>=t.length)break;w=t[v++]}else{v=t.next();if(v.done)break;w=v.value}var x=w;c("SavedForLaterDashboardItemListsManager").addToListsForItem(this.props.itemId,x.listId)}c("SavedForLaterDashboardItemListsManager").addToListsForItem(this.props.itemId,l);this.$SavedForLaterDashboardItemActionButtonManager9()}.bind(this),o}m.prototype.$SavedForLaterDashboardItemActionButtonManager1=function(){__p&&__p();var n=new Map();for(var o=this.props.savedLists,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;n.set(s.listId,false)}for(var t=this.props.containingLists,u=Array.isArray(t),v=0,t=u?t:t[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var w;if(u){if(v>=t.length)break;w=t[v++]}else{v=t.next();if(v.done)break;w=v.value}var x=w;n.set(x,true)}return n};m.prototype.render=function(){var n=this.$SavedForLaterDashboardItemActionButtonManager2(true),o=this.$SavedForLaterDashboardItemActionButtonManager2(false),p=c("$")("saved-seen-indicator-"+this.props.itemId),q=c("$")("saved-more-button-"+this.props.itemId),r=c("$")("saved-add-button-"+this.props.itemId),s=c("$")("saved-item-tags-"+this.props.itemId);return c("React").createElement(c("XUICardSection.react"),null,c("ReactDOM").createPortal(c("React").createElement(c("SavedForLaterDashboardItemTags.react"),{containingLists:n}),s),c("ReactDOM").createPortal(c("React").createElement(c("SavedForLaterDashboardAddToCollectionButton.react"),{nonContainingLists:o,addItemToList:this.$SavedForLaterDashboardItemActionButtonManager3,itemId:this.props.itemId}),r),c("ReactDOM").createPortal(c("React").createElement(c("SavedForLaterDashboardMoreButton.react"),{containingLists:n,removeItemFromList:this.$SavedForLaterDashboardItemActionButtonManager4,toggleSeenStatus:this.$SavedForLaterDashboardItemActionButtonManager5,collectionItemId:this.props.collectionItemId,collectionToken:this.props.collectionToken,cancelUnsaveItem:this.$SavedForLaterDashboardItemActionButtonManager6,unsaveItem:this.$SavedForLaterDashboardItemActionButtonManager7,itemId:this.props.itemId,unseen:this.state.unseen}),q),c("ReactDOM").createPortal(this.$SavedForLaterDashboardItemActionButtonManager8(),p))};m.prototype.$SavedForLaterDashboardItemActionButtonManager8=function(){if(this.state.unseen)return c("React").createElement(c("Image.react"),{className:"_4trz",src:h("115777")});return null};m.prototype.$SavedForLaterDashboardItemActionButtonManager2=function(n){return this.props.savedLists.filter(function(o){return n==this.state.belongsToList.get(o.listId)}.bind(this))};m.prototype.$SavedForLaterDashboardItemActionButtonManager9=function(){__p&&__p();var n=c("$")("item-"+this.props.itemId),o=c("$")("removed-item-"+this.props.itemId);if(this.state.removed){c("CSS").removeClass(n,"hidden_elem");c("CSS").addClass(o,"hidden_elem")}else{c("CSS").removeClass(o,"hidden_elem");c("CSS").addClass(n,"hidden_elem")}this.setState(function(p,q){return{removed:!p.removed}})};f.exports=m}),null);
__d("SavedForLaterDashboardRemoveButton",["cx","Event","Parent","SavedForLaterDashboardHeader","CollectionCurationMechanisms","SavedForLaterDashboardItemListsManager","tidyEvent"],(function a(b,c,d,e,f,g,h){__p&&__p();var i="_5wcf";function j(k,l,m){"use strict";c("tidyEvent")(c("Event").listen(k,"click",function(n){var o=c("Parent").byClass(k,i);if(o){var p=c("SavedForLaterDashboardItemListsManager").getListsForItem(m.object_id);if(p)l.decrement=Array.from(p);c("SavedForLaterDashboardHeader").removeItem(o,l,m,c("CollectionCurationMechanisms").XOUT_BUTTON)}}))}f.exports=j}),null);
__d("SavedForLaterDashboardSidebarSearch",["XUISubNavigationItemsAndNavigationShortcutsHighlighting","Event"],(function a(b,c,d,e,f,g){"use strict";function h(i,j){c("Event").listen(i,"submit",c("XUISubNavigationItemsAndNavigationShortcutsHighlighting").removeHighlightingFromAllItemsExceptForURI.bind(j))}f.exports=h}),null);
__d("SavedForLaterDashboardTopLevelRemoveButton",["cx","CollectionCurationMechanisms","Event","Parent","SavedForLaterDashboardHeader","SavedForLaterDashboardItemListsManager","tidyEvent"],(function a(b,c,d,e,f,g,h){__p&&__p();var i="_5wcf";function j(k,l,m){"use strict";__p&&__p();c("tidyEvent")(c("Event").listen(k,"click",function(n){var o=c("Parent").byClass(k,i);if(o)if(l.mechanism==c("CollectionCurationMechanisms").DELETE_BUTTON){var p=c("SavedForLaterDashboardItemListsManager").getListsForItem(m.object_id);if(p)l.decrement=Array.from(p);c("SavedForLaterDashboardHeader").removeItem(o,l,m,l.mechanism)}else c("SavedForLaterDashboardHeader").updateAndReplace(o,l)}))}f.exports=j}),null);
__d("SavedForLaterSidebarBadgeAccesory",["SavedForLaterDashboardHeader","CSS","DOM"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="savedForLaterSidebarCounter";function i(j,k,l,m){this.sidebarBadgeAccessory=j;this.maxCount=m;this.listId=k.toString();this.count=l;c("SavedForLaterDashboardHeader").addItemCounter(this.listId,this,h)}i.prototype.getListId=function(){return this.listId};i.prototype.increment=function(){this.$SavedForLaterSidebarBadgeAccesory1(this.$SavedForLaterSidebarBadgeAccesory2()+1)};i.prototype.decrement=function(){this.$SavedForLaterSidebarBadgeAccesory1(this.$SavedForLaterSidebarBadgeAccesory2()-1)};i.prototype.$SavedForLaterSidebarBadgeAccesory2=function(){return this.count};i.prototype.$SavedForLaterSidebarBadgeAccesory1=function(j){if(j<0)j=0;if(j<=0)c("CSS").addClass(this.sidebarBadgeAccessory,"hidden_elem");else c("CSS").removeClass(this.sidebarBadgeAccessory,"hidden_elem");if(j<=this.maxCount)c("DOM").setContent(this.sidebarBadgeAccessory,j);else c("DOM").setContent(this.sidebarBadgeAccessory,this.maxCount+"+");this.count=j};f.exports=i}),null);