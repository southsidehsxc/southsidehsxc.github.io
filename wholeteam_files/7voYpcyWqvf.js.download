if (self.CavalryLogger) { CavalryLogger.start_js(["88qgQ"]); }

__d("AdsCanvasAssetParsingEducationConstants",["fbt"],(function a(b,c,d,e,f,g,h){"use strict";f.exports={ASSET_PARSING_BUILDER_TOOLBAR_TOUR:{0:{alignment:"left",buttonText:h._("Next"),content:h._("A Canvas is made up of components. Your Canvas includes a header, the images you selected and a space for text. You can add more components or drag and drop to reorder them."),isFinalStep:"false",position:"below",title:h._("Your Components")},1:{alignment:"right",buttonText:h._("Next"),content:h._("You can preview your Canvas as you're building it, but it may look different from what people will see on their mobile device. Before you finish, send a mobile preview to yourself."),isFinalStep:"false",position:"below",title:h._("Preview on Mobile")},2:{alignment:"right",buttonText:h._("Done"),content:h._("When you're done editing your Canvas, click finish to attach it to your ad. You'll still be able to review your ad before placing an order."),isFinalStep:"true",position:"below",title:h._("Finish")}},ASSET_PARSING_BUILDER_TOOLBAR_TOUR_MAX_STEPS:3,ASSET_PARSING_FINISHED_ADS_BLUE_TIP:{content:h._("It will open instantly from your ad. Click to preview or make edits."),position:"right",title:h._("You Created a Canvas")}}}),null);
__d("adsCanvasCloseUnsavedCanvasDialogSelector",["RichMediaEditorStore","adsCanvasCurrentDocumentSelector","adsCreateSelector"],(function a(b,c,d,e,f,g){"use strict";var h=c("adsCreateSelector")([c("adsCanvasCurrentDocumentSelector"),c("RichMediaEditorStore").getShowCloseUnsavedCanvasDialog],function(i,j){if(!i.hasValue())return{isReady:false};var k=i.getValueEnforcing();return{canvasID:k.id,elementIDs:k.elements.map(function(l){return l.id}),isReady:true,showDialog:j}},f.id+".selector");f.exports=h}),null);
__d("RichMediaEditorActionTypes",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("keyMirrorRecursive")({ADD_DOCUMENT_ELEMENT:true,ADD_ELEMENTS_SELECTED:true,ADD_FILES_TO_DOCUMENT_ELEMENT:true,BACK_TO_MENU:true,CANVAS_TEMPLATE_SELECTED:false,COLLAPSE_EXPANDED_ELEMENTS:false,CREATE_CANVAS_SUCCESS:true,CREATE_DEFAULT_DOCUMENT:true,CREATE_DOCUMENT_FROM_MEDIA:true,DELETE_ELEMENT:true,DESELECT_ELEMENT_TO_ADD:true,EDIT_DOCUMENT_ELEMENT:true,FETCH_TEMPLATES:null,LOAD_BLANK_CANVAS:false,LOAD_CANVAS_TEMPLATE:false,LOAD_DOCUMENT:true,LOAD_PAGE_DATA_SUCCESS:false,LOAD_PAGE_DATA_ERROR:false,LOAD_PAGE_CANVAS_DOCS_BASIC_INFO_SUCCESS:false,LOAD_PAGE_CANVAS_DOCS_BASIC_INFO_ERROR:false,LOAD_PAGE_LOCATIONS_ERROR:true,LOAD_PAGE_LOCATIONS_SUCCESS:true,MOVE_ELEMENT_DOWN:true,MOVE_ELEMENT_UP:true,REPLACE_FILE_IN_DOCUMENT:true,RESET_UNPUBLISHED_CANVAS:true,SAVE_INCOMPLETE_ELEMENTS:false,SELECT_ELEMENT_TO_ADD:true,SET_ADD_COMPONENT_DIALOG_SHOWN:true,SET_CANVAS_PAGEID:null,SET_CANVAS_SOURCE:null,SET_CUSTOMIZE_THEME_COLOR:true,SET_DIALOG_CANVAS:true,SET_DIALOG_SHOWN:true,SET_DOCUMENT_EDIT_STATE:true,SET_DOCUMENT_NAME:true,SET_DOCUMENT_THEME:true,SET_DOCUMENT_URL_DIALOG_SHOWN:true,SET_FORCE_EDIT_PUBLISHED:true,SET_NONEMPTY_ELEMENT_NAME:true,SET_PREVIEW_FAILED:true,SET_PREVIEW_TYPE:true,SET_SAVE_FAILED:true,SET_SELECTED_CANVAS:true,SET_SENDING_PREVIEW:true,SET_SHOW_TEMPLATES:false,SET_SWIPE_TO_OPEN_ENABLED:true,SET_SUPPORT_INSTAGRAM_ENABLED:false,SET_UNPUBLISHED_CANVAS:true,SET_USE_CUSTOMIZE_THEME_COLOR:true,SET_VALIDATION_FAILED:false,TEMPLATE_FETCHED:null,TOGGLE_DOCUMENT_DEBUG_PANE_SHOWN:true,TOGGLE_WELCOME_PANE_SHOWN:false,TOOLBAR_PUBLISH_CLICK:false,TRIGGER_NUX_TOUR:false},"RichMediaEditor")}),null);
__d("AdsCanvasAdvancedRendering",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({CREATE:null,DROPDOWN:null,LINK:null,PREVIEW:null});f.exports=h}),null);
__d("AdsCanvasEditorFunnelLoggingConstants",[],(function a(b,c,d,e,f,g){"use strict";f.exports={FUNNEL_LOGGING_NAME:"WWW_CANVAS_EDITOR_FUNNEL",FUNNEL_LOGGING_EVENT:{ADD_ELEMENT:"add_element",BACK_TO_MENU:"back_to_menu",CREATE_FAILURE:"create_failure",CREATE_POST:"create_post",CREATE_SUCCESS:"create_success",CHANGE_CANVAS_TITLE:"change_canvas_title",CHANGE_ELEMENT_TITLE:"change_element_title",DUPLICATE:"duplicate",DUPLICATE_FAILURE:"duplicate_failure",DUPLICATE_SUCCESS:"duplicate_success",GET_URL:"get_url",GETTING_STARTED_GUIDE:"getting_started_guide",INIT_DUPLICATE:"init_duplicate",INIT_SAVE:"init_save",LOAD_FAILURE:"load_failure",LOAD_SUCCESS:"load_success",PHOTO_UPLOAD_ERROR:"editor.photo_upload_error",PHOTO_UPLOAD_SUCCESS:"editor.photo_upload_success",EDITOR_PHOTO_UPLOAD_TIMEOUT:"editor.photo_upload_timeout",PHOTO_LIBRARY_UPLOADER_OPEN:"editor.photo_library_uploader_open",PHOTO_LIBRARY_UPLOADER_IMAGE_UPLOAD:"editor.photo_library_uploader_image_upload",PHOTO_LIBRARY_UPLOADER_CANCEL:"editor.photo_library_uploader_cancel",PHOTO_MANUAL_UPLOADER_OPEN:"editor.photo_manual_uploader_open",PHOTO_MANUAL_UPLOADER_IMAGE_UPLOAD:"editor.photo_manual_uploader_image_upload",VIDEO_LIBRARY_UPLOADER_CANCEL:"editor.video_library_uploader_cancel",VIDEO_LIBRARY_UPLOADER_OPEN:"editor.video_library_uploader_open",VIDEO_LIBRARY_UPLOADER_VIDEO_CLICK:"editor.video_library_uploader_video_click",VIDEO_LIBRARY_UPLOADER_VIDEO_IMPORT:"editor.video_library_uploader_video_import",VIDEO_LIBRARY_UPLOADER_VIDEO_SELECT_EXISTING:"editor.video_library_uploader_video_select_existing",VIDEO_LIBRARY_UPLOADER_VIDEO_UPLOAD:"editor.video_library_uploader_video_upload",VIDEO_MANUAL_UPLOADER_OPEN:"editor.video_manual_uploader_open",VIDEO_MANUAL_UPLOADER_VIDEO_UPLOAD:"editor.video_manual_uploader_video_upload",PREVIEW_FAIL:"preview_fail",PREVIEW_SELF:"preview_self",PREVIEW_SHARE:"preview_share",PUBLISH:"publish_canvas",PUBLISH_FAILURE:"publish_failure",REMOVE_ELEMENT:"remove_element",SAVE:"save_canvas",SAVE_INCOMPLETE_ELEMENTS:"save_incomplete_elements",SAVE_FAILURE:"save_failure",SAVE_SUCCESS:"save_success",SWIPE_TO_OPEN_TOGGLED:"swipe_to_open_toggled",SWITCH_ELEMENT:"switch_element",TEMPLATE_PREVIEW_LAYOUT:"template_preview_layout",TEMPLATE_SELECT_LAYOUT:"template_select_layout",TEMPLATE_DOWNLOAD_LAYOUT:"template_download_layout",TOOLBAR_PUBLISH_CLICKED:"toolbar_publish_clicked",UPLOAD_VIDEO:"upload_video",VALIDATION_ERROR:"validation_error",WELCOMESCREEN_BLANKCANVAS:"welcome_screen_blankcanvas",WELCOMESCREEN_EXAMPLES:"welcome_screen_examples",WELCOMESCREEN_TEMPLATE:"welcome_screen_template",WELCOMESCREEN_TIPS:"welcome_screen_tips",WELCOMESCREEN_TOUR:"welcome_screen_tour",WEBPARSING_SET_URL:"webparsing.set_url",WEBPARSING_LOADING_MEDIA:"webparsing.loading_media",WEBPARSING_LOADING_SUCCESS:"webparsing.loading_success",WEBPARSING_LOADING_FAIL:"webparsing.loading_fail",WEBPARSING_TOGGLE_PANNEL:"webparsing.toggle_pannel",WEBPARSING_IMAGE_SELECT:"webparsing.image_select",WEBPARSING_CONTINUE_BUILDER:"webparsing.continue_to_builder"},FUNNEL_LOGGING_TIMEOUT:999999,FUNNEL_LOGGING_TAGS:{EDITOR_EXIT:"editor_exit",FIRST_TIME_USER:"first_time_user",IS_EMPLOYEE:"is_employee",LOAD_EXISTING_DOC_WITH_VALIDATION_ERRORS:"load_existing_doc_with_validation_errors",PAGE_HAS_NEVER_CREATED:"page_has_never_created",PAGE_HAS_NEVER_PUBLISHED:"page_has_never_published",WELCOMESCREEN_SHOWN:"welcome_screen_shown"}}}),null);
__d("AdsUEditorAdgroupCanvasInlineAdvanceBuilderCreateButton.react",["fbt","AdsCanvasWebdriverIDs","React","SUIButton.react"],(function a(b,c,d,e,f,g,h){"use strict";function i(j){return c("React").createElement(c("SUIButton.react"),{"data-testid":c("AdsCanvasWebdriverIDs").ADS_PE_CANVAS_SECTION_USE_ADVANCED_BUTTON,label:h._("Create"),use:"confirm",onClick:j.onOpenAdvancedBuilder})}f.exports=i}),null);
__d("AdsUEditorAdgroupCanvasInlineAdvanceBuilderLink.react",["ix","cx","fbt","AdsCanvasWebdriverIDs","BIGAdoptionConfig","BUIAdoptionAdsPopoverLink.react","Image.react","React","SUILink.react","SUIText.react","asset","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";function k(l){return c("React").createElement(c("SUILink.react"),{className:"_5_uy","data-testid":c("AdsCanvasWebdriverIDs").ADS_CF_CANVAS_SECTION_USE_ADVANCED_BUILDER,showUnderline:"never",onClick:l.onOpenAdvancedBuilder},c("React").createElement(c("Image.react"),{className:"_3-8_",src:c("BIGAdoptionConfig").ads_fbicon_adoption?h("411395"):h("116781")}),c("React").createElement(c("SUIText.react"),{variant:"boldInteractiveUseSparingly"},c("React").createElement("span",{className:"_3mka"},j._("Use the advanced Canvas builder"))),c("React").createElement(c("BUIAdoptionAdsPopoverLink.react"),{content:j._("With the Canvas builder, you have more control over the design and can create your own custom layout."),contentWidthUseSparingly:288}))}f.exports=k}),null);
__d("AdsUEditorAdgroupCanvasInlineAdvanceBuilderPreviewButton.react",["ix","fbt","AdsCanvasWebdriverIDs","BIGAdoptionConfig","Image.react","React","SUIButton.react","asset","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";function j(k){return c("React").createElement(c("SUIButton.react"),{"data-testid":c("AdsCanvasWebdriverIDs").ADS_CANVAS_SECTION_FINISH_FLOW_PREVIEW_BUTTON,icon:c("React").createElement(c("Image.react"),{src:c("BIGAdoptionConfig").ads_fbicon_adoption?h("411338"):h("122868")}),label:i._("Preview"),use:"default",onClick:k.onOpenAdvancedBuilder})}f.exports=j}),null);
__d("AdsCanvasButtons.react",["ix","cx","fbt","AdsCanvasAdvancedRendering","AdsCanvasEditorFunnelLoggingConstants","AdsCanvasWebdriverIDs","AdsUEditorAdgroupCanvasInlineAdvanceBuilderCreateButton.react","AdsUEditorAdgroupCanvasInlineAdvanceBuilderLink.react","AdsUEditorAdgroupCanvasInlineAdvanceBuilderPreviewButton.react","BIGAdoptionConfig","FunnelLogger","Image.react","React","XUIButton.react","XUIButtonGroup.react","asset","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("AdsCanvasEditorFunnelLoggingConstants").FUNNEL_LOGGING_NAME;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$AdsCanvasButtons1=function(event){event.stopPropagation();this.props.onClickCreate&&this.props.onClickCreate();this.props.onClick("newCanvasDialog");c("FunnelLogger").addFunnelTag(m,this.props.source)}.bind(this),this.$AdsCanvasButtons2=function(event){event.stopPropagation();this.props.onClickPreview&&this.props.onClickPreview();if(this.props.canvas){this.props.onClick(this.props.canvas.id);c("FunnelLogger").addFunnelTag(m,this.props.source)}}.bind(this),p}n.prototype.render=function(){switch(this.props.canvasRenderingMode){case c("AdsCanvasAdvancedRendering").LINK:return c("React").createElement(c("AdsUEditorAdgroupCanvasInlineAdvanceBuilderLink.react"),{onOpenAdvancedBuilder:this.$AdsCanvasButtons1});case c("AdsCanvasAdvancedRendering").CREATE:return c("React").createElement(c("AdsUEditorAdgroupCanvasInlineAdvanceBuilderCreateButton.react"),{onOpenAdvancedBuilder:this.$AdsCanvasButtons1});case c("AdsCanvasAdvancedRendering").DROPDOWN:return c("React").createElement("div",null);case c("AdsCanvasAdvancedRendering").PREVIEW:return c("React").createElement(c("AdsUEditorAdgroupCanvasInlineAdvanceBuilderPreviewButton.react"),{onOpenAdvancedBuilder:this.$AdsCanvasButtons2});default:break}return c("React").createElement(c("XUIButtonGroup.react"),{className:"_44jh"},this.$AdsCanvasButtons3(),this.$AdsCanvasButtons4())};n.prototype.$AdsCanvasButtons4=function(){return c("React").createElement(c("XUIButton.react"),{className:"_44jg","data-testid":c("AdsCanvasWebdriverIDs").ADS_CANVAS_TYPEAHEAD_CREATE_BUTTON,disabled:this.props.disabled,image:c("React").createElement(c("Image.react"),{src:c("BIGAdoptionConfig").ads_fbicon_adoption?h("378289"):h("123418")}),label:j._("Plus"),labelIsHidden:true,onClick:this.$AdsCanvasButtons1})};n.prototype.$AdsCanvasButtons3=function(){var o=this.props.canvas;if(!o)return null;return c("React").createElement(c("XUIButton.react"),{className:"_44jg","data-testid":c("AdsCanvasWebdriverIDs").ADS_CANVAS_TYPEAHEAD_PREVIEW_BUTTON,disabled:this.props.disabled,image:c("React").createElement(c("Image.react"),{src:h("122868")}),label:j._("Show"),labelIsHidden:true,onClick:this.$AdsCanvasButtons2})};f.exports=n}),null);
__d("AdsCanvasCloseUnsavedCanvasDialog.react",["cx","fbt","LayerFadeOnHide","LayerHideOnEscape","React","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react"],(function a(b,c,d,e,f,g,h,i){"use strict";function j(k){return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerHideOnEscape:c("LayerHideOnEscape"),LayerFadeOnHide:c("LayerFadeOnHide")},shown:k.showDialog,width:450},c("React").createElement(c("XUIDialogTitle.react"),{showCloseButton:true},i._("Unsaved Changes")),c("React").createElement(c("XUIDialogBody.react"),null,i._("Do you want to discard unsaved changes?")),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",label:i._("Cancel"),onClick:k.onCancel}),c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",className:"_4jy1",label:i._("Confirm"),onClick:k.onConfirm})))}f.exports=j}),null);
__d("AdsCanvasResetCanvasDataActionPlugin",[],(function a(b,c,d,e,f,g){"use strict";var h={type:"dataAction",key:"canvasResetCanvas",actionType:"CANVAS.RESET_CANVAS"};f.exports=h}),null);
__d("AdsCanvasResetCanvasDataAction",["AdsCanvasResetCanvasDataActionPlugin","AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],c("AdsCanvasResetCanvasDataActionPlugin"));f.exports=h}),null);
__d("AdsCanvasShowCloseUnsavedCanvasDialogDataActionPlugin",[],(function a(b,c,d,e,f,g){"use strict";var h={type:"dataAction",key:"canvasShowCloseUnsavedCanvasDialog",actionType:"CANVAS.SHOW_CLOSE_UNSAVED_CANVAS_DIALOG"};f.exports=h}),null);
__d("AdsCanvasShowCloseUnsavedCanvasDialogDataAction",["AdsCanvasShowCloseUnsavedCanvasDialogDataActionPlugin","AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],c("AdsCanvasShowCloseUnsavedCanvasDialogDataActionPlugin"));f.exports=h}),null);
__d("AdsCanvasCloseUnsavedCanvasDialogContainer.react",["AdsCanvasCloseUnsavedCanvasDialog.react","AdsCanvasResetCanvasDataAction","AdsCanvasShowCloseUnsavedCanvasDialogDataAction","AdsFluxContainer","immutable","React","RichMediaEditorStore","adsCanvasCloseUnsavedCanvasDialogSelector","adsGKCheck"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("immutable").List;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(){__p&&__p();var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$AdsCanvasCloseUnsavedCanvasDialogContainer1=function(){c("AdsCanvasShowCloseUnsavedCanvasDialogDataAction").dispatch({showDialog:false});this.props.onCancel()}.bind(this),this.$AdsCanvasCloseUnsavedCanvasDialogContainer2=function(){if(!this.state.isReady)return;c("AdsCanvasResetCanvasDataAction").dispatch({canvasID:this.state.canvasID,elementIDs:this.state.elementIDs});this.props.onConfirm()}.bind(this),m}k.getStores=function(){return[].concat(c("adsCanvasCloseUnsavedCanvasDialogSelector").getStores(),[c("RichMediaEditorStore")])};k.calculateState=function(){if(c("adsGKCheck")("ads_canvas_editor_store_refactoring"))return c("adsCanvasCloseUnsavedCanvasDialogSelector")();return{canvasID:"NOT_AN_ID",elementIDs:j([]),isReady:true,showDialog:c("RichMediaEditorStore").getShowCloseUnsavedCanvasDialog()}};k.prototype.render=function(){if(!this.state.isReady)return null;return c("React").createElement(c("AdsCanvasCloseUnsavedCanvasDialog.react"),{showDialog:this.state.showDialog,onCancel:this.$AdsCanvasCloseUnsavedCanvasDialogContainer1,onConfirm:this.$AdsCanvasCloseUnsavedCanvasDialogContainer2})};f.exports=c("AdsFluxContainer").create(k,{withProps:true,name:f.id})}),null);
__d("AdsCanvasComposerDialogStore",["AdsActionTypes","AdsDataAtom","FluxReduceStore","immutable","RichMediaEditorActionTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l=c("immutable").Map,m=c("immutable").Record;h=babelHelpers.inherits(n,m({dialogShown:l(),dialogCanvases:l(),selectedCanvas:null,unpublishedCanvas:null}));i=h&&h.prototype;function n(){h.apply(this,arguments)}j=babelHelpers.inherits(o,c("FluxReduceStore"));k=j&&j.prototype;o.prototype.getInitialState=function(){return new n()};o.prototype.reduce=function(p,q){var r=q.action;switch(r.type){case c("AdsActionTypes").CANVAS.DOC_ID.LOADED:return p.set("dialogCanvases",p.get("dialogCanvases").set(r.canvasID,r.canvas));case c("RichMediaEditorActionTypes").SET_UNPUBLISHED_CANVAS:return p.set("unpublishedCanvas",r.unpublishedCanvas);case c("RichMediaEditorActionTypes").RESET_UNPUBLISHED_CANVAS:return p.set("unpublishedCanvas",null);case c("RichMediaEditorActionTypes").SET_DIALOG_SHOWN:return p.set("dialogShown",p.get("dialogShown").set(r.dialogID,r.dialogShown));case c("RichMediaEditorActionTypes").SET_DIALOG_CANVAS:return p.set("dialogCanvases",p.get("dialogCanvases").set(r.dialogID,r.canvas));case c("RichMediaEditorActionTypes").SET_SELECTED_CANVAS:return p.set("selectedCanvas",r.selectedCanvas);default:return p}};o.prototype.getDialogShown=function(p){return!!this.getState().get("dialogShown").get(p)};o.prototype.getDialogCanvas=function(p){return this.getState().get("dialogCanvases").get(p)};o.prototype.getSelectedCanvas=function(){return this.getState().get("selectedCanvas")};o.prototype.getUnpublishedCanvas=function(){return this.getState().get("unpublishedCanvas")};function o(){j.apply(this,arguments)}f.exports=new o(c("AdsDataAtom"))}),null);
__d("AdsCanvasEditorFunnelLogging",["AdsCanvasEditorFeature","AdsCanvasEditorFunnelLoggingConstants","AdsCanvasSV","CurrentUser","FunnelLogger","RichMediaEditorDataDispatcher","RichMediaEditorStore","Set"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=false,i={startFunnel:function j(){if(h)return;h=true;c("FunnelLogger").startFunnel(c("AdsCanvasEditorFunnelLoggingConstants").FUNNEL_LOGGING_NAME);c("FunnelLogger").setFunnelTimeout(c("AdsCanvasEditorFunnelLoggingConstants").FUNNEL_LOGGING_NAME,c("AdsCanvasEditorFunnelLoggingConstants").FUNNEL_LOGGING_TIMEOUT);if(c("CurrentUser").isEmployee())c("FunnelLogger").addFunnelTag(c("AdsCanvasEditorFunnelLoggingConstants").FUNNEL_LOGGING_NAME,c("AdsCanvasEditorFunnelLoggingConstants").FUNNEL_LOGGING_TAGS.IS_EMPLOYEE);c("RichMediaEditorDataDispatcher").getCanvasPageData(c("RichMediaEditorStore").getCanvasPageId(),null,c("FunnelLogger"))},logGKExposures:function j(k){for(var l in c("AdsCanvasEditorFeature"))if(Object.prototype.hasOwnProperty.call(c("AdsCanvasEditorFeature"),l)){var m=c("AdsCanvasEditorFeature")[l];if(m&&c("AdsCanvasSV").ads_canvas_user_gks_to_log.indexOf(l)!=-1)c("FunnelLogger").addFunnelTag(c("AdsCanvasEditorFunnelLoggingConstants").FUNNEL_LOGGING_NAME,l)}if(k)k.map(function(l){c("FunnelLogger").addFunnelTag(c("AdsCanvasEditorFunnelLoggingConstants").FUNNEL_LOGGING_NAME,l)})},addFunnelTag:function j(k){c("FunnelLogger").addFunnelTag(c("AdsCanvasEditorFunnelLoggingConstants").FUNNEL_LOGGING_NAME,k)},endFunnel:function j(){if(!h)return;h=false;c("FunnelLogger").addFunnelTag(c("AdsCanvasEditorFunnelLoggingConstants").FUNNEL_LOGGING_NAME,c("AdsCanvasEditorFunnelLoggingConstants").FUNNEL_LOGGING_TAGS.EDITOR_EXIT);c("FunnelLogger").endFunnel(c("AdsCanvasEditorFunnelLoggingConstants").FUNNEL_LOGGING_NAME);c("RichMediaEditorStore").setIsNotNewUser()},parseAndMergeFunnelTags:function j(){__p&&__p();if(!c("AdsCanvasEditorFeature").canvas_editor_logging_tagset)return[];var k=new(c("Set"))(),l=c("RichMediaEditorStore").getCanvasTags();l.forEach(function(p){k.add(p)});var m=c("FunnelLogger").getFunnelInstance(c("AdsCanvasEditorFunnelLoggingConstants").FUNNEL_LOGGING_NAME),n=m?m.getTags():null;if(!n)return Array.from(k);for(var o in n)k.add(o);return Array.from(k)}};f.exports=i}),null);
__d("AdsCanvasLandingPageReplacementCheckboxSetCheckboxDataActionPlugin",[],(function a(b,c,d,e,f,g){"use strict";var h={type:"dataAction",key:"canvasLandingPageReplacementCheckboxSetCheckbox",actionType:"ADS_CANCAS_LANDING_PAGE_REPLACEMENT_CHECKBOX.SET_CHECKBOX"};f.exports=h}),null);
__d("AdsCanvasLandingPageReplacementCheckboxSetCheckboxDataAction",["AdsCanvasLandingPageReplacementCheckboxSetCheckboxDataActionPlugin","AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],c("AdsCanvasLandingPageReplacementCheckboxSetCheckboxDataActionPlugin"));f.exports=h}),null);
__d("AdsCanvasLandingPageReplacementCheckboxShowFinishingNuxDataActionPlugin",[],(function a(b,c,d,e,f,g){"use strict";var h={type:"dataAction",key:"canvasLandingPageReplacementCheckboxShowFinishingNux",actionType:"ADS_CANCAS_LANDING_PAGE_REPLACEMENT_CHECKBOX.SHOW_FINISHING_NUX"};f.exports=h}),null);
__d("AdsCanvasLandingPageReplacementCheckboxShowFinishingNuxDataAction",["AdsCanvasLandingPageReplacementCheckboxShowFinishingNuxDataActionPlugin","AdsDataAction"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsDataAction").create([],c("AdsCanvasLandingPageReplacementCheckboxShowFinishingNuxDataActionPlugin"));f.exports=h}),null);
__d("AdsCanvasLandingPageReplacementCheckboxActions",["AdsCanvasLandingPageReplacementCheckboxSetCheckboxDataAction","AdsCanvasLandingPageReplacementCheckboxShowFinishingNuxDataAction"],(function a(b,c,d,e,f,g){"use strict";var h={setCheckbox:function i(j,k){c("AdsCanvasLandingPageReplacementCheckboxSetCheckboxDataAction").dispatch({adgroupIDs:j,checkStatus:k})},showFinishingNux:function i(j){c("AdsCanvasLandingPageReplacementCheckboxShowFinishingNuxDataAction").dispatch({showNux:j})}};f.exports=h}),null);
__d("AdsCanvasLandingPageReplacementCheckboxStore",["AdsDataActionTypes","AdsDataAtom","AdsEmptyValue","AdsMixedValue","AdsUniformValue","FluxStore","Map","SimpleNUXMessage","SimpleNUXMessageTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxStore"));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.$AdsCanvasLandingPageReplacementCheckboxStore1=new(c("Map"))();this.$AdsCanvasLandingPageReplacementCheckboxStore2=false}j.prototype.__onDispatch=function(k){__p&&__p();var l=k.action;switch(l.type){case c("AdsDataActionTypes").canvasLandingPageReplacementCheckboxSetCheckbox:for(var m=0;m<l.adgroupIDs.length;m++)this.$AdsCanvasLandingPageReplacementCheckboxStore1.set(l.adgroupIDs[m],l.checkStatus);this.__emitChange();break;case c("AdsDataActionTypes").canvasLandingPageReplacementCheckboxShowFinishingNux:var n=c("SimpleNUXMessage").hasUserSeenMessage(c("SimpleNUXMessageTypes").AD_CANVAS_WEB_PARSING_PREVIEW_BUTTON_NUX);if(n&&l.showNux)return;this.$AdsCanvasLandingPageReplacementCheckboxStore2=l.showNux;this.__emitChange();break}};j.prototype.$AdsCanvasLandingPageReplacementCheckboxStore3=function(k){var l=this.$AdsCanvasLandingPageReplacementCheckboxStore1.get(k);return l===undefined?false:l};j.prototype.getShowFinishingNux=function(){return this.$AdsCanvasLandingPageReplacementCheckboxStore2};j.prototype.getCheckValue=function(k){if(k.length===0)return c("AdsEmptyValue").create([]);var l=false,m=[this.$AdsCanvasLandingPageReplacementCheckboxStore3(k[0])];for(var n=0;n<k.length-1;n++){if(this.$AdsCanvasLandingPageReplacementCheckboxStore3(k[n])!==this.$AdsCanvasLandingPageReplacementCheckboxStore3(k[n+1]))l=true;m.push(this.$AdsCanvasLandingPageReplacementCheckboxStore3(k[n+1]))}return l?c("AdsMixedValue").create(m):c("AdsUniformValue").create(m)};f.exports=new j(c("AdsDataAtom"))}),null);
__d("AdsInterfacesStoreQE",["AdsQEStore","adsGKCheck"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={_getQEParamBool:function i(j,k){return j&&j.isDone()&&j.hasValue()&&j.getValueEnforcing().getParamBool(k)},getQeParamBoolFromCurrentUser:function i(j,k,l){__p&&__p();var m=c("AdsQEStore").getForCurrentUser(j);if(m&&m.isDone()&&m.hasValue()){m=m.getValueEnforcing();if(!m.in_experiment)return false;else if(l&&l.logExposure)m.maybeLogExposure();return m.getParamBool(k)}return false},isReportBuilder:function i(){var j=c("AdsQEStore").getForCurrentUser("ads_report_builder_m1");return h._getQEParamBool(j,"is_report_builder")},isShowingCreativeOverviewM1:function i(j){return c("adsGKCheck")("ads_reporting_creative_overview_launch_m1")},allowExportComparison:function i(j){return h.getQeParamBoolFromCurrentUser("ads_date_benchmark_export","show",j)}};f.exports=h}),null);
__d("AdsUnpublishedCanvasCloseConfirmDialog.react",["cx","fbt","LayerFadeOnHide","LayerHideOnEscape","React","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogButton.react","XUIDialogTitle.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$AdsUnpublishedCanvasCloseConfirmDialog1=function(){if(this.props.onCloseReset)this.props.onCloseReset();this.props.onConfirm()}.bind(this),o}m.prototype.render=function(){return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerHideOnEscape:c("LayerHideOnEscape"),LayerFadeOnHide:c("LayerFadeOnHide")},shown:true,width:450},c("React").createElement(c("XUIDialogTitle.react"),{showCloseButton:true},i._("Unpublished Canvas")),c("React").createElement(c("XUIDialogBody.react"),null,i._("You won't be able to use this Canvas in an ad until you publish it. You can still access a saved draft in Pages -> Publishing Tools -> Canvas. Do you want to close this draft without publishing it?")),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",label:i._("Cancel"),onClick:this.props.onCancel}),c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",className:"_4jy1",label:i._("Confirm"),onClick:this.$AdsUnpublishedCanvasCloseConfirmDialog1})))};m.propTypes={onCancel:l.func.isRequired,onCloseReset:l.func,onConfirm:l.func.isRequired};f.exports=m}),null);
__d("AdsCanvasButtonsContainer.react",["cx","AdsAccountStore","AdsCanvasAssetParsingEducationConstants","AdsCanvasButtons.react","AdsCanvasCloseUnsavedCanvasDialogContainer.react","AdsCanvasComposerDialogStore","AdsCanvasEditorEnums","AdsCanvasEditorFunnelLogging","AdsCanvasInlineBuilderActions","AdsCanvasLandingPageReplacementCheckboxActions","AdsCanvasLandingPageReplacementCheckboxStore","AdsCanvasShowCloseUnsavedCanvasDialogDataAction","AdsFluxContainer","AdsInterfacesStoreQE","AdsQEStore","AdsUnpublishedCanvasCloseConfirmDialog.react","BootloadOnRender.react","CanvasCreationEvent","CanvasCreationWaterfallTypedLogger","DOM","JSResource","LazyComponent.react","React","ReactDOM","RichMediaEditorActions","RichMediaEditorStore","RichMediaLoggingStoreUtils","SimpleNUXMessage","SimpleNUXMessageTypes","XUIAmbientNUX.react","XUIText.react","emptyFunction"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("AdsCanvasAssetParsingEducationConstants").ASSET_PARSING_FINISHED_ADS_BLUE_TIP,l=c("AdsCanvasEditorEnums").SaveStateEnum;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$AdsCanvasButtonsContainer6=function(){c("AdsCanvasInlineBuilderActions").inlineAdvancedBuilderBlankOpen();this.props.onClickCreate?this.props.onClickCreate():c("emptyFunction")}.bind(this),this.$AdsCanvasButtonsContainer7=function(s,t,u,v){__p&&__p();if(s&&s.is_published||t===l.SAVED&&!this.props.mustPublish)return true;else if(t===l.SAVED){c("ReactDOM").render(c("React").createElement(c("AdsUnpublishedCanvasCloseConfirmDialog.react"),{onCancel:c("emptyFunction"),onCloseReset:u,onConfirm:this.$AdsCanvasButtonsContainer8}),c("DOM").create("div"));return false}else{c("ReactDOM").render(c("React").createElement(c("AdsCanvasCloseUnsavedCanvasDialogContainer.react"),{onCancel:c("emptyFunction"),onConfirm:this.$AdsCanvasButtonsContainer8}),c("DOM").create("div"));c("AdsCanvasShowCloseUnsavedCanvasDialogDataAction").dispatch({showDialog:true});return false}}.bind(this),this.$AdsCanvasButtonsContainer5=function(s){c("AdsCanvasEditorFunnelLogging").startFunnel();c("AdsCanvasEditorFunnelLogging").logGKExposures(this.props.extraGKsToLog);c("RichMediaEditorActions").setDialogShown(s,true)}.bind(this),this.$AdsCanvasButtonsContainer8=function(){c("AdsCanvasEditorFunnelLogging").endFunnel();c("RichMediaLoggingStoreUtils").logRichMediaCreationEventWithLogger(new(c("CanvasCreationWaterfallTypedLogger"))().setEventName(c("CanvasCreationEvent").EDITOR_EXIT));c("RichMediaEditorActions").setDialogShown(this.state.dialogID,false)}.bind(this),this.$AdsCanvasButtonsContainer10=function(s,t){c("RichMediaEditorActions").setDialogShown(s,t);if(t){c("AdsCanvasEditorFunnelLogging").startFunnel();c("AdsCanvasEditorFunnelLogging").logGKExposures(this.props.extraGKsToLog)}else{c("AdsCanvasEditorFunnelLogging").endFunnel();c("RichMediaLoggingStoreUtils").logRichMediaCreationEventWithLogger(new(c("CanvasCreationWaterfallTypedLogger"))().setEventName(c("CanvasCreationEvent").EDITOR_EXIT))}}.bind(this),o}m.getStores=function(){return[c("AdsAccountStore"),c("AdsCanvasComposerDialogStore"),c("AdsCanvasLandingPageReplacementCheckboxStore"),c("AdsQEStore"),c("RichMediaEditorStore")]};m.calculateState=function(n,o){var p=c("AdsCanvasComposerDialogStore").getDialogShown("newCanvasDialog"),q=o.canvasID?c("AdsCanvasComposerDialogStore").getDialogShown(o.canvasID):false,r=q||p,s=o.canvasID&&q?o.canvasID:"newCanvasDialog",t=s!=="newCanvasDialog"?o.canvas:null,u=c("AdsAccountStore").getSelectedAccountID(),v=c("AdsInterfacesStoreQE").getQeParamBoolFromCurrentUser("ig_canvas_builder_instagram_toggle_default_on","is_enabled",{logExposure:true}),w=!!o.someHaveInstagramPlacement&&v;return{adAccountID:u,canvas:t,dialogID:s,dialogShown:r,editState:c("RichMediaEditorStore").getDocumentEditState(),showFinishingNux:c("AdsCanvasLandingPageReplacementCheckboxStore").getShowFinishingNux(),someHaveInstagramPlacement:w}};m.prototype.render=function(){return c("React").createElement("div",null,this.$AdsCanvasButtonsContainer1(),this.$AdsCanvasButtonsContainer2(),this.$AdsCanvasButtonsContainer3())};m.prototype.$AdsCanvasButtonsContainer1=function(){return c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.previewButton}.bind(this),key:"ambientNUX",position:"above",shown:this.state.showFinishingNux,onCloseButtonClick:this.$AdsCanvasButtonsContainer4},c("React").createElement(c("XUIText.react"),{className:"_4jal _27_o",weight:"bold"},k.title),c("React").createElement(c("XUIText.react"),{className:"_4jal _4jam"},k.content))};m.prototype.$AdsCanvasButtonsContainer2=function(){return c("React").createElement(c("AdsCanvasButtons.react"),{adAccountID:this.state.adAccountID,canvas:this.props.canvas,canvasRenderingMode:this.props.canvasRenderingMode,disabled:!!this.props.disabled,pageID:this.props.pageID,ref:"previewButton",source:this.props.source,onClick:this.$AdsCanvasButtonsContainer5,onClickCreate:this.$AdsCanvasButtonsContainer6,onClickPreview:this.props.onClickPreview||c("emptyFunction")})};m.prototype.$AdsCanvasButtonsContainer3=function(){return c("React").createElement(c("BootloadOnRender.react"),{component:c("React").createElement(c("LazyComponent.react"),{accessToken:this.props.accessToken,businessID:this.props.businessID,canvas:this.state.canvas,canvasCapabilityConfig:this.props.canvasCapabilityConfig,dialogID:this.state.dialogID,dialogShown:this.state.dialogShown,editState:this.state.editState,extraGKsToLog:this.props.extraGKsToLog,mustPublish:this.props.mustPublish,pageID:this.props.pageID,someHaveInstagramPlacement:this.state.someHaveInstagramPlacement,source:this.props.source,onBeforeHideDialog:this.$AdsCanvasButtonsContainer7,onCloseReset:this.props.onCloseReset,onConfirmClose:this.$AdsCanvasButtonsContainer8,onDuplicateReload:this.props.onDuplicateReload,onReloadCanvas:this.$AdsCanvasButtonsContainer9,onSaveCanvasSuccess:this.props.onSaveCanvasSuccess,onToggle:this.$AdsCanvasButtonsContainer10}),loader:c("JSResource")("AdsCanvasComposerDialog.react").__setRef("AdsCanvasButtonsContainer.react"),placeholder:c("React").createElement("span",null)})};m.prototype.$AdsCanvasButtonsContainer4=function(){c("SimpleNUXMessage").markMessageSeenByUser(c("SimpleNUXMessageTypes").AD_CANVAS_WEB_PARSING_PREVIEW_BUTTON_NUX);c("AdsCanvasLandingPageReplacementCheckboxActions").showFinishingNux(false)};m.prototype.$AdsCanvasButtonsContainer9=function(n,o){c("RichMediaEditorActions").setDialogCanvas(o.id,o);if(n!==o.id){c("RichMediaEditorActions").setDialogShown(n,false);c("RichMediaEditorActions").setDialogShown(o.id,true)}};f.exports=c("AdsFluxContainer").create(m,{withProps:true,name:f.id})}),null);
__d("AdsCanvasLabel.react",["fbt","AdsCanvasConstants","AdsLabeledField.react","Link.react","React","emptyFunction"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l)}k.prototype.render=function(){var l=this.props.hideLearnMore?"":c("React").createElement(c("Link.react"),{href:c("AdsCanvasConstants").CANVAS_LEARN_MORE_LINK,target:"_blank",onClick:this.props.onClickLearnMore||c("emptyFunction")},h._("Learn more"),"."),m=h._("Canvas is a full-screen experience that opens in mobile when people click your ad. {=Learn more}{supplement}",[h.param("=Learn more",l),h.param("supplement",this.props.supplement?this.props.supplement:"")]);return c("React").createElement(c("AdsLabeledField.react"),{helpText:m,label:h._("Canvas")})};f.exports=k}),null);
__d("AdsCanvasTypeaheadDataManager",["AdsCanvasConstants","AdsCanvasTypeaheadActions","AdsGraphAPI","CanvasDataUtils","GraphSort"],(function a(b,c,d,e,f,g){"use strict";h.prototype.searchCanvasDoc=function(i,j,k,l){c("AdsGraphAPI").get(f.id).object("page",j).edge("rich_media_documents").get({access_token:i,fields:c("CanvasDataUtils").getFieldsForPagesCanvasList(),filtering:k.toAPI(),limit:c("AdsCanvasConstants").TYPE_AHEAD_LIMIT,sort:"name"+c("GraphSort").DESC,summary:true}).done(function(m){c("AdsCanvasTypeaheadActions").docNameResultsLoaded(j,k,m.data,l)},function(m){return c("AdsCanvasTypeaheadActions").docNameLoadError(j,k,m)})};function h(){}f.exports=new h()}),null);
__d("AdsCanvasTypeaheadStore",["AdsCanvasBuilderDispatcher","AdsCanvasTypeaheadActionTypes","AdsCanvasTypeaheadDataManager","AdsCanvasTypeaheadSearchableEntry","AdsGenericFilter","AdsGenericFilterField","AdsGenericFilterFieldType","AdsGenericFilterOperator","AdsGenericFilterSet","FluxStore","LFUCache","LoadObject"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=new(c("AdsGenericFilterField"))("name",c("AdsGenericFilterFieldType").STRING);h=babelHelpers.inherits(k,c("FluxStore"));i=h&&h.prototype;function k(l){i.constructor.call(this,l);this.$AdsCanvasTypeaheadStore1=new(c("LFUCache"))()}k.prototype.__onDispatch=function(l){switch(l.type){case c("AdsCanvasTypeaheadActionTypes").DOC_NAME.LOADED:return this.__handleResultsLoaded(l.pageID,l.filter,l.results,function(m){return c("AdsCanvasTypeaheadSearchableEntry").createForCanvasDoc(m)});case c("AdsCanvasTypeaheadActionTypes").DOC_NAME.LOAD_ERROR:return this.__handleError(l.pageID,l.filter,l.error);case c("AdsCanvasTypeaheadActionTypes").REFRESH_TYPEAHEAD:return this.$AdsCanvasTypeaheadStore2(l.pageID)}};k.prototype.searchDocByName=function(l,m,n,o){var p=new(c("AdsGenericFilterSet"))([new(c("AdsGenericFilter"))(j,c("AdsGenericFilterOperator").CONTAIN,l||"")]),q=this.$AdsCanvasTypeaheadStore3(m,p),r=this.$AdsCanvasTypeaheadStore1.get(q);if(!r){r=c("LoadObject").loading();this.$AdsCanvasTypeaheadStore1.set(q,r);c("AdsCanvasTypeaheadDataManager").searchCanvasDoc(n,m,p,o)}return r};k.prototype.__handleError=function(l,m,n){var o=this.$AdsCanvasTypeaheadStore3(l,m);this.$AdsCanvasTypeaheadStore1.set(o,c("LoadObject").empty().setError(n))};k.prototype.__handleResultsLoaded=function(l,m,n,o){var p=this.$AdsCanvasTypeaheadStore3(l,m),q=n.map(o,this);this.$AdsCanvasTypeaheadStore1.set(p,c("LoadObject").empty().setValue(q));this.__emitChange()};k.prototype.$AdsCanvasTypeaheadStore2=function(l){var m=new(c("AdsGenericFilterSet"))([new(c("AdsGenericFilter"))(j,c("AdsGenericFilterOperator").CONTAIN,"")]),n=this.$AdsCanvasTypeaheadStore3(l,m),o=this.$AdsCanvasTypeaheadStore1.get(n);if(o)this.$AdsCanvasTypeaheadStore1.set(n,null)};k.prototype.$AdsCanvasTypeaheadStore3=function(l,m){return l+"-"+m.toString()};f.exports=new k(c("AdsCanvasBuilderDispatcher"))}),null);
__d("AdsCanvasSearchSource",["AdsCanvasSearchSourceFilter","AdsCanvasTypeaheadStore","AdsFluxStoreSearchSource"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("AdsFluxStoreSearchSource"));i=h&&h.prototype;function j(k){var l=babelHelpers["extends"]({},c("AdsCanvasSearchSourceFilter").searchFilterDefaults,k.searchFilters),m=babelHelpers["extends"]({getAllForEmptyQuery:true},k,{queryRequests:[{store:c("AdsCanvasTypeaheadStore"),getData:function n(o){return c("AdsCanvasTypeaheadStore").searchDocByName(o,k.pageID,k.accessToken,l)}}]});i.constructor.call(this,m)}f.exports=j}),null);
__d("AdsCanvasTypeahead.react",["cx","fbt","AdsCanvasAdvancedRendering","AdsCanvasButtonsContainer.react","AdsCanvasInlineBuilderActions","AdsCanvasLabel.react","AdsCanvasWebdriverIDs","ContextualLayerHideOnScrollOut","ContextualLayerUpdateOnScroll","Grid.react","React","SUISearchableSelector.react","XUITypeahead.react","XUITypeaheadView.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("Grid.react").GridItem;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(n){__p&&__p();k.constructor.call(this,n);this.$AdsCanvasTypeahead9=function(event){this.props.onQueryChange&&this.props.onQueryChange();this.setState({queryString:event.target.value})}.bind(this);this.$AdsCanvasTypeahead13=function(o){this.props.onQueryChange&&this.props.onQueryChange();this.setState({queryString:o})}.bind(this);this.$AdsCanvasTypeahead8=function(){this.$AdsCanvasTypeahead2(this.props.selectedEntry)}.bind(this);this.$AdsCanvasTypeahead10=function(){var o=this.props.selectedEntry;this.setState({queryString:o?o.getTitle():""})}.bind(this);this.$AdsCanvasTypeahead11=function(o){this.props.onEntrySelect(o);this.setState({queryString:o.getTitle()})}.bind(this);this.state={queryString:this.$AdsCanvasTypeahead1(n.selectedEntry)}}m.prototype.componentWillReceiveProps=function(n){if(n.selectedEntry!==this.props.selectedEntry)this.$AdsCanvasTypeahead2(n.selectedEntry)};m.prototype.render=function(){if(this.props.canvasRenderingMode)return this.$AdsCanvasTypeahead3();var n=this.props.shouldUseSearchableCanvasTypeahead?this.$AdsCanvasTypeahead4():this.$AdsCanvasTypeahead5(),o=this.props.shouldHideCanvasCreateButton?c("React").createElement("div",{className:"_39gc"},n):c("React").createElement(c("Grid.react"),{className:"_39gb",cols:2},c("React").createElement(l,{className:"_39gc"},n),c("React").createElement(l,null,this.$AdsCanvasTypeahead3()));return c("React").createElement("div",{"data-testid":c("AdsCanvasWebdriverIDs").ADS_CANVAS_TYPEAHEAD},this.$AdsCanvasTypeahead6(),o)};m.prototype.$AdsCanvasTypeahead5=function(){return c("React").createElement(c("XUITypeahead.react"),{autoHighlight:this.$AdsCanvasTypeahead7(),className:!!this.props.disabled?"_4i0b":"",disabled:this.props.disabled,focusedOnInit:this.props.focusedOnInit,placeholder:this.props.placeholder,presenter:{ViewRenderer:c("XUITypeaheadView.react"),useLayer:true,layerBehaviors:{ContextualLayerHideOnScrollOut:c("ContextualLayerHideOnScrollOut"),ContextualLayerUpdateOnScroll:c("ContextualLayerUpdateOnScroll")}},queryString:this.state.queryString,ref:"typeahead",searchSource:this.props.searchSource,showEntriesOnFocus:true,tallInput:true,textInputDataTestID:c("AdsCanvasWebdriverIDs").ADS_CANVAS_TYPEAHEAD_INPUT,xuiError:this.props.error,xuiErrorPosition:"above",onBlur:this.$AdsCanvasTypeahead8,onChange:this.$AdsCanvasTypeahead9,onFocus:this.$AdsCanvasTypeahead10,onSelectAttempt:this.$AdsCanvasTypeahead11})};m.prototype.$AdsCanvasTypeahead4=function(){return c("React").createElement(c("SUISearchableSelector.react"),{dropdownWidth:"auto",emptySearchResultsContent:i._("No matching results"),isDisabled:this.props.disabled,placeholder:this.props.placeholder,ref:"typeahead",searchSource:this.props.searchSource,value:this.props.selectedEntry,width:180,onChange:this.$AdsCanvasTypeahead11,onOpened:this.$AdsCanvasTypeahead12,onQueryChange:this.$AdsCanvasTypeahead13})};m.prototype.$AdsCanvasTypeahead3=function(){if(this.props.shouldHideCanvasCreateButton&&this.props.canvasRenderingMode!==c("AdsCanvasAdvancedRendering").DROPDOWN)return null;return c("React").createElement(c("AdsCanvasButtonsContainer.react"),{accessToken:this.props.accessToken,businessID:this.props.businessID,canvas:this.props.canvas,canvasCapabilityConfig:this.props.canvasCapabilityConfig,canvasID:this.props.canvasID,canvasRenderingMode:this.props.canvasRenderingMode,disabled:this.props.disabled,extraGKsToLog:this.props.extraGKsToLog,mustPublish:this.props.mustPublish,pageID:this.props.pageID,someHaveInstagramPlacement:this.props.someHaveInstagramPlacement,source:this.props.source,onClickCreate:this.props.onClickCreate,onClickPreview:this.props.onClickPreview,onCloseReset:this.props.onCloseReset,onDuplicateReload:this.props.onDuplicateReload,onSaveCanvasSuccess:this.props.onSaveCanvasSuccess})};m.prototype.$AdsCanvasTypeahead6=function(){if(this.props.hideHelpText)return null;return c("React").createElement(c("AdsCanvasLabel.react"),{supplement:this.props.labelSupplement,onClickLearnMore:this.props.onClickLearnMore})};m.prototype.$AdsCanvasTypeahead7=function(){return!!this.state.queryString};m.prototype.$AdsCanvasTypeahead12=function(){c("AdsCanvasInlineBuilderActions").inlineDropdownUseExistingSelect()};m.prototype.$AdsCanvasTypeahead1=function(n){return n?n.getTitle():""};m.prototype.$AdsCanvasTypeahead2=function(n){this.setState({queryString:this.$AdsCanvasTypeahead1(n)})};f.exports=m}),null);
__d("BOFSellerLogger",["BanzaiLogger","Event"],(function a(b,c,d,e,f,g){"use strict";var h="BOFSellerLoggerConfig",i={log:function j(k,l,m){m.event=k;m.seller_profile_id=l;c("BanzaiLogger").log(h,m)},initClickListener:function j(k,l,m,n){c("Event").listen(k,"click",function(){return this.log(l,m,n)}.bind(this))}};f.exports=i}),null);
__d("AutoPager.react",["DOM","Event","OnVisible","Parent","React","ReactDOM","SubscriptionsHandler","throttle"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(){__p&&__p();var l,m;"use strict";for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.getViewportListener=function(){if(!this.onEnterViewportListener)this.onEnterViewportListener=new(c("OnVisible"))(c("ReactDOM").findDOMNode(this),function(){return this.props.onVisible()}.bind(this),false,this.props.onEnterBuffer,false,this.scrollableArea);return this.onEnterViewportListener}.bind(this),this.onScroll=function(){this.getViewportListener().reset()}.bind(this),m}k.prototype.componentDidMount=function(){"use strict";if(this.props.scrollableAreaClass){this.scrollableArea=c("Parent").byClass(c("ReactDOM").findDOMNode(this),this.props.scrollableAreaClass);var l=c("DOM").find(this.scrollableArea,".uiScrollableAreaWrap")}else l=window;this.subscriptions=new(c("SubscriptionsHandler"))();this.subscriptions.addSubscriptions(c("Event").listen(l,"scroll",c("throttle")(this.onScroll,100)))};k.prototype.componentWillUnmount=function(){"use strict";this.getViewportListener().remove();this.subscriptions.release()};k.prototype.render=function(){"use strict";return c("React").createElement("div",{className:this.props.className})};k.propTypes={className:j.string,onEnterBuffer:j.number.isRequired,onVisible:j.func.isRequired,scrollableAreaClass:j.string};f.exports=k}),null);
__d("AsyncUploadQueue",["AsyncUploadBase"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AsyncUploadBase"));i=h&&h.prototype;function j(k){"use strict";i.constructor.call(this,k);this._pending=[];this._waiting=[]}j.prototype.enqueue=function(k,l,m){"use strict";return this._add(this._waiting.push.bind(this._waiting),k,l,m)};j.prototype.prepend=function(k,l,m){"use strict";return this._add(this._waiting.unshift.bind(this._waiting),k,l,m)};j.prototype._add=function(k,l,m,n){"use strict";var o=babelHelpers["extends"]({},this._data,n),p=this._createFileUpload(l,m,o);k(p);this._processQueue();return p};j.prototype.dequeue=function(k){"use strict";this._abort(k)};f.exports=j}),null);
__d("Waiter",[],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this.$Waiter1=i;this.$Waiter2=0;this.$Waiter3=false}h.prototype.wait=function(i){"use strict";__p&&__p();var j=this,k=false;this.$Waiter4();return function(){if(k)return;for(var l=arguments.length,m=Array(l),n=0;n<l;n++)m[n]=arguments[n];i&&i.apply(this,m);j.$Waiter5();k=true}};h.prototype.go=function(){"use strict";this.$Waiter3=true;this.$Waiter6();return this};h.prototype.$Waiter4=function(){"use strict";this.$Waiter2++};h.prototype.$Waiter6=function(){"use strict";if(!this.$Waiter2&&this.$Waiter3)this.$Waiter1()};h.prototype.$Waiter5=function(){"use strict";this.$Waiter2--;this.$Waiter6()};f.exports=h}),null);
__d("ComputerPanelActionState",["keyMirror"],(function a(b,c,d,e,f,g){var h=c("keyMirror")({NEUTRAL:null,DROP:null});f.exports=h}),null);
__d("DragDropFilePicker",["DragDropTarget","mixin","ArbiterMixin","FilePickerEvent","FileSelectionContainer","createArrayFromMixed","SelectionSource"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function j(k,l){"use strict";__p&&__p();i.constructor.call(this);this.$DragDropFilePicker1=new(c("DragDropTarget"))(k);if(l.onDocumentDragEnterCallback)this.$DragDropFilePicker1.setOnDocumentDragEnterCallback(l.onDocumentDragEnterCallback);if(l.onDocumentDragLeaveCallback)this.$DragDropFilePicker1.setOnDocumentDragLeaveCallback(l.onDocumentDragLeaveCallback);if(l.onDragEnterCallback)this.$DragDropFilePicker1.setOnDragEnterCallback(l.onDragEnterCallback);if(l.onDragLeaveCallback)this.$DragDropFilePicker1.setOnDragLeaveCallback(l.onDragLeaveCallback);this.$DragDropFilePicker1.setOnFilesDropCallback(function(m){var n=c("createArrayFromMixed")(m).filter(function(o){return!l.isFileValid||l.isFileValid(o)}).map(function(o){return new(c("FileSelectionContainer"))(o)});if(n.length>0)this.inform(c("FilePickerEvent").SELECTED,{sender:this,source:c("SelectionSource").FILE,selections:n});else l.onDocumentDragLeaveCallback.call(null)}.bind(this));this.$DragDropFilePicker1.enable()}j.prototype.disable=function(){"use strict";this.$DragDropFilePicker1.disable()};f.exports=j}),null);
__d("PUWUploaders",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({HTML5:"html5",FLASH:"flash"})}),null);
__d("OmnipickerHTML5FilePickerFactory",["fbt","HTML5FilePicker","PUWApplications","PUWMethods","PUWUploaders"],(function a(b,c,d,e,f,g,h){var i={create:function j(k){return new(c("HTML5FilePicker"))(k,{accept:"image/*",fallbackFunction:function l(){},multiple:true,qn:"todo",waterfallApp:c("PUWApplications").WEB_OMNIPICKER,waterfallUploader:c("PUWUploaders").HTML5,waterfallMethod:c("PUWMethods").FILE_SELECTOR,title:h._("Choose files to upload")})}};f.exports=i}),null);
__d("OmnipickerDispatcher",["Dispatcher_DEPRECATED"],(function a(b,c,d,e,f,g){"use strict";f.exports=new(c("Dispatcher_DEPRECATED"))()}),null);
__d("OmnipickerActions",["OmnipickerDispatcher","clamp","keyMirror"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("keyMirror")({APP_INITIALIZED:null,FILE_PICKER_SELECT_STARTED:null,FILE_PICKER_SELECTED:null,FILE_PICKER_SELECT_CANCELED:null,EXISTING_PHOTOS_FETCHED:null,PANEL_INITIALIZED:null,PHOTO_SELECTED_OPTIMISTICALLY:null,PHOTO_SOURCE_SELECTED:null,RESIZE_FAILED:null,RESIZE_STARTED:null,RESIZE_SUCCEEDED:null,SELECTION_CHANGED:null,UPLOAD_CANCELED:null,UPLOAD_FAILED:null,UPLOAD_FINISHED:null,UPLOAD_PROGRESSED:null,UPLOAD_QUEUED:null,UPLOAD_STARTED:null}),i={types:h,appInitialized:function j(k,l,m){c("OmnipickerDispatcher").dispatch({type:h.APP_INITIALIZED,appID:k,logger:l,initialSource:m})},panelInitialized:function j(k,l){c("OmnipickerDispatcher").dispatch({type:h.PANEL_INITIALIZED,appID:k,source:l})},photoSourceSelected:function j(k,l){c("OmnipickerDispatcher").dispatch({type:h.PHOTO_SOURCE_SELECTED,appID:k,source:l})},filePickerSelectStarted:function j(k,l,m){c("OmnipickerDispatcher").dispatch({type:h.FILE_PICKER_SELECT_STARTED,appID:k,method:l,ref:m})},filePickerSelected:function j(k,l,m){c("OmnipickerDispatcher").dispatch({type:h.FILE_PICKER_SELECTED,appID:k,method:l,ref:m})},filePickerSelectCancelled:function j(k,l,m){c("OmnipickerDispatcher").dispatch({type:h.FILE_PICKER_SELECT_CANCELED,appID:k,method:l,ref:m})},resizeFailed:function j(k,l,m,n){c("OmnipickerDispatcher").dispatch({type:h.RESIZE_FAILED,appID:k,dt:l,bytes:m,errorCode:n})},resizeStarted:function j(k){c("OmnipickerDispatcher").dispatch({type:h.RESIZE_STARTED,appID:k})},resizeSucceeded:function j(k,l,m,n,o){c("OmnipickerDispatcher").dispatch({type:h.RESIZE_SUCCEEDED,appID:k,dt:l,bytes:m,originalSize:n,customTags:o})},uploadQueued:function j(k,l,m){c("OmnipickerDispatcher").dispatch({type:h.UPLOAD_QUEUED,appID:k,source:l,ids:m.map(function(n){return n.getSelectionContainerID()}),volume:m.length})},selectionChanged:function j(k,l,m,n){c("OmnipickerDispatcher").dispatch({type:h.SELECTION_CHANGED,appID:k,source:l,id:m,checked:n})},uploadStart:function j(k,l,m,n){c("OmnipickerDispatcher").dispatch({type:h.UPLOAD_STARTED,appID:k,source:l,id:m,bytes:n})},uploadProgress:function j(k,l,m,n){var o=c("clamp")(n.bytesTransferred/n.file.size*100,0,100);c("OmnipickerDispatcher").dispatch({type:h.UPLOAD_PROGRESSED,appID:k,source:l,id:m,progress:o})},uploadDone:function j(k,l,m,n,o,p){c("OmnipickerDispatcher").dispatch({type:h.UPLOAD_FINISHED,appID:k,source:l,id:m,src:n,fbid:o,retriesNeeded:p})},uploadFailed:function j(k,l,m,n,o){c("OmnipickerDispatcher").dispatch({type:h.UPLOAD_FAILED,appID:k,source:l,id:m,retriesNeeded:n,errorCode:o})},existingPhotosFetched:function j(k,l,m){c("OmnipickerDispatcher").dispatch({type:h.EXISTING_PHOTOS_FETCHED,appID:k,photos:m.map(function(n){return{source:l,id:n.id,src:n.image.uri}})})},optimisticSelect:function j(k,l,m){c("OmnipickerDispatcher").dispatch({type:h.PHOTO_SELECTED_OPTIMISTICALLY,appID:k,source:l,id:m})},cancelUpload:function j(k,l,m){c("OmnipickerDispatcher").dispatch({type:h.UPLOAD_CANCELED,appID:k,source:l,id:m})}};f.exports=i}),null);
__d("OmnipickerUploadController",["OmnipickerActions","SelectionSource"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.$OmnipickerUploadController1={}}h.prototype.registerOmnipicker=function(i){this.$OmnipickerUploadController1[i]={}};h.prototype.registerAdapter=function(i,j,k){__p&&__p();this.$OmnipickerUploadController1[i][k]=j;var l=c("SelectionSource").toPhotoSourceType(k);j.subscribe("maxReached",function(){});j.subscribe("resize_start",this.$OmnipickerUploadController2.bind(this,i));j.subscribe("resize_done",this.$OmnipickerUploadController3.bind(this,i));j.subscribe("resize_hires_start",function(){});j.subscribe("upload_start",this.$OmnipickerUploadController4.bind(this,i,l));j.subscribe("upload_progress",this.$OmnipickerUploadController5.bind(this,i,l));j.subscribe("upload_done",this.$OmnipickerUploadController6.bind(this,i,l));j.subscribe("upload_failed",this.$OmnipickerUploadController7.bind(this,i,l));j.subscribe("finished",function(){})};h.prototype.uploadSelections=function(i,j,k,l){__p&&__p();if(!k.every(function(o){return o.getSource()==j}))throw new Error("Selections' source must be "+j);var m=this.$OmnipickerUploadController1[i][j],n=c("SelectionSource").toPhotoSourceType(j);if(!m){k.forEach(function(o){var p=o.getExistingImageID(),q=o.getSrc();c("OmnipickerActions").uploadDone(i,n,p,q,p,0)});return}if(!k[0].hasPlaceholderUI())c("OmnipickerActions").uploadQueued(i,n,k);m.uploadSelections(k,l)};h.prototype.cancelUpload=function(i,j,k){c("OmnipickerActions").cancelUpload(i,j,k)};h.prototype.$OmnipickerUploadController2=function(i,event,j){c("OmnipickerActions").resizeStarted(i)};h.prototype.$OmnipickerUploadController3=function(i,event,j){var k=j.scubaData.scuba_ints,l=k.timeResizing||k.dt,m=k.resizedSize;if(j.error)c("OmnipickerActions").resizeFailed(i,l,m,j.error.message);else c("OmnipickerActions").resizeSucceeded(i,l,m,k.originalSize,{skipped_resizing:j.scubaData.scuba_tags.skippedResizing})};h.prototype.$OmnipickerUploadController4=function(i,j,event,k){c("OmnipickerActions").uploadStart(i,j,k.uploadID,k.size)};h.prototype.$OmnipickerUploadController5=function(i,j,event,k){c("OmnipickerActions").uploadProgress(i,j,k.uploadID,k)};h.prototype.$OmnipickerUploadController6=function(i,j,event,k){c("OmnipickerActions").uploadDone(i,j,k.uploadID,k.response.src,k.response.fbid,k.retriesNeeded)};h.prototype.$OmnipickerUploadController7=function(i,j,event,k){c("OmnipickerActions").uploadFailed(i,j,k.uploadID,k.retriesNeeded,k.response_error)};f.exports=new h()}),null);
__d("OmnipickerUploadSession",["FilePickerEvent","OmnipickerActions","OmnipickerUploadController","PhotoSourceTypes","SubscriptionsHandler"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.$OmnipickerUploadSession1={}}h.prototype.registerOmnipicker=function(i){this.$OmnipickerUploadSession1[i]={pickersData:[]}};h.prototype.addPicker=function(i,j,k,l){__p&&__p();var m=new(c("SubscriptionsHandler"))();m.addSubscriptions(j.subscribe(c("FilePickerEvent").SELECT_START,function(n,o){c("OmnipickerActions").filePickerSelectStarted(i,l,k)}),j.subscribe(c("FilePickerEvent").SELECTED,function(n,o){if(o.selections&&o.selections.length>0){c("OmnipickerActions").filePickerSelected(i,l,k);var p=o.selections[0].getSource();c("OmnipickerUploadController").uploadSelections(i,p,o.selections)}}),j.subscribe(c("FilePickerEvent").SELECT_CANCELED,function(n,o){c("OmnipickerActions").filePickerSelectCancelled(i,l,k)}));this.$OmnipickerUploadSession1[i].pickersData.push({picker:j,subscriptions:m})};h.prototype.removePicker=function(i,j){var k=this.$OmnipickerUploadSession1[i].pickersData;k.forEach(function(l,m){if(l.picker===j){l.subscriptions.release();k.splice(m,1)}})};h.prototype.cancelUpload=function(i,j,k){if(j!==c("PhotoSourceTypes").COMPUTER)throw new Error("Can only cancel "+c("PhotoSourceTypes").COMPUTER+" uploads. Actual source: "+j);c("OmnipickerUploadController").cancelUpload(i,j,k)};f.exports=new h()}),null);
__d("HTML5FilePickerButton.react",["fbt","OmnipickerHTML5FilePickerFactory","OmnipickerUploadSession","React","ReactDOM","PhotoSourceTypes","PUWMethods","XUIButton.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.componentDidMount=function(){"use strict";this.picker=c("OmnipickerHTML5FilePickerFactory").create(c("ReactDOM").findDOMNode(this.refs.fileButton));c("OmnipickerUploadSession").addPicker(this.props.appID,this.picker,c("PhotoSourceTypes").COMPUTER,c("PUWMethods").FILE_SELECTOR)};l.prototype.componentWillUnmount=function(){"use strict";c("OmnipickerUploadSession").removePicker(this.props.appID,this.picker)};l.prototype.render=function(){"use strict";var m=h._("Select Files");return c("React").createElement(c("XUIButton.react"),{ref:"fileButton",href:"#",size:"xlarge",label:m})};function l(){"use strict";i.apply(this,arguments)}l.propTypes={appID:k.string.isRequired};f.exports=l}),null);
__d("DragDropInstructions.react",["cx","fbt","ComputerPanelActionState","HTML5FilePickerButton.react","React"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.renderInstructions=function(){switch(this.props.actionState){case c("ComputerPanelActionState").DROP:return c("React").createElement("div",null,c("React").createElement("div",{className:"_39ld"},c("React").createElement("div",{className:"_4zwj"})),c("React").createElement("div",{className:"_4zwc"},i._("Drop photos here")));case c("ComputerPanelActionState").NEUTRAL:return c("React").createElement("div",null,c("React").createElement("div",null,c("React").createElement("div",{className:"_39ld"},c("React").createElement("div",{className:"_4zwd"})),c("React").createElement("div",{className:"_4zwc"},i._("Drag photos here"))),c("React").createElement("div",{className:"_4zwi"},c("React").createElement("span",{className:"_4zwe"}),i._("or"),c("React").createElement("span",{className:"_4zwe"})),c("React").createElement("div",{className:"_4zwf"},c("React").createElement(c("HTML5FilePickerButton.react"),{appID:this.props.appID})))}}.bind(this),this.renderOverlay=function(){return c("React").createElement("div",{className:"_4zwg"},c("React").createElement("div",{className:"_4zwh"},this.renderInstructions()))}.bind(this),o}m.prototype.render=function(){"use strict";if(this.props.isOverlay)return this.renderOverlay();return this.renderInstructions()};m.propTypes={actionState:l.oneOf(Object.keys(c("ComputerPanelActionState"))).isRequired,appID:l.string.isRequired,isOverlay:l.bool};f.exports=m}),null);
__d("EmptyPanel.react",["cx","DragDropInstructions.react","React","ComputerPanelActionState"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";var m="_2gyt"+(this.props.actionState===c("ComputerPanelActionState").NEUTRAL?" _2gyu":"")+(this.props.actionState===c("ComputerPanelActionState").DROP?" _2gyw":"");return c("React").createElement("div",{className:m},c("React").createElement("div",{className:"_2gyv"},c("React").createElement(c("DragDropInstructions.react"),{actionState:this.props.actionState,appID:this.props.appID})))};function l(){"use strict";i.apply(this,arguments)}l.propTypes={actionState:k.oneOf(Object.keys(c("ComputerPanelActionState"))).isRequired,appID:k.string.isRequired};f.exports=l}),null);
__d("HTML5UploadAdapter",["AsyncUploadQueue","ArbiterMixin","PhotosUploadWaterfall","PhotosUploadWaterfallErrorCodes","PhotosUploadWaterfallMixin","PhotosMimeType","JpegResizer","SphericalImage","SphericalPhotoConfig","performanceNow","SphericalPhotoUploadHelper","URI"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("SphericalPhotoUploadHelper").shouldResize360;function i(j){__p&&__p();this._config=babelHelpers["extends"]({maxRetries:0,retryTimeout:250,uri:null,qn:null,postParams:{}},j);this._uploads={};this._numProcessing=0;this._activeUploadCount=0;this._uploadQueue=new(c("AsyncUploadQueue"))(this._config.uri);this._uploadQueue.setAllowCrossOrigin(true);this._uploadQueue.setLimit(j.maxParallel);this._uploadQueue.subscribe("start",this._handleStart.bind(this));this._uploadQueue.subscribe("failure",this._handleFailure.bind(this));this._uploadQueue.subscribe("success",this._handleSuccess.bind(this));this._uploadQueue.subscribe("progress",this._handleProgress.bind(this));this._uploadQueue.subscribe("success_after_abort",this._handleCanceledPhotoUploadedAnyway.bind(this));if(c("JpegResizer").isSupported()){this._jpegResizer=new(c("JpegResizer"))(j.maxParallel);if(Object.prototype.hasOwnProperty.call(j,"useHighQuality"))this._jpegResizer.setHighQuality(j.useHighQuality)}this._uploadQueue.setPreprocessHandler(this._resizeUpload.bind(this))}Object.assign(i,{isSupported:function j(){return c("AsyncUploadQueue").isSupported()&&c("JpegResizer").isSupported()},MAX_WIDTH:2048,MAX_HEIGHT:2048});Object.assign(i.prototype,c("ArbiterMixin"),c("PhotosUploadWaterfallMixin"),{getUploaderApp:function j(){return c("PhotosUploadWaterfall").APP_HTML5},getWaterfallID:function j(){return this._config.qn},getWaterfallSource:function j(){return this._config.ref},uploadFiles:function j(k,l){__p&&__p();var m=function(o,p){o.sphericalImage=p;this._enqueueUpload(o,babelHelpers["extends"]({},this._config.postParams,l))}.bind(this),n=function(o){var p=c("performanceNow")(),q=function(s){m(o,s);this.logWaterfallStep(c("PhotosUploadWaterfall").DONE_SPHERICAL_CHECK,{scuba_ints:{dt:c("performanceNow")()-p},projection_type:s.getProjectionType()})}.bind(this),r=function(s){m(o);this.logWaterfallStep(c("PhotosUploadWaterfall").FAIL_SPHERICAL_CHECK,{code:c("PhotosUploadWaterfallErrorCodes").SPHERICAL_CHECK_FAILED,scuba_ints:{dt:c("performanceNow")()-p}})}.bind(this);c("SphericalImage").createFromBlob(o).then(q)["catch"](r).done()}.bind(this);k.forEach(n)},uploadSelections:function j(k,l){var m=k.map(function(n){var o=n.getFile();o.uploadID=n.getSelectionContainerID();return o});this.uploadFiles(m,l)},setHiRes:function j(k){if(Object.prototype.hasOwnProperty.call(this._config,"useHighQuality"))this._jpegResizer&&this._jpegResizer.setHighQuality(k)},setNumSelected:function j(k){},markDeleted:function j(k){},addPostParam:function j(k,l){this._config.postParams=this._config.postParams||{};this._config.postParams[k]=l},cancelIndividualUpload:function j(k){var l=this._getUpload(k);if(l){this._uploadQueue.dequeue(l);this._removeUpload(l)}},cancelAllUploads:function j(){for(var k in this._uploads){var l=this._getUpload(k);this._uploadQueue.dequeue(l);this._removeUpload(l)}},getActiveUploadCount:function j(){return this._activeUploadCount},_getUpload:function j(k){if(k&&this._uploads[k])return this._uploads[k];else return null},_removeUpload:function j(k){if(!this._uploads[k.getFile().uploadID])return;delete this._uploads[k.getFile().uploadID];if(!k.isWaiting())this._activeUploadCount--},_handleStart:function j(k,l){this._activeUploadCount++;this.inform("upload_start",{uploadID:l.getFile().uploadID,retry:!!l.getFile()._retryCount,file:l.getFile(),size:l.getFile().size})},_handleFailure:function j(k,l){var m=Math.pow(2,l.getFile()._retryCount);this._removeUpload(l);if(l.getFile()._retryCount++<this._config.maxRetries){setTimeout(this._enqueueUpload.bind(this,l.getFile(),babelHelpers["extends"]({},this._config.postParams,{retry:l.getFile()._retryCount})),this._config.retryTimeout*m);this.logWaterfallStep(c("PhotosUploadWaterfall").RETRY_UPLOAD,{code:l.getResponse().getError()});this.inform("upload_retry",{uploadID:l.getFile().uploadID,file:l.getFile(),response:l.getResponse(),retry:l.getFile()._retryCount})}else this.inform("upload_failed",{uploadID:l.getFile().uploadID,file:l.getFile(),response:l.getResponse()});return false},_handleSuccess:function j(k,l){this._removeUpload(l);var m=l.getResponse(),n=m.payload;if(n.metadata)n=n.metadata;this.inform("upload_done",{uploadID:l.getFile().uploadID,response:n[0],hiRes:true,retriesNeeded:l.getFile()._retryCount})},_handleProgress:function j(k,l){this.inform("upload_progress",{file:l.getFile(),uploadID:l.getFile().uploadID,bytesTransferred:l.getProgressEvent().loaded})},_resizeUpload:function j(k,l){__p&&__p();var m=k.getFile();if(!c("PhotosMimeType").isJpeg(m.type))return l(k);this.inform("resize_start",{uploadID:m.uploadID,file:m});var n=c("performanceNow")(),o=function(t,u,v){__p&&__p();if(t)this.logWaterfallStep(c("PhotosUploadWaterfall").CLIENT_ERROR,{code:c("PhotosUploadWaterfall").CERROR_RESIZING_FAILED,meta:{message:t.message}});var w=t||v;this.inform("resize_done",{uploadID:m.uploadID,scubaData:{scuba_tags:{skippedResizing:+w},scuba_ints:{timeResizing:c("performanceNow")()-n,originalSize:m.size,resizedSize:u&&u.size}},error:t});if(!w){u.uploadID=m.uploadID;u.name=m.name;k.setFile(u)}l(k)}.bind(this);if(m.sphericalImage&&m.sphericalImage.isSpherical()){var p=m.sphericalImage,q=p.getSize(),r=c("SphericalPhotoConfig").upload_size_limit,s=p.getProjectionType();if(this._jpegResizer&&h(s,q,r))this._jpegResizer.resize360Blob(m,o,function(){},r);else o(false,m,true)}else if(this._jpegResizer)this._jpegResizer.resizeBlob(m,o);else o(false,m,true)},_handleCanceledPhotoUploadedAnyway:function j(k,l){this.inform("canceled_photo_uploaded",l.payload[0].fbid)},_enqueueUpload:function j(k,l){l=babelHelpers["extends"]({},l,{uploader:"html5"});k._retryCount=k._retryCount||0;this._uploads[k.uploadID]=k._retryCount?this._uploadQueue.prepend(k.fileName,k,l):this._uploadQueue.enqueue(k.fileName,k,l)}});f.exports=i}),null);
__d("OmnipickerPanelMixin.react",["PhotoSourceTypes","React"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i={propTypes:{appID:h.string,photoData:h.object,sourceType:h.oneOf(Object.keys(c("PhotoSourceTypes"))),selectionSource:h.string.isRequired}};f.exports=i}),null);
__d("OmnipickerPhotoUploadState",["keyMirror"],(function a(b,c,d,e,f,g){var h=c("keyMirror")({NOT_STARTED:null,UPLOADING:null,DONE:null,FAILED:null});f.exports=h}),null);
__d("OmnipickerPhoto.react",["cx","fbt","Event","Image.react","OmnipickerActions","OmnipickerPhotoUploadState","OmnipickerUploadSession","PhotoSourceTypes","ProgressBar.react","React","ShimButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m=2e4;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={canCancel:false},this.onDragStart=function(event){c("Event").kill(event)},this.onMouseDown=function(){},this.onMouseUp=function(){var t=true;if(!this.props.checked&&this.props.onPhotoSelected)t=this.props.onPhotoSelected.call(null,this.props.id);if(t)c("OmnipickerActions").selectionChanged(this.props.appID,this.props.photoSourceType,this.props.id,!this.props.checked)}.bind(this),this.getImage=function(){if(!this.props.src)return null;return c("React").createElement(c("Image.react"),{src:this.props.src,className:"_2dh3"})}.bind(this),this.getSelection=function(){if(!this.props.checked)return null;return c("React").createElement("div",{className:"_2dh3 _1cyy"})}.bind(this),this.getCancelOverlay=function(){if(this.props.uploadState!==c("OmnipickerPhotoUploadState").UPLOADING||!this.state.canCancel)return null;return c("React").createElement("div",{className:"_5goe"},c("React").createElement(c("ShimButton.react"),{className:"_5gof _1cu0",onClick:this.onCancel},i._("Cancel Upload")))}.bind(this),this.getFailedOverlay=function(){if(this.props.uploadState!==c("OmnipickerPhotoUploadState").FAILED)return null;return c("React").createElement("div",{className:"_5goe"},c("React").createElement("div",{className:"_5gof"},i._("Upload Failed")))}.bind(this),this.getProgressBar=function(){if(!this.props.showUploadProgress||this.props.uploadState!==c("OmnipickerPhotoUploadState").UPLOADING)return null;var t=null;if(this.props.progress<100)t=c("React").createElement(c("ProgressBar.react"),{value:this.props.progress,min:0,max:100});else t=c("React").createElement("div",{className:"_1t2c"});return c("React").createElement("div",{className:"_1cyx"},t)}.bind(this),this.onCancel=function(){c("OmnipickerUploadSession").cancelUpload(this.props.appID,this.props.photoSourceType,this.props.id)}.bind(this),this.setCancelTimeout=function(){this.cancelTimeout=setTimeout(function(){this.setState({canCancel:true})}.bind(this),m)}.bind(this),this.clearCancelTimeout=function(){if(this.cancelTimeout){clearTimeout(this.cancelTimeout);this.cancelTimeout=null}}.bind(this),p}n.prototype.componentDidMount=function(){if(this.props.supportsCancel&&this.props.uploadState===c("OmnipickerPhotoUploadState").UPLOADING)this.setCancelTimeout()};n.prototype.componentWillReceiveProps=function(o){if(this.props.supportsCancel){var p=this.props.uploadState!==o.uploadState||this.props.progress!==o.progress;if(p){this.clearCancelTimeout();if(o.uploadState===c("OmnipickerPhotoUploadState").UPLOADING)this.setCancelTimeout()}}};n.prototype.componentWillUnmount=function(){this.clearCancelTimeout()};n.prototype.render=function(){return c("React").createElement("div",{className:"_47pv",onDragStart:this.onDragStart,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp},this.getImage(),this.getSelection(),this.getCancelOverlay(),this.getFailedOverlay(),this.getProgressBar())};n.propTypes={appID:l.string.isRequired,checked:l.bool,id:l.string.isRequired,onPhotoSelected:l.func,photoSourceType:l.oneOf(Object.keys(c("PhotoSourceTypes"))).isRequired,progress:l.number,showUploadProgress:l.bool,src:l.string,supportsCancel:l.bool,uploadState:l.oneOf([c("OmnipickerPhotoUploadState").NOT_STARTED,c("OmnipickerPhotoUploadState").UPLOADING,c("OmnipickerPhotoUploadState").DONE,c("OmnipickerPhotoUploadState").FAILED]).isRequired};n.defaultProps={checked:false,progress:0,showUploadProgress:true,supportsCancel:false};f.exports=n}),null);
__d("OmnipickerPhotoGrid.react",["cx","AutoPager.react","OmnipickerPhoto.react","PhotoSourceTypes","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l=300;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.getPhotos=function(){return Object.keys(this.props.photos).map(function(s){var t=this.props.photos[s];return c("React").createElement(c("OmnipickerPhoto.react"),{appID:this.props.appID,checked:t.checked,id:t.id,key:t.id,onPhotoSelected:this.props.onPhotoSelected,photoSourceType:this.props.photoSourceType,progress:t.progress,showUploadProgress:this.props.showUploadProgress,src:t.src,supportsCancel:this.props.supportsCancel,uploadState:t.uploadState})}.bind(this))}.bind(this),this.getAutoPager=function(){if(!this.props.onScrollPositionThresholdReached)return null;return c("React").createElement(c("AutoPager.react"),{className:"_4qgs",onEnterBuffer:l,onVisible:this.props.onScrollPositionThresholdReached,scrollableAreaClass:"_xhf"})}.bind(this),o}m.prototype.render=function(){return c("React").createElement("div",{className:"_xhf"},c("React").createElement("div",{className:"uiScrollableAreaWrap _1-nf"},this.getPhotos(),this.getAutoPager()))};m.propTypes={appID:k.string.isRequired,onPhotoSelected:k.func,onScrollPositionThresholdReached:k.func,photos:k.object.isRequired,photoSourceType:k.oneOf(Object.keys(c("PhotoSourceTypes"))).isRequired,showUploadProgress:k.bool,supportsCancel:k.bool};m.defaultProps={showUploadProgress:true,supportsCancel:false};f.exports=m}),null);
__d("PhotoPanel.react",["cx","fbt","ComputerPanelActionState","DragDropInstructions.react","HTML5FilePickerButton.react","OmnipickerPhotoGrid.react","PhotoSourceTypes","React","ReactDOM","Scroll"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={photoCount:0},this.renderInstructions=function(){return c("React").createElement("div",{className:"_1-nd"},c("React").createElement("div",null,c("React").createElement("div",{className:"_4zwc"},i._("Drag more photos"))),c("React").createElement("div",{className:"_4zwi"},c("React").createElement("span",{className:"_4zwe"}),i._("or"),c("React").createElement("span",{className:"_4zwe"})),c("React").createElement("div",{className:"_4zwf"},c("React").createElement(c("HTML5FilePickerButton.react"),{appID:this.props.appID})))}.bind(this),this.renderDragAndDropInstructions=function(){if(this.props.actionState!==c("ComputerPanelActionState").NEUTRAL)return c("React").createElement(c("DragDropInstructions.react"),{actionState:this.props.actionState,appID:this.props.appID,isOverlay:true})}.bind(this),this.renderPhotoGrid=function(){return c("React").createElement(c("OmnipickerPhotoGrid.react"),{appID:this.props.appID,photos:this.props.photoData,photoSourceType:c("PhotoSourceTypes").COMPUTER,supportsCancel:true})}.bind(this),o}m.prototype.componentWillReceiveProps=function(n){"use strict";var o=Object.keys(n.photoData).length;this.setState({photoCount:o})};m.prototype.componentDidUpdate=function(n,o){"use strict";if(this.state.photoCount>o.photoCount){var p=c("ReactDOM").findDOMNode(this.refs.pickerBox);c("Scroll").setTop(p,p.scrollHeight)}};m.prototype.render=function(){"use strict";return c("React").createElement("div",null,c("React").createElement("div",{className:"_1x-l"},c("React").createElement("div",{className:"_1-ne _1-nf",ref:"pickerBox"},this.renderPhotoGrid(),this.renderInstructions())),this.renderDragAndDropInstructions())};m.propTypes={actionState:l.oneOf(Object.keys(c("ComputerPanelActionState"))).isRequired,appID:l.string.isRequired,photoData:l.object.isRequired};f.exports=m}),null);
__d("ComputerPanel.react",["ComputerPanelActionState","DragDropFilePicker","EmptyPanel.react","FilePickerEvent","HTML5UploadAdapter","React","OmnipickerConfig","OmnipickerPanelMixin.react","OmnipickerUploadSession","PhotosMimeType","PhotoPanel.react","PhotoSourceTypes","PUWMethods","PUWUploaders","SelectionSource"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("React").createClass({displayName:"ComputerPanel",mixins:[c("OmnipickerPanelMixin.react")],statics:{getAdapter:function i(j,k){var l=c("OmnipickerConfig").FILE_UPLOAD_URI;if(k&&k.fileUploadURI)l=k.fileUploadURI;return new(c("HTML5UploadAdapter"))({uri:l,maxRetries:c("OmnipickerConfig").HTML5_UPLOADER_MAX_RETRIES,maxParallel:c("OmnipickerConfig").HTML5_UPLOADER_MAX_PARALLEL,postParams:{},qn:j.getWaterfallID(),waterfallApp:j.getWaterfallAppName(),waterfallUploader:c("PUWUploaders").HTML5})}},getDefaultProps:function i(){return{selectionSource:c("SelectionSource").FILE,sourceType:c("PhotoSourceTypes").COMPUTER}},getInitialState:function i(){return{actionState:c("ComputerPanelActionState").NEUTRAL}},componentDidMount:function i(){this.picker=new(c("DragDropFilePicker"))(document.documentElement,{onDocumentDragEnterCallback:function(){this.setState({actionState:c("ComputerPanelActionState").DROP})}.bind(this),onDocumentDragLeaveCallback:function(){this.setState({actionState:c("ComputerPanelActionState").NEUTRAL})}.bind(this),isFileValid:function j(k){return c("PhotosMimeType").isImage(k.type)}});c("OmnipickerUploadSession").addPicker(this.props.appID,this.picker,c("PhotoSourceTypes").COMPUTER,c("PUWMethods").DRAGDROP);this.picker.subscribe(c("FilePickerEvent").SELECTED,this.onFilesDropped)},componentWillUnmount:function i(){this.picker.disable();c("OmnipickerUploadSession").removePicker(this.props.appID,this.picker)},onFilesDropped:function i(j){this.setState({actionState:c("ComputerPanelActionState").NEUTRAL})},renderEmptyPanel:function i(){return c("React").createElement(c("EmptyPanel.react"),{actionState:this.state.actionState,appID:this.props.appID})},renderPhotoPanel:function i(){return c("React").createElement(c("PhotoPanel.react"),{actionState:this.state.actionState,appID:this.props.appID,photoData:this.props.photoData})},render:function i(){var j=Object.keys(this.props.photoData).length,k=j===0?this.renderEmptyPanel():this.renderPhotoPanel();return c("React").createElement("div",null,k)}});f.exports=h}),null);
__d("OmnipickerLoggerStore",["invariant","OmnipickerActions","FluxStore","OmnipickerDispatcher","PUWSteps"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("OmnipickerActions").types;i=babelHelpers.inherits(l,c("FluxStore"));j=i&&i.prototype;function l(m){j.constructor.call(this,m);this.$OmnipickerLoggerStore1={}}l.prototype.__onDispatch=function(m){__p&&__p();if(m.type===k.APP_INITIALIZED){m.logger||h(0);this.$OmnipickerLoggerStore1[m.appID]=m.logger;return}var n=this.$OmnipickerLoggerStore1[m.appID];n||h(0);switch(m.type){case k.FILE_PICKER_SELECT_STARTED:case k.FILE_PICKER_SELECTED:case k.FILE_PICKER_SELECT_CANCELED:this.$OmnipickerLoggerStore2(m,n);break;case k.RESIZE_STARTED:n.logStep(c("PUWSteps").CLIENT_UPLOAD_BEGIN);n.logStep(c("PUWSteps").CLIENT_PROCESS_BEGIN);break;case k.RESIZE_SUCCEEDED:n.logStep(c("PUWSteps").CLIENT_PROCESS_SUCCESS,{dt:m.dt,bytes:m.bytes,media_data_size:m.originalSize,custom_tags:m.customTags});break;case k.RESIZE_FAILED:n.logStep(c("PUWSteps").CLIENT_PROCESS_FAIL,{dt:m.dt,bytes:m.bytes,error_code:m.errorCode});break;case k.UPLOAD_STARTED:n.logStep(c("PUWSteps").CLIENT_TRANSFER_BEGIN,{bytes:m.bytes,ref:m.source});break;case k.UPLOAD_FINISHED:n.logStep(c("PUWSteps").CLIENT_TRANSFER_SUCCESS,{auto_retry_count:m.retriesNeeded,ref:m.source});n.logStep(c("PUWSteps").CLIENT_UPLOAD_SUCCESS,{fbid:m.fbid,ref:m.source});break;case k.UPLOAD_FAILED:n.logStep(c("PUWSteps").CLIENT_UPLOAD_FAIL,{auto_retry_count:m.retriesNeeded,error_code:m.errorCode,ref:m.source});break;case k.UPLOAD_QUEUED:n.logStep(c("PUWSteps").CLIENT_TRANSFER_BATCH_BEGIN,{ref:m.source,volume:m.volume});break;default:}};l.prototype.$OmnipickerLoggerStore2=function(m,n){__p&&__p();var o=void 0;switch(m.type){case k.FILE_PICKER_SELECT_STARTED:o=c("PUWSteps").CLIENT_SELECT_BEGIN;break;case k.FILE_PICKER_SELECTED:o=c("PUWSteps").CLIENT_SELECT_SUCCESS;break;case k.FILE_PICKER_SELECT_CANCELED:o=c("PUWSteps").CLIENT_SELECT_CANCEL;break;default:h(0)}var p=m.method,q=m.ref;n.logStep(o,{method:p,ref:q})};f.exports=new l(c("OmnipickerDispatcher"))}),null);
__d("OmnipickerPanelList.react",["cx","ix","Image.react","OmnipickerActions","PhotoSourceTypes","React"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.componentWillMount=function(){"use strict";c("React").Children.forEach(this.props.children,function(n){if(!n)return;var o=this.props.appID;c("OmnipickerActions").panelInitialized(o,n.props.sourceType)}.bind(this))};m.prototype.render=function(){"use strict";__p&&__p();var n=null;if(this.props.doneSelecting)n=c("React").createElement("div",{className:"_5e8d"},c("React").createElement("div",{className:"_5e8e"},c("React").createElement(c("Image.react"),{className:"_5e8o",src:i("95719")})));var o;if(this.props.children.length)o=this.props.children.find(function(p){if(!p)return false;return p.props.sourceType===this.props.selectedSourceType}.bind(this));else o=this.props.children;o=c("React").cloneElement(o,{photoData:this.props.photoData,appID:this.props.appID});return c("React").createElement("div",null,n,c("React").createElement("div",{className:"_5gfy"},o))};function m(){"use strict";j.apply(this,arguments)}m.propTypes={appID:l.string,photoData:l.object,doneSelecting:l.bool,selectedSourceType:l.oneOf(Object.keys(c("PhotoSourceTypes")))};f.exports=m}),null);
__d("OmnipickerPhotoSourceStore",["OmnipickerActions","FluxStore","OmnipickerDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("OmnipickerActions").types;h=babelHelpers.inherits(k,c("FluxStore"));i=h&&h.prototype;function k(l){i.constructor.call(this,l);this.$OmnipickerPhotoSourceStore1={}}k.prototype.__onDispatch=function(l){switch(l.type){case j.APP_INITIALIZED:this.$OmnipickerPhotoSourceStore1[l.appID]={currentSource:l.initialSource};break;case j.PHOTO_SOURCE_SELECTED:this.$OmnipickerPhotoSourceStore1[l.appID].currentSource=l.source;this.__emitChange();break;default:return}};k.prototype.getCurrentSource=function(l){return this.$OmnipickerPhotoSourceStore1[l].currentSource};f.exports=new k(c("OmnipickerDispatcher"))}),null);
__d("OmnipickerPhotoStore",["invariant","OmnipickerActions","FluxStore","OmnipickerDispatcher","OmnipickerPhotoUploadState"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("OmnipickerActions").types;i=babelHelpers.inherits(l,c("FluxStore"));j=i&&i.prototype;function l(m){j.constructor.call(this,m);this.$OmnipickerPhotoStore1={}}l.prototype.__onDispatch=function(m){__p&&__p();m.appID||h(0);var n=this.$OmnipickerPhotoStore1[m.appID];if(n){var o=n.deletedPhotos;if(o&&o[m.id])return}switch(m.type){case k.APP_INITIALIZED:this.$OmnipickerPhotoStore2(m);return;case k.PANEL_INITIALIZED:this.$OmnipickerPhotoStore3(m);return;case k.EXISTING_PHOTOS_FETCHED:this.$OmnipickerPhotoStore4(m);break;case k.PHOTO_SELECTED_OPTIMISTICALLY:this.$OmnipickerPhotoStore5(m);break;case k.SELECTION_CHANGED:this.$OmnipickerPhotoStore6(m);break;case k.UPLOAD_CANCELED:this.$OmnipickerPhotoStore7(m);break;case k.UPLOAD_FAILED:this.$OmnipickerPhotoStore8(m);break;case k.UPLOAD_FINISHED:this.$OmnipickerPhotoStore9(m);break;case k.UPLOAD_PROGRESSED:this.$OmnipickerPhotoStore10(m);break;case k.UPLOAD_QUEUED:this.$OmnipickerPhotoStore11(m);break;case k.UPLOAD_STARTED:this.$OmnipickerPhotoStore12(m);break;default:return}this.__emitChange()};l.prototype.getState=function(m){var n=this.$OmnipickerPhotoStore1[m];return{numPhotosSelected:this.$OmnipickerPhotoStore13(n).length,photosOptimisticallyUploading:n.photosOptimisticallyUploading,photosWaitingForUpload:n.photosWaitingForUpload,photoData:n.photos}};l.prototype.getSelectedPhotos=function(m){var n=this.$OmnipickerPhotoStore1[m];return this.$OmnipickerPhotoStore13(n,n.uploadOrder).filter(function(o){return o.fbid!==""})};l.prototype.$OmnipickerPhotoStore13=function(m,n){var o=n||m.photos,p=[];Object.keys(m.photos).forEach(function(q){var r=Array.isArray(o[q])?o[q]:Object.keys(o[q]);r.forEach(function(s){var t=this.$OmnipickerPhotoStore14(m,q,s);if(t.checked)if(t)p.push(t)}.bind(this))}.bind(this));return p};l.prototype.$OmnipickerPhotoStore14=function(m,n,o){var p=m.photos;p[n]||h(0);var q=p[n][o];q||h(0);return q};l.prototype.$OmnipickerPhotoStore15=function(m){this.$OmnipickerPhotoStore16(m,["source","id"]);return this.$OmnipickerPhotoStore14(this.$OmnipickerPhotoStore1[m.appID],m.source,m.id)};l.prototype.$OmnipickerPhotoStore17=function(m,n){Object.prototype.hasOwnProperty.call(m,n)||h(0);m[n]!==undefined&&m[n]!==null||h(0)};l.prototype.$OmnipickerPhotoStore16=function(m,n){n.push("appID");n.forEach(function(o){return this.$OmnipickerPhotoStore17(m,o)}.bind(this))};l.prototype.$OmnipickerPhotoStore18=function(m,n,o){var p=m.photos;p[n]||h(0);!p[n][o]||h(0);m.uploadOrder[n].push(o);return p[n][o]={id:o,checked:false,fbid:"",progress:0,src:"",uploadState:c("OmnipickerPhotoUploadState").NOT_STARTED}};l.prototype.$OmnipickerPhotoStore19=function(m,n){m.photosWaitingForUpload[n.id]=true};l.prototype.$OmnipickerPhotoStore2=function(m){var n=m.appID;!this.$OmnipickerPhotoStore1[n]||h(0);this.$OmnipickerPhotoStore1[n]={deletedPhotos:{},photos:{},photosWaitingForUpload:{},photosOptimisticallyUploading:{},uploadOrder:{}}};l.prototype.$OmnipickerPhotoStore5=function(m){var n=this.$OmnipickerPhotoStore15(m);n.checked=true;var o=this.$OmnipickerPhotoStore1[m.appID];o.photosOptimisticallyUploading[m.id]=true};l.prototype.$OmnipickerPhotoStore6=function(m){this.$OmnipickerPhotoStore16(m,["checked"]);var n=this.$OmnipickerPhotoStore15(m);n.checked=m.checked};l.prototype.$OmnipickerPhotoStore3=function(m){this.$OmnipickerPhotoStore16(m,["source"]);var n=this.$OmnipickerPhotoStore1[m.appID];n.photos[m.source]={};n.uploadOrder[m.source]=[]};l.prototype.$OmnipickerPhotoStore20=function(m,n,o,p){if(p===c("OmnipickerPhotoUploadState").FAILED||m.photosOptimisticallyUploading[o])return;n.checked=true};l.prototype.$OmnipickerPhotoStore21=function(m,n,o,p){n.uploadState=p;delete m.photosWaitingForUpload[o];delete m.photosOptimisticallyUploading[o]};l.prototype.$OmnipickerPhotoStore22=function(m,n,o){var p=n.id;delete m.photos[o][p];delete m.photosWaitingForUpload[p];delete m.photosOptimisticallyUploading[p];var q=m.uploadOrder[o].indexOf(p);m.uploadOrder[o].splice(q,1);m.deletedPhotos[p]=true};l.prototype.$OmnipickerPhotoStore4=function(m){this.$OmnipickerPhotoStore17(m,"photos");var n=this.$OmnipickerPhotoStore1[m.appID];m.photos.forEach(function(o){var p=o.source,q=o.id,r=o.src,s=this.$OmnipickerPhotoStore18(n,p,q);s.src=r}.bind(this))};l.prototype.$OmnipickerPhotoStore7=function(m){var n=this.$OmnipickerPhotoStore15(m);this.$OmnipickerPhotoStore22(this.$OmnipickerPhotoStore1[m.appID],n,m.source)};l.prototype.$OmnipickerPhotoStore8=function(m){var n=this.$OmnipickerPhotoStore1[m.appID];this.$OmnipickerPhotoStore21(n,this.$OmnipickerPhotoStore15(m),m.id,c("OmnipickerPhotoUploadState").FAILED)};l.prototype.$OmnipickerPhotoStore9=function(m){this.$OmnipickerPhotoStore16(m,["src","fbid"]);var n=m.appID,o=m.id,p=m.src,q=m.fbid,r=this.$OmnipickerPhotoStore1[n],s=this.$OmnipickerPhotoStore15(m),t=c("OmnipickerPhotoUploadState").DONE;this.$OmnipickerPhotoStore20(r,s,o,t);this.$OmnipickerPhotoStore21(r,s,o,t);s.src=p;s.fbid=q};l.prototype.$OmnipickerPhotoStore10=function(m){this.$OmnipickerPhotoStore17(m,"progress");var n=this.$OmnipickerPhotoStore15(m);n.progress=100};l.prototype.$OmnipickerPhotoStore12=function(m){var n=this.$OmnipickerPhotoStore15(m);n.uploadState=c("OmnipickerPhotoUploadState").UPLOADING};l.prototype.$OmnipickerPhotoStore11=function(m){this.$OmnipickerPhotoStore16(m,["source","ids"]);var n=m.source,o=this.$OmnipickerPhotoStore1[m.appID],p=m.ids;p.forEach(function(q){return this.$OmnipickerPhotoStore19(o,this.$OmnipickerPhotoStore18(o,n,q))}.bind(this))};f.exports=new l(c("OmnipickerDispatcher"))}),null);
__d("OmnipickerWaterfallLogger",["PhotosUploadWaterfallXMixin","mixin"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("mixin")(c("PhotosUploadWaterfallXMixin")));i=h&&h.prototype;function j(k,l){"use strict";i.constructor.call(this);this.$OmnipickerWaterfallLogger1=k;this.$OmnipickerWaterfallLogger2=l}j.prototype.getWaterfallAppName=function(){"use strict";return this.$OmnipickerWaterfallLogger1};j.prototype.getWaterfallID=function(){"use strict";return this.$OmnipickerWaterfallLogger2};f.exports=j}),null);
__d("Omnipicker.react",["invariant","ClientIDs","OmnipickerActions","OmnipickerPanelList.react","OmnipickerPhotoSourceStore","OmnipickerPhotoStore","OmnipickerUploadController","OmnipickerUploadSession","OmnipickerWaterfallLogger","React","SubscriptionsHandler","Waiter","OmnipickerLoggerStore"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;c("OmnipickerLoggerStore");c("OmnipickerPhotoSourceStore");c("OmnipickerPhotoStore");var k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){__p&&__p();var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={numPhotosSelected:0,numPhotosUploading:0,photoData:{}},this.handlePhotosChangeEvent=function(){__p&&__p();var r=c("OmnipickerPhotoStore").getState(this.state.appID),s=Object.keys(r.photosWaitingForUpload).length,t=Object.keys(r.photosOptimisticallyUploading).length;if(t>0){if(!this.$Omnipicker3)this.$Omnipicker3=this.$Omnipicker2.wait()}else if(this.$Omnipicker3){this.$Omnipicker3.call(this);this.$Omnipicker3=null}this.setState({numPhotosSelected:r.numPhotosSelected,numPhotosUploading:s,photoData:r.photoData});this.props.onPhotosChange&&this.props.onPhotosChange(r.numPhotosSelected,s)}.bind(this),this.handleSourceChangeEvent=function(){this.setState({sourceType:c("OmnipickerPhotoSourceStore").getCurrentSource(this.state.appID)})}.bind(this),n}l.prototype.componentWillMount=function(){"use strict";__p&&__p();var m="Omnipicker_ID_"+c("ClientIDs").getNewClientID();c("OmnipickerUploadController").registerOmnipicker(m);c("OmnipickerUploadSession").registerOmnipicker(m);var n=[];c("React").Children.forEach(this.props.children,function(q){if(q.type===c("OmnipickerPanelList.react"))n.push(c("React").cloneElement(q,{appID:m}))});n.length===1||h(0);var o=n[0],p=null;c("React").Children.forEach(o.props.children,function(q){if(!q)return;if(!p||q.props.isSelected)p=q.props.sourceType;if(q.type.getAdapter)c("OmnipickerUploadController").registerAdapter(m,q.type.getAdapter(this.props.logger,q.props.config),q.props.selectionSource)}.bind(this));!!p||h(0);this.setState({appID:m,sourceType:p});c("OmnipickerActions").appInitialized(m,this.props.logger,p)};l.prototype.componentDidMount=function(){"use strict";this.$Omnipicker1=new(c("SubscriptionsHandler"))();this.$Omnipicker1.addSubscriptions(c("OmnipickerPhotoStore").addListener(this.handlePhotosChangeEvent),c("OmnipickerPhotoSourceStore").addListener(this.handleSourceChangeEvent));this.$Omnipicker2=new(c("Waiter"))(function(){this.props.onDoneSelecting(c("OmnipickerPhotoStore").getSelectedPhotos(this.state.appID),this.state.sourceType)}.bind(this))};l.prototype.componentWillUnmount=function(){"use strict";this.$Omnipicker1.release()};l.prototype.componentDidUpdate=function(){"use strict";if(this.props.doneSelecting)this.$Omnipicker2.go()};l.prototype.render=function(){"use strict";var m=c("React").Children.map(this.props.children,function(n){var o={selectedSourceType:this.state.sourceType,appID:this.state.appID};if(n.type===c("OmnipickerPanelList.react"))Object.assign(o,{photoData:this.state.photoData[this.state.sourceType]||{},doneSelecting:this.props.doneSelecting});return c("React").cloneElement(n,o)}.bind(this));return c("React").createElement("div",null,m)};l.propTypes={doneSelecting:k.bool.isRequired,logger:k.instanceOf(c("OmnipickerWaterfallLogger")).isRequired,onDoneSelecting:k.func.isRequired,onPhotosChange:k.func};l.defaultProps={doneSelecting:false};f.exports=l}),null);
__d("OmnipickerSelector.react",["cx","OmnipickerActions","PhotoSourceTypes","React","ShimButton.react","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.onClick=function(){c("OmnipickerActions").photoSourceSelected(this.props.appID,this.props.sourceType)}.bind(this),n}l.prototype.render=function(){"use strict";return c("React").createElement("li",{className:"_1ys7"},c("React").createElement(c("ShimButton.react"),{className:"_1ys8"+(this.props.isSelected?" selected":""),onClick:this.onClick},c("React").createElement("div",{className:"_1ys9"},c("React").createElement("span",{className:c("joinClasses")("_1ysb",this.props.iconClass)}),c("React").createElement("span",{className:"_1ysc"},this.props.children))))};l.propTypes={appID:k.string.isRequired,iconClass:k.string.isRequired,isSelected:k.bool.isRequired,sourceType:k.oneOf(Object.keys(c("PhotoSourceTypes"))).isRequired};f.exports=l}),null);
__d("OmnipickerComputerSelector.react",["cx","fbt","OmnipickerSelector.react","PhotoSourceTypes","React"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){"use strict";return c("React").createElement(c("OmnipickerSelector.react"),babelHelpers["extends"]({iconClass:"_5o68"},this.props),this.props.labelText)};function m(){"use strict";j.apply(this,arguments)}m.propTypes={labelText:l.string};m.defaultProps={sourceType:c("PhotoSourceTypes").COMPUTER,labelText:i._("Computer")};f.exports=m}),null);
__d("OmnipickerDialog.react",["cx","fbt","DOM","Event","Keys","Link.react","OmnipickerConfig","React","SubscriptionsHandler","XUICloseButton.react","XUIDialog.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){__p&&__p();var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={doneSelecting:false,numPhotosSelected:0,numPhotosUploading:0,uploadProgress:0},this.getButtonLabel=function(){var s=this.state.numPhotosSelected;if(s===1)return i._("Use Photo");if(s>1)return i._("Use Photos ({number})",[i.param("number",s)]);return i._("Use Photos")}.bind(this),this.handleUsePhotos=function(){this.setState({doneSelecting:true})}.bind(this),this.handleKeyDownEvent=function(event){if(c("Event").getKeyCode(event)===c("Keys").ESC)this.props.onCancel()}.bind(this),this.handlePhotosChange=function(s,t){this.setState({numPhotosSelected:s,numPhotosUploading:t})}.bind(this),o}m.prototype.componentDidMount=function(){"use strict";this.$OmnipickerDialog1=new(c("SubscriptionsHandler"))();this.$OmnipickerDialog1.addSubscriptions(c("Event").listen(document,"keydown",this.handleKeyDownEvent))};m.prototype.componentWillUnmount=function(){"use strict";this.$OmnipickerDialog1.release()};m.prototype.render=function(){"use strict";var n=this.state.doneSelecting||this.state.numPhotosSelected<1||this.state.numPhotosUploading>0,o=null;if(c("OmnipickerConfig").FEEDBACK_GROUP_PATH)o=c("React").createElement("div",{className:"_2srv"},c("React").createElement(c("Link.react"),{href:c("OmnipickerConfig").FEEDBACK_GROUP_PATH,target:"_blank"},"Omnipicker Feedback Group"));var p=c("React").Children.only(this.props.children);p=c("React").cloneElement(p,{onPhotosChange:this.handlePhotosChange,doneSelecting:this.state.doneSelecting});return c("React").createElement(c("XUIDialog.react"),{shown:true,layerHideOnBlur:false,width:c("OmnipickerConfig").DIALOG_WIDTH,key:"dialog"},c("React").createElement(c("XUIDialogTitle.react"),{showCloseButton:false},c("React").createElement("span",null,this.props.title),c("React").createElement(c("XUICloseButton.react"),{className:"_51-t",label:i._("Close"),onClick:this.props.onCancel})),p,c("React").createElement("div",{className:"_3bnc"},c("React").createElement(c("XUIDialogFooter.react"),{className:"_3bnd",leftContent:o},c("React").createElement(c("XUIDialogButton.react"),{action:"button",label:i._("Cancel"),onClick:this.props.onCancel,size:"xlarge"}),c("React").createElement(c("XUIDialogButton.react"),{className:"_3bne",use:"confirm",action:"confirm",size:"xlarge",disabled:n,label:this.getButtonLabel(),onClick:this.handleUsePhotos}))))};m.propTypes={onCancel:l.func.isRequired,title:l.string.isRequired};f.exports=m}),null);
__d("OmnipickerDialogRenderer",["DOM","ReactDOM"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){this.$OmnipickerDialogRenderer1=i;this.$OmnipickerDialogRenderer2=i.props.$OmnipickerDialogRenderer2;if(!this.$OmnipickerDialogRenderer2){this.$OmnipickerDialogRenderer2=c("DOM").create("div");c("DOM").appendContent(document.body,this.$OmnipickerDialogRenderer2)}}h.prototype.show=function(){if(!this.$OmnipickerDialogRenderer2){this.$OmnipickerDialogRenderer2=c("DOM").create("div");c("DOM").appendContent(document.body,this.$OmnipickerDialogRenderer2)}c("ReactDOM").render(this.$OmnipickerDialogRenderer1,this.$OmnipickerDialogRenderer2)};h.prototype.hide=function(){c("ReactDOM").unmountComponentAtNode(this.$OmnipickerDialogRenderer2);c("DOM").remove(this.$OmnipickerDialogRenderer2);this.$OmnipickerDialogRenderer2=null};h.prototype.isShowing=function(){return!!this.$OmnipickerDialogRenderer2};f.exports=h}),null);
__d("ExistingPhotoSelectionContainer",["BaseSelectionContainer"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("BaseSelectionContainer"));i=h&&h.prototype;function j(k,l,m){"use strict";i.constructor.call(this);this.$ExistingPhotoSelectionContainer1=k;this.$ExistingPhotoSelectionContainer2=l;this.$ExistingPhotoSelectionContainer3=m}j.prototype.getExistingImageID=function(){"use strict";return this.$ExistingPhotoSelectionContainer1};j.prototype.getSrc=function(){"use strict";return this.$ExistingPhotoSelectionContainer2};j.prototype.getSource=function(){"use strict";return this.$ExistingPhotoSelectionContainer3};j.prototype.hasPlaceholderUI=function(){"use strict";return true};f.exports=j}),null);
__d("ExistingPhotoPicker",["ArbiterMixin","mixin","FilePickerEvent","ExistingPhotoSelectionContainer"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function j(k){"use strict";i.constructor.call(this);this.$ExistingPhotoPicker1=k}j.prototype.begin=function(){"use strict";this.inform(c("FilePickerEvent").BEGIN)};j.prototype.select=function(k,l){"use strict";this.inform(c("FilePickerEvent").SELECTED,{sender:this,selections:[new(c("ExistingPhotoSelectionContainer"))(k,l,this.$ExistingPhotoPicker1)]})};f.exports=j}),null);
__d("OmnipickerExistingPhotosPanelMixin.react",["cx","invariant","ExistingPhotoPicker","OmnipickerActions","OmnipickerPanelMixin.react","OmnipickerPhotoGrid.react","OmnipickerUploadSession","PhotoStore","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").PropTypes,k={mixins:[c("OmnipickerPanelMixin.react")],propTypes:{initBatchSize:j.number,pageBatchSize:j.number,puwMethod:j.string.isRequired,setID:j.string.isRequired},componentWillMount:function l(){typeof this.getViewState==="function"||i(0);this.picker=new(c("ExistingPhotoPicker"))(this.props.selectionSource);c("OmnipickerUploadSession").addPicker(this.props.appID,this.picker,this.props.sourceType,this.props.puwMethod)},componentDidMount:function l(){this.getViewState().initViewState();this.picker.begin()},componentWillUnmount:function l(){this.getViewState().destroy();c("OmnipickerUploadSession").removePicker(this.props.appID,this.picker)},render:function l(){return c("React").createElement("div",null,this.getThrobber(),this.getPhotoGrid())},onViewStateChanged:function l(m){c("OmnipickerActions").existingPhotosFetched(this.props.appID,this.props.sourceType,m.media.filter(function(n){return!this.props.photoData[n.id]}.bind(this)))},onPhotoSelected:function l(m){this.picker.select(m,this.props.photoData[m].src);return false},getPhotoGrid:function l(){if(!c("PhotoStore").hasBeenCreated(this.props.setID))return null;var m=null;if(!c("PhotoStore").hasBeenCreated(this.props.setID)||c("PhotoStore").hasNextPage(this.props.setID))m=function(){this.getViewState().fetchMore()}.bind(this);return c("React").createElement(c("OmnipickerPhotoGrid.react"),{appID:this.props.appID,onPhotoSelected:this.onPhotoSelected,onScrollPositionThresholdReached:m,photos:this.props.photoData,photoSourceType:this.props.sourceType,showUploadProgress:false})},getThrobber:function l(){if(c("PhotoStore").hasBeenCreated(this.props.setID))return null;return c("React").createElement("div",{className:"_j0-"})}};f.exports=k}),null);
__d("ScrollablePhotoViewStateCore",["SubscriptionsHandler","emptyFunction"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";__p&&__p();this.$ScrollablePhotoViewStateCore1=i.photoStore;this.$ScrollablePhotoViewStateCore2=i.viewer;this.$ScrollablePhotoViewStateCore3=i.setToken;this.$ScrollablePhotoViewStateCore4=i.updateCallback;this.$ScrollablePhotoViewStateCore5=i.subscribeUpdatePhotos;this.$ScrollablePhotoViewStateCore6=i.fetchInitData;this.$ScrollablePhotoViewStateCore7=i.initBatchSize;this.$ScrollablePhotoViewStateCore8=i.pageBatchSize;this.$ScrollablePhotoViewStateCore9=new(c("SubscriptionsHandler"))()}h.prototype.initViewState=function(){"use strict";this.$ScrollablePhotoViewStateCore9.addSubscriptions(this.$ScrollablePhotoViewStateCore5(this.updateData.bind(this)));if(this.$ScrollablePhotoViewStateCore1.hasBeenCreated(this.$ScrollablePhotoViewStateCore3)){var i=this.$ScrollablePhotoViewStateCore1.getAvailableRange(this.$ScrollablePhotoViewStateCore3).length;if(i>=this.$ScrollablePhotoViewStateCore7||!this.$ScrollablePhotoViewStateCore1.hasNextPage(this.$ScrollablePhotoViewStateCore3))this.syncState();return}this.$ScrollablePhotoViewStateCore6(this.$ScrollablePhotoViewStateCore3)};h.prototype.hasNextPage=function(){"use strict";return this.$ScrollablePhotoViewStateCore1.hasBeenCreated(this.$ScrollablePhotoViewStateCore3)&&this.$ScrollablePhotoViewStateCore1.hasNextPage(this.$ScrollablePhotoViewStateCore3)};h.prototype.fetchToIndex=function(i){"use strict";var j=this.$ScrollablePhotoViewStateCore1.getEndIndex(this.$ScrollablePhotoViewStateCore3),k=i-j;if(k<=0)return;this.$ScrollablePhotoViewStateCore1.getItemsAfterIndex(this.$ScrollablePhotoViewStateCore3,j,k,c("emptyFunction"))};h.prototype.fetchMore=function(i){"use strict";if(!this.hasNextPage())return;this.$ScrollablePhotoViewStateCore1.getItemsAfterIndex(this.$ScrollablePhotoViewStateCore3,this.$ScrollablePhotoViewStateCore1.getEndIndex(this.$ScrollablePhotoViewStateCore3),this.$ScrollablePhotoViewStateCore8,i||c("emptyFunction"))};h.prototype.destroy=function(){"use strict";this.$ScrollablePhotoViewStateCore9.release()};h.prototype.updateData=function(i){"use strict";if(i.set_id!=this.$ScrollablePhotoViewStateCore3)return;var j=i.query_results&&i.query_results.result_type;if(j=="init")this.$ScrollablePhotoViewStateCore1.executePostCreate(this.$ScrollablePhotoViewStateCore3,function(){this.syncState()}.bind(this));else this.syncState()};f.exports=h}),null);
__d("fetchInitPhotoViewState",["AsyncRequest"],(function a(b,c,d,e,f,g){function h(i,j){new(c("AsyncRequest"))(i).setData({set:j}).send()}f.exports=h}),null);
__d("subscribeToArbiterUpdatePhotos",["Arbiter"],(function a(b,c,d,e,f,g){function h(i){return c("Arbiter").subscribe("update-photos",function(j,k){i(k)})}f.exports=h}),null);
__d("OmnipickerExistingPhotosViewState",["PhotoStore","ScrollablePhotoViewStateCore","subscribeToArbiterUpdatePhotos","fetchInitPhotoViewState"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;function j(l,m){c("fetchInitPhotoViewState")(l,m)}h=babelHelpers.inherits(k,c("ScrollablePhotoViewStateCore"));i=h&&h.prototype;function k(l,m,n,o,p,q){"use strict";i.constructor.call(this,{fetchInitData:j.bind(null,p),initBatchSize:n,pageBatchSize:o,photoStore:c("PhotoStore"),setToken:m,subscribeUpdatePhotos:c("subscribeToArbiterUpdatePhotos"),updateCallback:q,viewer:l});this.$OmnipickerExistingPhotosViewState1=n;this.$OmnipickerExistingPhotosViewState2=m;this.$OmnipickerExistingPhotosViewState3=q}k.prototype.syncState=function(){"use strict";this.$OmnipickerExistingPhotosViewState3({media:c("PhotoStore").getItemsInAvailableRange(this.$OmnipickerExistingPhotosViewState2),hasNextPage:c("PhotoStore").hasNextPage(this.$OmnipickerExistingPhotosViewState2)})};f.exports=k}),null);
__d("XPagesManagerPostedPhotosController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/content_tab/posted_photos/",{set:{type:"String",required:true},size:{type:"Int",required:true}})}),null);
__d("OmnipickerPagePostedPhotosPanel.react",["ActorURI","OmnipickerConfig","OmnipickerExistingPhotosPanelMixin.react","OmnipickerExistingPhotosViewState","PhotoSourceTypes","PUWMethods","React","SelectionSource","XPagesManagerPostedPhotosController"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=c("React").createClass({displayName:"OmnipickerPagePostedPhotosPanel",mixins:[c("OmnipickerExistingPhotosPanelMixin.react")],_viewState:null,propTypes:{pageID:h.string.isRequired},getDefaultProps:function j(){return{initBatchSize:20,pageBatchSize:16,puwMethod:c("PUWMethods").RECENT_PHOTOS,selectionSource:c("SelectionSource").PAGES_POSTED_PHOTOS,setID:c("OmnipickerConfig").POSTED_PHOTOS_SET_ID,sourceType:c("PhotoSourceTypes").PAGES_POSTED_PHOTOS}},componentWillMount:function j(){var k=c("ActorURI").create(c("XPagesManagerPostedPhotosController").getURIBuilder().setString("set",this.props.setID).setInt("size",this.props.initBatchSize).getURI(),this.props.pageID);this._viewState=new(c("OmnipickerExistingPhotosViewState"))(this,this.props.setID,this.props.initBatchSize,this.props.pageBatchSize,k,this.onViewStateChanged)},getViewState:function j(){return this._viewState}});f.exports=i}),null);
__d("OmnipickerPagePostedPhotosSelector.react",["cx","fbt","OmnipickerSelector.react","PhotoSourceTypes","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){return c("React").createElement(c("OmnipickerSelector.react"),babelHelpers["extends"]({iconClass:"_2_y4"},this.props),this.props.labelText)};function m(){j.apply(this,arguments)}m.propTypes={labelText:l.node};m.defaultProps={sourceType:c("PhotoSourceTypes").PAGES_POSTED_PHOTOS,labelText:i._("Page Photos")};f.exports=m}),null);
__d("OmnipickerSelectorList.react",["cx","PhotoSourceTypes","React"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";var m=c("React").Children.map(this.props.children,function(n){if(!n)return;return c("React").cloneElement(n,{isSelected:n.props.sourceType===this.props.selectedSourceType,appID:this.props.appID})}.bind(this));return c("React").createElement("div",{className:"_1n6_"},c("React").createElement("ul",null,m))};function l(){"use strict";i.apply(this,arguments)}l.propTypes={appID:k.string,selectedSourceType:k.oneOf(Object.keys(c("PhotoSourceTypes")))};f.exports=l}),null);
__d("ProductVideoChunkedUploader",["AdsVideoUploadEvents","AdsVideoUploadSession","AdsVideoUploadUtil","URI","VideoUploader","VideoUploadProgressBar"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j="/v2.4",k="graph-video";h=babelHelpers.inherits(l,c("VideoUploader"));i=h&&h.prototype;function l(m){"use strict";var n=m.config,o=new(c("URI"))(j+"/"+m.target_id+"/videos?access_token="+m.access_token).setSubdomain(k).toString(),p={start_uri:o,receive_uri:o,post_uri:o,chunk_start_uri:o,chunk_receive_uri:o,chunk_post_uri:o,min_size:n.minSize,min_width:n.minWidth,min_height:n.minHeight,min_length:n.minLength,max_size:n.maxSize,max_length:n.maxLength,extensions:n.extensions,logging_delay:n.loggingDelay,max_transport_retries:n.maxTransportRetries,transport_retry_interval_base:n.transportRetryIntervalBase,max_server_retries:n.maxServerRetries,server_retry_interval_base:n.serverRetryIntervalBase,source:m.source,target_id:m.target_id,target_type:m.target_type};i.constructor.call(this,p);this.$ProductVideoChunkedUploader1=""}l.prototype.getUploadTime=function(){"use strict";if(this.__getSession()!==null)return this.__getSession().getUploadTime();return null};l.prototype.getEncodingTime=function(){"use strict";if(this.__getSession()!==null)return this.__getSession().getEncodingTime();return null};l.prototype.abort=function(){"use strict";this.cancel()};l.prototype.upload=function(m){"use strict";var n=m.getFile(),o=c("AdsVideoUploadUtil").getVideoTitle(n);this.$ProductVideoChunkedUploader1=o?o:"";i.upload.call(this,m)};l.prototype.__getVideoUploadSession=function(m){"use strict";return new(c("AdsVideoUploadSession"))(m)};l.prototype.getVideoTitle=function(){"use strict";return this.$ProductVideoChunkedUploader1};l.prototype.__createSession=function(m){"use strict";return new(c("AdsVideoUploadSession"))(m)};l.prototype.__getEventsWhichShouldListenFromSession=function(){"use strict";var m=i.__getEventsWhichShouldListenFromSession.call(this);m.push(c("AdsVideoUploadEvents").ENCODING_SUCCESS,c("AdsVideoUploadEvents").ENCODING_ERROR);return m};l.prototype.__getEventsForWhichSessionShouldBeSetToNull=function(){"use strict";return["upload-failed",c("AdsVideoUploadEvents").ENCODING_SUCCESS,c("AdsVideoUploadEvents").ENCODING_ERROR]};l.prototype.__delegateEvent=function(event,m){"use strict";__p&&__p();var n=null;if(event==="upload-progressed"){var o=c("VideoUploadProgressBar").computeProgress(m.start_offset,m.sent_bytes,m.file_size,0,0);n=o/100}else if(event==="upload-finished")this.post({});else if(event==="post-finished")n=m.video_id;else if(event==="post-failed")event="upload-failed";i.__delegateEvent.call(this,event,n)};f.exports=l}),null);
__d("PageContentTabProductUploadVideoButton.react",["cx","fbt","AdsVideoUploadConfig","AdsVideoUploadEvents","AsyncRequest","FileInput.react","GraphAPI","Link.react","ProductVideoChunkedUploader","React","VideoUploadFile","VideoUploadTargetType","XUIGrayText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=1e3,m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={videoUploaders:[],lastEncodingStatusCheckTimes:[]},this.$PageContentTabProductUploadVideoButton1=function(){__p&&__p();var t=this.refs.fileInput.getFileInput().getInput(),u=c("VideoUploadFile").fromFileInput(t),v=new(c("ProductVideoChunkedUploader"))({config:c("AdsVideoUploadConfig"),source:"product_edit_tool",target_id:this.props.productCatalogID,target_type:c("VideoUploadTargetType").PRODUCT_CATALOG,access_token:this.props.pageContentTabAccessToken}),w=this.state.videoUploaders.length;v.subscribe("upload-failed",this.$PageContentTabProductUploadVideoButton2.bind(this,w));v.subscribe(c("AdsVideoUploadEvents").UPLOAD_ERROR,this.$PageContentTabProductUploadVideoButton2.bind(this,w));v.subscribe("post-failed",this.$PageContentTabProductUploadVideoButton2.bind(this,w));v.subscribe("post-finished",this.$PageContentTabProductUploadVideoButton3.bind(this,w));this.props.onVideoSelected(w);v.upload(u);var x=this.state.videoUploaders;x[w]=v;this.setState({videoUploaders:x})}.bind(this),this.$PageContentTabProductUploadVideoButton2=function(t){this.props.onVideoUploadError(t)}.bind(this),this.$PageContentTabProductUploadVideoButton3=function(t){this.$PageContentTabProductUploadVideoButton4(t)}.bind(this),this.$PageContentTabProductUploadVideoButton5=function(t){var u=this.$PageContentTabProductUploadVideoButton6(t),v=this.state.lastEncodingStatusCheckTimes;v[t]=Date.now();this.setState({lastEncodingStatusCheckTimes:v});new(c("AsyncRequest"))().setURI("/ajax/video/encode/feedback/ping/").setData({video_id:u}).setHandler(this.$PageContentTabProductUploadVideoButton7.bind(this,t)).send()}.bind(this),this.$PageContentTabProductUploadVideoButton8=function(t,u){var v=this.$PageContentTabProductUploadVideoButton6(t),w=u.data;if(w)for(var x=0;x<w.length;x++)if(w[x].is_preferred){this.props.onVideoUploadFinished(t,v,w[x].uri);return}}.bind(this),this.$PageContentTabProductUploadVideoButton6=function(t){return this.state.videoUploaders[t].getUploadSession().getVideoID()}.bind(this),p}n.prototype.render=function(){return c("React").createElement(c("FileInput.react"),{name:"video",ref:"fileInput",onChange:this.$PageContentTabProductUploadVideoButton1},c("React").createElement(c("Link.react"),{className:"_25dc"},c("React").createElement("div",{className:"_25dd _25de"},c("React").createElement(c("XUIGrayText.react"),{className:"_25df",size:"small",display:"block"},i._("Add Videos")))))};n.prototype.$PageContentTabProductUploadVideoButton4=function(o){var p=this.state.lastEncodingStatusCheckTimes[o]+l,q=Math.max(0,p-Date.now());setTimeout(this.$PageContentTabProductUploadVideoButton5.bind(this,o),q)};n.prototype.$PageContentTabProductUploadVideoButton7=function(o,p){var q=this.$PageContentTabProductUploadVideoButton6(o),r=p.payload;if(r)if(r.is_ready)c("GraphAPI")("2.3").object("video",q).edge("thumbnails").get({access_token:this.props.pageContentTabAccessToken}).done(this.$PageContentTabProductUploadVideoButton8.bind(this,o));else if(r.error)this.$PageContentTabProductUploadVideoButton2(o);else this.$PageContentTabProductUploadVideoButton4(o)};n.propTypes={onVideoSelected:m.func.isRequired,onVideoUploadError:m.func.isRequired,onVideoUploadFinished:m.func.isRequired,pageContentTabAccessToken:m.string.isRequired,productCatalogID:m.string.isRequired};f.exports=n}),null);
__d("XPagesManagerProductPhotoUploadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/upload/file/product/photo/",{waterfall_id:{type:"String"}})}),null);
__d("PageProductPhotoEditButton.react",["cx","fbt","ActorURI","Arbiter","AsyncRequest","BOFSellerLogger","BOFSellerLoggerEvent","ReactComposerPhotoActions","PhotoEditorTargetType","XPagesManagerProductPhotoUploadController","React","Tooltip","XComposerPhotoUploader","XStickerPhotoEditorController"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.componentDidMount=function(){c("Arbiter").subscribe("PageProductPhotoEditor/newImage"+this.props.composerID,this.$PageProductPhotoEditButton2.bind(this))};m.prototype.render=function(){var n=i._("Edit Photo");return c("React").createElement("button",babelHelpers["extends"]({className:"_k4v",onClick:this.$PageProductPhotoEditButton3.bind(this)},c("Tooltip").propsFor(n)),c("React").createElement("div",{className:"_k4w"}))};m.prototype.$PageProductPhotoEditButton3=function(){__p&&__p();if(this.$PageProductPhotoEditButton1)return;c("BOFSellerLogger").log(c("BOFSellerLoggerEvent").ACTN_EDIT_PHOTO_CLICK,this.props.pageID,{target_class:"Photo",target_id:this.props.photoID});var n=void 0,o=void 0;if(this.props.photoID==parseInt(this.props.photoID,10)){n=parseInt(this.props.photoID,10);o=""}else{n=0;o=this.props.photoID}var p=c("ActorURI").create(c("XStickerPhotoEditorController").getURIBuilder().setString("grid_id",this.props.composerID).setEnum("target_type",c("PhotoEditorTargetType").PAGE_PRODUCT_COMPOSER).setInt("photo_fbid",n).setString("encrypted_photo_id",o).getURI(),this.props.pageID);this.$PageProductPhotoEditButton1=new(c("AsyncRequest"))(p).setFinallyHandler(function(){this.$PageProductPhotoEditButton1=null}.bind(this)).send();c("ReactComposerPhotoActions").startPhotoEdit(this.props.composerID,null)};m.prototype.$PageProductPhotoEditButton2=function(n,o){var p=c("ActorURI").create(c("XPagesManagerProductPhotoUploadController").getURIBuilder().getURI(),this.props.pageID),q=o.encryptedID||o.fbid,r=new(c("XComposerPhotoUploader"))({uploadEndpoint:p,onUploadSuccess:function(n,s){this.props.onPhotoEdited(q,s.response.payload[0])}.bind(this)});r.getAsyncUploadRequest([o.blob]).send()};function m(){j.apply(this,arguments)}m.propTypes={composerID:l.string.isRequired,onPhotoEdited:l.func.isRequired,pageID:l.string.isRequired,photoID:l.string.isRequired};f.exports=m}),null);
__d("PageContentTabProductPhotoUploader.react",["cx","fbt","invariant","ActorURI","AudienceManagerEngagementVideoSelectionError.react","Image.react","Link.react","Omnipicker.react","ComputerPanel.react","OmnipickerComputerSelector.react","OmnipickerDialog.react","OmnipickerDialogRenderer","OmnipickerPagePostedPhotosPanel.react","OmnipickerPagePostedPhotosSelector.react","OmnipickerPanelList.react","OmnipickerSelectorList.react","OmnipickerWaterfallLogger","PageContentTabProductUploadVideoButton.react","PageProductPhotoEditButton.react","XPagesManagerProductPhotoUploadController","PUWApplications","PUWSteps","React","WaterfallIDGenerator","XUICloseButton.react","XUIError.react","XUIGrayText.react","XUISpinner.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=c("React").PropTypes,l=c("React").createClass({displayName:"PageContentTabProductPhotoUploader",_waterfallLogger:c("OmnipickerWaterfallLogger"),propTypes:{className:k.string,maxPhotosCount:k.number,pageID:k.string.isRequired,onPhotoEdited:k.func,onPhotosSelected:k.func.isRequired,onPhotoRemoved:k.func.isRequired,photos:k.array.isRequired,photoEditingEnabled:k.bool.isRequired,productCatalogID:k.string,pageContentTabAccessToken:k.string,videos:k.array,onVideoSelected:k.func,onVideoUploadFinished:k.func,onVideoUploadError:k.func,onVideoRemoved:k.func,showVideoUploadButton:k.bool,xuiError:k.any},getInitialState:function m(){var n={fileUploadURI:c("ActorURI").create(c("XPagesManagerProductPhotoUploadController").getURIBuilder().getURI(),this.props.pageID)};this._waterfallLogger=new(c("OmnipickerWaterfallLogger"))(c("PUWApplications").WEB_PRODUCT_PHOTO_OMNIPICKER,c("WaterfallIDGenerator").generate());return{dialogRenderer:new(c("OmnipickerDialogRenderer"))(c("React").createElement(c("OmnipickerDialog.react"),{onCancel:this.onPickerCancel,title:i._("Select Photo")},c("React").createElement(c("Omnipicker.react"),{logger:this._waterfallLogger,onDoneSelecting:this.onPickerAddPhotos},c("React").createElement(c("OmnipickerSelectorList.react"),null,c("React").createElement(c("OmnipickerComputerSelector.react"),null),c("React").createElement(c("OmnipickerPagePostedPhotosSelector.react"),null)),c("React").createElement(c("OmnipickerPanelList.react"),null,c("React").createElement(c("ComputerPanel.react"),{config:n}),c("React").createElement(c("OmnipickerPagePostedPhotosPanel.react"),{pageID:this.props.pageID})))))}},onPickerCancel:function m(){this.state.dialogRenderer.hide();this._waterfallLogger.logStep(c("PUWSteps").CLIENT_FLOW_CANCEL)},onPickerAddPhotos:function m(n){this.state.dialogRenderer.hide();this.props.onPhotosSelected(n)},render:function m(){var n=null,o=null,p=this.props.photos.length;if(this.props.videos)p+=this.props.videos.length;if(!this.props.maxPhotosCount||p<this.props.maxPhotosCount){n=this._renderAddPhotoLink();o=this._renderAddVideoLink()}return c("React").createElement("div",{className:this.props.className},this._renderUploadedMedia(),n,o)},_renderUploadedPhoto:function m(n){var o=null;if(this.props.photoEditingEnabled)o=c("React").createElement(c("PageProductPhotoEditButton.react"),{composerID:this._waterfallLogger.getWaterfallID(),onPhotoEdited:this.props.onPhotoEdited,pageID:this.props.pageID,photoID:n.fbid});return c("React").createElement("div",{key:n.fbid,className:"_5m94"},c("React").createElement(c("XUICloseButton.react"),{className:"_5m95",size:"medium",shade:"light",onClick:function(p){return this.props.onPhotoRemoved(n)}.bind(this)}),c("React").createElement(c("Image.react"),{className:"_19tc",src:n.src}),o,c("React").createElement("div",{className:"_19td"}))},_renderUploadedVideo:function m(n){var o=null;if(!n.ready&&!n.error)o=c("React").createElement(c("XUISpinner.react"),{className:"_37cg",size:"large"});var p=null;if(n.error)p=c("React").createElement("div",{className:"_37ch"},c("React").createElement(c("AudienceManagerEngagementVideoSelectionError.react"),{mainLabel:i._("Upload failed")}));return c("React").createElement("div",{key:n.fbid,className:"_5m94"},c("React").createElement(c("XUICloseButton.react"),{className:"_5m95",size:"medium",shade:"light",onClick:function(){this.props.onVideoRemoved||j(0);this.props.onVideoRemoved(n)}.bind(this)}),c("React").createElement(c("Image.react"),{className:"_19tc",src:n.src}),o,p,c("React").createElement("div",{className:"_37cj"}),c("React").createElement("div",{className:"_37cm"},c("React").createElement("div",{className:"_37cn"})),c("React").createElement("div",{className:"_19td"}))},_renderUploadedMedia:function m(){var n=this.props.videos&&this.props.onVideoRemoved?this.props.videos.map(this._renderUploadedVideo):[],o=this.props.photos.map(this._renderUploadedPhoto);return n.concat(o)},_renderAddPhotoLink:function m(){return c("React").createElement(c("Link.react"),{className:"_3ff7",ref:"uploadButton",onClick:this._onPickerLaunch},c("React").createElement(c("XUIError.react"),{xuiError:this.props.xuiError},c("React").createElement("div",{className:"_22to _19tc"},c("React").createElement(c("XUIGrayText.react"),{className:"_3ff8",size:"small",display:"block"},i._("Add Photos")))))},_renderAddVideoLink:function m(){if(!this.props.showVideoUploadButton||!this.props.onVideoSelected||!this.props.onVideoUploadFinished||!this.props.onVideoUploadError||!this.props.productCatalogID||!this.props.pageContentTabAccessToken)return null;return c("React").createElement(c("PageContentTabProductUploadVideoButton.react"),{productCatalogID:this.props.productCatalogID,onVideoSelected:this.props.onVideoSelected,onVideoUploadFinished:this.props.onVideoUploadFinished,onVideoUploadError:this.props.onVideoUploadError,pageContentTabAccessToken:this.props.pageContentTabAccessToken})},_onPickerLaunch:function m(){this._waterfallLogger.logStep(c("PUWSteps").CLIENT_FLOW_BEGIN);this.state.dialogRenderer.show()}});f.exports=l}),null);
__d("SUITimeSelector.react",["invariant","DateConsts","React","SUIComponent","SUISelector.react","SUISelectorOption.react","SUITheme","formatDate","range"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").Element,l=c("React").PropTypes,m=babelHelpers["extends"]({},c("SUISelector.react").defaultProps,{minuteDelta:30,minuteStart:0,duration:c("DateConsts").HOUR_PER_DAY*c("DateConsts").MIN_PER_HOUR});i=babelHelpers.inherits(n,c("SUIComponent"));j=i&&i.prototype;n.prototype.$SUITimeSelector1=function(o){return c("formatDate")(o,"g:i A",{utc:true})};n.prototype.$SUITimeSelector2=function(){var o=[],p=this.props,q=p.duration,r=p.minuteDelta,s=p.minuteStart;r>=1||r<=60||h(0);s>=0||s<60||h(0);c("range")(s,s+q,r).map(function(t){var u=t*c("DateConsts").SEC_PER_MIN;o.push(c("React").createElement(c("SUISelectorOption.react"),{key:u,value:u},this.$SUITimeSelector1(u)))}.bind(this));return o};n.prototype.render=function(){var o=this.props,p=o.minuteDelta,q=o.minuteStart,r=o.value,s=babelHelpers.objectWithoutProperties(o,["minuteDelta","minuteStart","value"]),t=this.$SUITimeSelector2(),u=t.find(function(u){return u.props.value===r});if(!u&&r!==undefined){r=Math.floor(r/60)*60;t.unshift(c("React").createElement(c("SUISelectorOption.react"),{key:r,value:r},this.$SUITimeSelector1(r)));t.sort(function(v,w){return v.props.value>w.props.value?1:-1})}return c("React").createElement(c("SUISelector.react"),babelHelpers["extends"]({},s,{maxHeight:240,value:r}),t)};function n(){i.apply(this,arguments)}n.propTypes=babelHelpers["extends"]({},c("SUISelector.react").propTypes,{minuteDelta:l.number.isRequired,minuteStart:l.number.isRequired,value:l.number,duration:l.number.isRequired,theme:l.instanceOf(c("SUITheme"))});n.defaultProps=m;f.exports=n}),null);