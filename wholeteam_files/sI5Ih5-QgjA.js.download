if (self.CavalryLogger) { CavalryLogger.start_js(["GwSHQ"]); }

__d("MercuryChatTabPagesGreetingContainer.react",["cx","invariant","ix","CurrentUser","Grid.react","Image.react","MercuryIDs","MercuryMessageActions","MercuryMessageObject","MercuryMessages","MercurySourceType","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","PagesMessagingMercuryChatTabActions","PagesMessagingMercuryChatTabStore","React","StoreAndPropBasedStateMixin","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=c("MercuryMessageActions").get(),l=c("Grid.react").GridItem,m=c("React").PropTypes,n=function n(p){var q=function q(){var r=new(c("MercuryMessageObject"))(c("CurrentUser").getID());k.send(r.constructUserGeneratedMessageObject(p.message,c("MercurySourceType").TITAN_WEB,p.threadID));c("PagesLogger").log(p.pageID,c("PagesLoggerEventEnum").CLICK,c("PagesLoggerEventTargetEnum").MESSENGER_ONE_CLICK_MESSAGE_BUTTON,"www_chat_null_state",["pages_messaging_www","PagesComms","OneClick"],{message:p.messageType,position:p.position})};return c("React").createElement("a",{className:"_2-8t",href:"#",onClick:q},p.message)},o=c("React").createClass({displayName:"MercuryChatTabPagesGreetingContainer",propTypes:{threadID:m.string.isRequired},mixins:[c("StoreAndPropBasedStateMixin")(c("MercuryMessages"),c("PagesMessagingMercuryChatTabStore"))],statics:{calculateState:function p(q){var r=c("MercuryMessages").get().getCurrentlyLoadedMessages(q.threadID);if(r&&r.length>0)return{greetingMessage:null,shouldShowGreetingMessage:false,shouldShowOneClickMessageButtons:false,pageResponsiveness:null,connectionContext:null,pageOnlineMessage:null};var s=c("PagesMessagingMercuryChatTabStore").getStateByThread(q.threadID);return{shouldShowGreetingMessage:s.pagesGreetingShouldShow&&s.pagesGreetingContent&&s.pagesGreetingContent.length>0,shouldShowOneClickMessageButtons:s.pageOneClickMessages&&Object.keys(s.pageOneClickMessages).length>0,greetingMessage:s.pagesGreetingContent,pageResponsiveness:s.pageResponsiveness,connectionContext:s.connectionContext,pageOnlineMessage:s.pageOnlineMessage}}},getInitialState:function p(){return{loggedButtonImpressions:[]}},componentDidMount:function p(){c("PagesMessagingMercuryChatTabActions").requestGreetingConfig(this.props.threadID)},render:function p(){var q=void 0;if(this.state.shouldShowOneClickMessageButtons)q=this._renderOneClickMessageButtons();return c("React").createElement("div",null,c("React").createElement(c("Grid.react"),{alignv:"top",className:"_5-5-",cols:2,spacing:"_253f"},this._renderTopRow(),this._renderSubRow()),q)},_renderOneClickMessageButtons:function p(){var q=c("PagesMessagingMercuryChatTabStore").getStateByThread(this.props.threadID).pageOneClickMessages;q!==undefined&&q!==null||i(0);var r=c("MercuryIDs").getUserIDFromThreadID(this.props.threadID);r!==undefined&&r!==null||i(0);q=q.map(function(s,t){var u=s.messageKey;this._maybeLogOneClickMessageImpression(r,u,t);return c("React").createElement(l,{key:u},c("React").createElement(n,{message:String(s.message),messageType:u,pageID:r,position:t,threadID:this.props.threadID}))}.bind(this));return c("React").createElement(c("Grid.react"),{alignh:"center",className:"_2-8-",cols:1},q)},_renderTopRow:function p(){if(this.state.pageOnlineMessage)return this._renderOnlineMessage();if(this.state.pageResponsiveness)return this._renderPageResponsiveness();return null},_renderSubRow:function p(){if(this.state.shouldShowGreetingMessage)return[c("React").createElement(l,{className:"_2f2u",key:"messenger_greeting_icon"},c("React").createElement(c("Image.react"),{src:j("124738")})),c("React").createElement(l,{className:"_253g",key:"messenger_greeting_text"},this.state.greetingMessage)];return this._renderConnectionContext()},_renderOnlineMessage:function p(){return[c("React").createElement(l,{className:"_2f2v",key:"online_indicator_icon"},c("React").createElement(c("Image.react"),{src:j("311943")})),c("React").createElement(l,{className:"_2f2w",key:"online_indicator_text"},this.state.pageOnlineMessage)]},_renderPageResponsiveness:function p(){return[c("React").createElement(l,{key:"page_responsiveness_icon"},c("React").createElement(c("Image.react"),{src:j("124279")})),c("React").createElement(l,{className:"_2f2w",key:"page_responsiveness_text"},this.state.pageResponsiveness)]},_renderConnectionContext:function p(){if(!this.state.connectionContext)return null;return[c("React").createElement(l,{className:"_2f2u",key:"connection_context_icon"},c("React").createElement(c("Image.react"),{src:j("124577")})),c("React").createElement(l,{className:"_253g",key:"connection_context_text"},this.state.connectionContext)]},_maybeLogOneClickMessageImpression:function p(q,r,s){var t=this.state.loggedButtonImpressions;if(t.indexOf(r)>=0)return;c("PagesLogger").log(q,c("PagesLoggerEventEnum").IMPRESSION,c("PagesLoggerEventTargetEnum").MESSENGER_ONE_CLICK_MESSAGE_BUTTON,"www_chat_null_state",["pages_messaging_www","PagesComms","OneClick"],{position:s,message:r});t.push(r);this.setState({loggedButtonImpressions:t})}});f.exports=o}),null);
__d("ReactComposerPrefillComposedText",["EditorState","createRichComposedTextEditorState","decodeBlocks"],(function a(b,c,d,e,f,g){"use strict";var h={createEditorState:function i(j,k){var l=c("decodeBlocks")(j,k);return c("createRichComposedTextEditorState")(l)}};f.exports=h}),null);