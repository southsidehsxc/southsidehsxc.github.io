if (self.CavalryLogger) { CavalryLogger.start_js(["EXvLq"]); }

__d("BrowseClientEventLogger",["Banzai","SearchLoggingOptions"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="browse_client_event_session",i="search_www_click_error",j="21.",k={logData:function l(event,m,n){__p&&__p();var o=arguments.length<=3||arguments[3]===undefined?{}:arguments[3];if(!event||!m)return;o.event=event;o.client_time=Math.floor(Date.now());o.client_time_2=Date.now()/1e3;o.session_id=m;o.vertical=n;this.processedSessions=this.processedSessions||[];if(this.processedSessions.indexOf(m)!==-1)return;var p=o.event==="click"&&o.clicked_href!=null&&c("SearchLoggingOptions").signalLinkClicks;c("Banzai").post(h,[o],{delay:0,retry:true,signal:p})},logClick:function l(m){m.gt.event="click";this.maybeLogVisiblityEvent(m,true)},maybeLogClientViewEvent:function l(m){m.event="client_view";this.maybeLogVisiblityEvent(m)},maybeLogVisiblityEvent:function l(m){__p&&__p();var n=arguments.length<=1||arguments[1]===undefined?false:arguments[1],o=null;if(n){o=m;m=m.gt}if(!m||!m.xt||m.xt.indexOf(j)!==0){if(n)c("Banzai").post(i,[o],{delay:0,retry:true});return}var p=JSON.parse(m.xt.substring(3));if(n){p.click_type=m.click_type;p.tn=m.tn;p.clicked_href=m.clicked_href;if(o&&o.bt&&o.bt.ct=="feedback"){p.feedback_score=o.bt.feedback_score;p.feedback_type=o.bt.feedback_type}}var event=m.event;if(p.display_style==="context_hscroll"&&(event==="client_view"||event==="vpvd"||event==="visible"||event==="hidden"))return;if(event==="vpvd"){if(!m.ft)return;p.vpvd_time=m.ft.vpvd_time_delta}this.logData(event,p.session_id,p.vertical,p)},logImpression:function l(m){m.event="impression";this.maybeLogVisiblityEvent(m)}};f.exports=k}),null);
__d("XBrowseLoggerController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/browse/logger/",{data:{type:"HackType",required:true}})}),null);
__d("BrowseLogger",["AsyncRequest","Banzai","Run","XBrowseLoggerController","mapObject"],(function a(b,c,d,e,f,g){__p&&__p();var h="browse",i="browse_aggr",j=null,k={},l={},m=function m(v){if(v==null)return"undefined";var w=v.tagName.toLowerCase(),x=v.id,y=v.className;if(x)w+="#"+x;if(y)w+="."+y;return w};function n(){j=null;k={};l={}}function o(v){return Object.assign(v,{clientSessionID:j})}function p(v){c("Banzai").post(h,o(v))}function q(v){var w=c("XBrowseLoggerController").getURIBuilder().setHackType("data",o(v)).getURI();new(c("AsyncRequest"))().setURI(w).send()}function r(){if(j===null)return;l.aggregated=k;c("Banzai").post(i,o(l));n()}function s(v){k[v]=(k[v]||0)+1}function t(v){Object.assign(l,v)}c("Run").onUnload(r);var u={newSession:function v(){r();j=Math.random().toString();if(!l.start_time)l.start_time=Math.round(Date.now()/1e3)},logResultClick:function v(w,x,y,z,A){__p&&__p();var B=arguments.length<=5||arguments[5]===undefined?null:arguments[5],C={action:"result_click",click_type:w.ct||"result",section:w.section||"unknown",id:w.id||-1,path:w.path||"unknown",rank:w.rank||0,referrer:w.referrer||"unknown",result_type:w.result_type||"unknown",session_id:w.session_id||0,query_time:w.query_time||null,abtest_version:w.abtest_version||"NONE",abtest_params:w.abtest_params||null,typeahead_sid:w.typeahead_sid||"",source_module_role:w.source_module_role||"",result_title:w.result_title||"unknown",result_href:w.result_href||"unknown",result_semantic:w.result_semantic||"unknown",type:w.experience_type||"unknown",click_action:y||null,sub_id:w.sub_id||null,owner_id:w.owner_id||null,browse_location:w.browse_location||"unknown",query_data:w.query_data||"unknown",is_headline:w.is_headline||false,qid:x.qid||0,mf_story_key:x.mf_story_key||0,module:w.module||"NONE",view:w.view||null,clicked_href:A||null,bt_key:B};if(x.tn)C.tn=x.tn;if(w.cst)C.click_subtype=w.cst;s("result_click_"+C.click_type);t({path:C.path,referrer:C.referrer,result_type:C.result_type,session_id:C.session_id,abtest_version:C.abtest_version,abtest_params:C.abtest_params,typeahead_sid:C.typeahead_sid});if(B)q(C);else p(C);if(!w.id&&w.browse_location!=="browse_location:mf_trending"&&!B)p({action:"logging_error",click_action:y,click_type:C.click_type,attributes:JSON.stringify(w),element:c("mapObject")({srcElement:z.srcElement,target:z.target,toElement:z.toElement},m),event:{button:z.button,clientX:z.clientX,clientY:z.clientY,ctrlKey:z.ctrlKey,layerX:z.layerX,layerY:z.layerY,offsetX:z.offsetX,offsetY:z.offsetY,pageX:z.pageX,pageY:z.pageY,screenX:z.screenX,screenY:z.screenY,shiftKey:z.shiftKey,type:z.type,x:z.x,y:z.y}})},logControlsClick:function v(w,x){var y={action:"controls_click",click_type:x,path:w.path||"unknown",referrer:w.referrer||"unknown",session_id:w.session_id||0,query_time:w.query_time,filter_name:w.name||"unknown",typeahead_sid:w.typeahead_sid||"",result_type:w.result_type||"unknown",type:w.experience_type||"unknown"};if(w.cst)y.click_subtype=w.cst;s("controls_click_"+x);t({path:y.path,referrer:y.referrer,session_id:y.session_id,typeahead_sid:y.typeahead_sid});p(y)},logResultHover:function v(w,x){var y=arguments.length<=2||arguments[2]===undefined?null:arguments[2],z={action:"result_hover",id:w.id||0,path:w.path||"unknown",rank:w.rank||null,result_type:w.result_type||"unknown",session_id:w.session_id||0,query_time:w.query_time||null,time_elapsed:x||null,typeahead_sid:w.typeahead_sid||0,type:w.experience_type||"unknown",module:w.module||"NONE",view:w.view||null,bt_key:y};s("result_hover");t({path:z.path,session_id:z.session_id,typeahead_sid:z.typeahead_sid});if(y)q(z);else p(z)},logScroll:function v(w,x,y,z){var A={action:"scroll",encoded_query:w,fragments:x,position:y,session_id:z||0};p(A)},logNUXStep:function v(w){var x={action:"nux_step",step:w};p(x)},logDisambiguationImpression:function v(w,x,y,z,A){var B={action:"disambiguation_imp",ids:z,name:w,path:y,type:x,typeahead_sid:A};p(B)},logDisambiguationClick:function v(w,x,y,z,A,B){var C={action:"disambiguation_clk",id:A,index:z,name:w,path:y,type:x,typeahead_sid:B};p(C)},logDYMLinkClick:function v(w,x,y,z){var A={action:"dym_click",path:w.path||"unknown",referrer:w.referrer||"unknown",session_id:w.session_id||0,query_time:w.query_time,abtest_version:w.abtest_version||"NONE",abtest_params:w.abtest_params,typeahead_sid:w.typeahead_sid||"",type:w.experience_type||"unknown",click_action:y,sub_id:w.sub_id,owner_id:w.owner_id,browse_location:w.browse_location||"unknown",query_data:w.query_data||"unknown",module:w.module||"NONE",view:w.view,dym_confidence:w.dym_confidence||"NONE",dym_query:w.dym_query||"",dym_correction:w.dym_correction||"",dym_clicked:w.dym_clicked||""};p(A)}};f.exports=u}),null);
__d("BrowseClickLogger",["BrowseClientEventLogger","BrowseLogger","DOMQuery","Event","Parent","collectDataAttributes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(j,k){__p&&__p();var l=j.target,m=c("collectDataAttributes")(l,["bt","ft","gt"],["data-bt-key"]);if(m.bt&&m.bt.path)m.bt.path+=document.location.search;m.gt.tn=m.ft.tn;m.gt.click_type=m.bt.ct||"result";var n=c("Parent").byAttribute(l,"href"),o=n!=null?n.href:null;m.gt.clicked_href=o;c("BrowseClientEventLogger").logClick(m);if(m.bt==null||m.ft==null)return;if(c("DOMQuery").scry(l,"^.recourse-link").length>0){if(k==="left_click")c("BrowseLogger").logDYMLinkClick(m.bt,m.ft,k,j)}else c("BrowseLogger").logResultClick(m.bt,m.ft,k,j,o,m.normal["data-bt-key"])}var i={init:function j(k){c("Event").listen(k,"mousedown",function(l){var m=l.button===2||l.which===3?"right_click":"left_click";if(l.shiftKey)m+="_shift";if(l.altKey)m+="_alt";if(l.metaKey||l.ctrlKey)m+="_ctrl";h(l,m)}.bind(this))},logClick:h};f.exports=i}),null);
__d("BrowseClientSizeLogger",["BanzaiLogger","DataAttributeUtils","getElementPosition"],(function a(b,c,d,e,f,g){var h={log:function i(j){var k=c("DataAttributeUtils").getDataAttribute(j,"data-xt"),l=JSON.parse(k.substring(k.indexOf("{"))),m=c("getElementPosition")(j);l.client_height=m.height;l.client_width=m.width;l.raw_id=+l.raw_id;c("BanzaiLogger").log("SearchResultsClientSizeLoggerConfig",l)}};f.exports=h}),null);
__d("BrowseTopFiltersFullWidth",["cx","Arbiter","CSS","NavigationMessage","SubscriptionsHandler"],(function a(b,c,d,e,f,g,h){var i,j=/(facebook\.com\/(search|hashtag|topic)\/)/,k={init:function l(){c("CSS").addClass(document.body,"_4dik");i=new(c("SubscriptionsHandler"))();i.addSubscriptions(c("Arbiter").subscribe(c("NavigationMessage").NAVIGATION_FIRST_RESPONSE,this.cleanup));c("Arbiter").inform("browse_top_filters_full_width_displayed")},cleanup:function l(){i&&i.release();if(!window.location.href.match(j))c("CSS").removeClass(document.body,"_4dik")}};f.exports=k}),null);
__d("GamesGogglesSwitch",[],(function a(b,c,d,e,f,g){var h=false,i={enable:function j(){h=true},isEnabled:function j(){return h}};f.exports=i}),null);
__d("VisibilityTrackingHelper",["Arbiter","DesktopHscrollUnitEventConstants","getViewportDimensions","Event"],(function a(b,c,d,e,f,g){var h={getEventListeners:function i(j){return[c("Event").listen(document,"DOMContentLoaded",j),c("Event").listen(window,"scroll",j),c("Event").listen(window,"resize",j),c("Arbiter").subscribe(c("DesktopHscrollUnitEventConstants").HSCROLL_ITEM_SHOWN_EVENT,j)]},getViewportInfo:function i(){return c("getViewportDimensions")()}};f.exports=h}),null);
__d("VisibilityTracking",["Banzai","BrowseClientEventLogger","DataAttributeUtils","ErrorUtils","ScriptPath","SubscriptionsHandler","Visibility","VisibilityTrackingHelper","collectDataAttributes","getElementPosition","pageID","throttle"],(function a(b,c,d,e,f,g){__p&&__p();var h="visibility_tracking",i="[data-vistracking]",j=500,k=50,l=50,m=50,n=50,o=0;function p(q){"use strict";__p&&__p();q=q||{};if(!q.bypass_banzai_check&&!c("Banzai").isEnabled(h))return;this.visibleElementInfo={};this.getDataFromConfig(q);c("Visibility").addListener(c("Visibility").VISIBLE,c("ErrorUtils").guard(function(){return this.fireEvent("browser")}.bind(this),"VisibilityTracking:visible",this));c("Visibility").addListener(c("Visibility").HIDDEN,c("ErrorUtils").guard(function(){return this.clearAllVisibleElements("browser")}.bind(this),"VisibilityTracking:hidden",this));c("ScriptPath").subscribe(c("ErrorUtils").guard(function(){return this.updateVisibleElements()}.bind(this),"VisibilityTracking:scriptPath",this));c("Banzai").subscribe(c("Banzai").SHUTDOWN,c("ErrorUtils").guard(function(){return this.onUnload()}.bind(this),"VisibilityTracking:banzaiShutdown",this));this.fireEventCallback=c("throttle").acrossTransitions(c("ErrorUtils").guard(function(event){return this.fireEvent(event)}.bind(this),"VisibilityTracking:fireEventCallback",this),this.timeout,this);this.listeners=new(c("SubscriptionsHandler"))();c("VisibilityTrackingHelper").getEventListeners(function(){return this.fireEventCallback()}.bind(this)).forEach(function(r){this.listeners.addSubscriptions(r)},this);if(this.extraInit)c("ErrorUtils").applyWithGuard(this.extraInit.bind(this))}p.prototype.getDataFromConfig=function(q){"use strict";__p&&__p();this.config=q;this.root=q.root||document.documentElement;this.selector=q.selector||i;this.timeout=q.timeout!==undefined?q.timeout:j;this.minOffsetVisibleFromBottom=q.minOffsetVisibleFromBottom!==undefined?q.minOffsetVisibleFromBottom:k;this.minOffsetVisibleFromTop=q.minOffsetVisibleFromTop!==undefined?q.minOffsetVisibleFromTop:l;this.minOffsetVisibleFromLeft=q.minOffsetVisibleFromLeft!==undefined?q.minOffsetVisibleFromLeft:m;this.minOffsetVisibleFromRight=q.minOffsetVisibleFromRight!==undefined?q.minOffsetVisibleFromRight:n;this.handleAllHiddenEvents=q.handleAllHiddenEvents!==undefined?q.handleAllHiddenEvents:false;this.handleAllVisibleEvents=q.handleAllVisibleEvents!==undefined?q.handleAllVisibleEvents:false;this.cacheTrackedElements=q.cacheTrackedElements!==undefined?q.cacheTrackedElements:false};p.prototype.getAllTrackedElements=function(){"use strict";__p&&__p();if(!this.allTrackedElements){this.allTrackedElements={};var q=[];if(this.config.is_xtrackable)q=c("DataAttributeUtils").getXTrackableElements();else if(this.root&&this.root.querySelectorAll)q=this.root.querySelectorAll(this.selector);for(var r=0;r<q.length;r++){var s=this.getElementID(q[r]);this.allTrackedElements[s.toString()]=q[r]}}return this.allTrackedElements};p.prototype.refreshAllTrackedElements=function(){"use strict";delete this.allTrackedElements;return this.getAllTrackedElements()};p.prototype.getDataToLog=function(q){"use strict";var r=Object.assign(c("collectDataAttributes")(q,["gt"]).gt,{client_time:Date.now()/1e3,time_spent_id:c("pageID"),script_path:c("ScriptPath").getScriptPath()});return r};p.prototype.getElementID=function(q){"use strict";var r=q.$VisibilityTracking1;if(r)return r;q.$VisibilityTracking1=++o;return o};p.prototype.sendDataToLog=function(q){"use strict";c("BrowseClientEventLogger").maybeLogVisiblityEvent(q);c("Banzai").post(h,q)};p.prototype.isInstreamAdStoryElement=function(q){"use strict";return false};p.prototype.fireEvent=function(){__p&&__p();var q=arguments.length<=0||arguments[0]===undefined?"default":arguments[0];"use strict";var r=this.cacheTrackedElements?this.allTrackedElements:this.refreshAllTrackedElements();for(var s in r){var t=r[s],u=c("VisibilityTrackingHelper").getViewportInfo(),v=this.isVisible(t,u);if(!v&&(s in this.visibleElementInfo||this.handleAllHiddenEvents))this.handleEvent(t,{name:"hidden",cause:q});else if(v&&(!(s in this.visibleElementInfo)||this.handleAllVisibleEvents))this.handleEvent(t,{name:"visible",cause:q})}this.clearUntrackedVisibleElements()};p.prototype.isVisible=function(q,r){"use strict";if(q==null)return false;var s=c("getElementPosition")(q);return s.y+s.height>=this.minOffsetVisibleFromTop&&s.y<=r.height-this.minOffsetVisibleFromBottom&&s.x+s.width>=this.minOffsetVisibleFromLeft&&s.x<=r.width-this.minOffsetVisibleFromRight};p.prototype.handleEvent=function(q,event){"use strict";__p&&__p();var r=this.getElementID(q).toString(),s=this.getDataToLog(q),t=void 0;if(event.name==="visible"){var u=Math.floor(Date.now()/1e3);t=c("pageID").concat(":",u.toString(),":",this.getElementID(q).toString());this.visibleElementInfo[r]={visibility_id:t,elem:q}}else if(event.name==="hidden"){if(r in this.visibleElementInfo){t=this.visibleElementInfo[r].visibility_id;delete this.visibleElementInfo[r]}if(event.cause==="browser")return}this.sendDataToLog(Object.assign(s,{event:event.name,visibility_id:t}))};p.prototype.clearUntrackedVisibleElements=function(){"use strict";var q=this.getAllTrackedElements();for(var r in this.visibleElementInfo)if(!(r in q)){var s=this.visibleElementInfo[r];if(s.elem)this.handleEvent(s.elem,{name:"hidden",cause:"removed"})}};p.prototype.clearAllVisibleElements=function(){var q=arguments.length<=0||arguments[0]===undefined?"default":arguments[0];"use strict";var r=this.getAllTrackedElements();for(var s in r)if(s in this.visibleElementInfo)this.handleEvent(r[s],{name:"hidden",cause:q});this.clearUntrackedVisibleElements()};p.prototype.updateVisibleElements=function(){"use strict";this.clearAllVisibleElements();this.fireEvent()};p.prototype.refreshAndFireEvent=function(event){"use strict";this.refreshAllTrackedElements();this.fireEventCallback(event)};p.prototype.onUnload=function(){"use strict";this.clearAllVisibleElements();if(this.listeners){this.listeners.release();this.listeners=null}if(this.extraCleanup)c("ErrorUtils").applyWithGuard(this.extraCleanup.bind(this))};p.init=function(q){"use strict";return new p(q)};f.exports=p}),null);
__d("GamesImpressionTracker",["cx","Arbiter","Banzai","Event","GamesGogglesSwitch","VisibilityTracking","throttle"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k="data-gamesegoimp",l="data-gamesrankedimp",m=1e3;function n(s){if(c("GamesGogglesSwitch").isEnabled())s.className=s.className+" _1z5y"}function o(s){return function(){if(s){s();s=null}}}i=babelHelpers.inherits(p,c("VisibilityTracking"));j=i&&i.prototype;p.prototype.handleEvent=function(s,event){"use strict";__p&&__p();if(event.name==="visible"){var t=s.getAttribute(l);s.removeAttribute(l);if(t){n(s);t&&c("Banzai").post("games_ranked_imp",{data:t})}c("Event").listen(s,"mouseover",o(function(){c("Banzai").post("games_mouseover",{data:t});c("Event").listen(s,"mouseout",o(function(){c("Banzai").post("games_mouseout",{data:t})}))}))}};function p(){"use strict";i.apply(this,arguments)}var q=new p({selector:"[data-gamesrankedimp]",handleAllVisibleEvents:true,cacheTrackedElements:true}),r=c("throttle").acrossTransitions(function(){return q.fireEventCallback()},m,null);if(q.listeners)q.listeners.addSubscriptions(c("Event").listen(document,"mousemove",r),c("Event").listen(document,"click",r),c("Arbiter").subscribe("games_unit_loaded",function(){return q.refreshAllTrackedElements()}))}),null);
__d("ViewableImpressionUtils",["csx","cx","CSS"],(function a(b,c,d,e,f,g,h,i){var j={isHorizontallyOffscreen:function k(l,m,n){var o=Math.max(m.x,0),p=Math.min(m.x+m.width,n.width);return p-o<m.width||c("CSS").matchesSelector(l,".desktop_hscroll_offscreen")}};f.exports=j}),null);
__d("FullViewLogger",["Banzai","ScriptPath","SubscriptionsHandler","URI"],(function a(b,c,d,e,f,g){__p&&__p();h.logFromViewableImpressionTracker=function(i){"use strict";var j=new h();j.subscribeToTrackerEvents(i)};h.prototype.subscribeToTrackerEvents=function(i){"use strict";this.subscriptionsHandler=new(c("SubscriptionsHandler"))();this.subscriptionsHandler.addSubscriptions(i.addListener("full_view",this.onFullView,this))};h.prototype.onFullView=function(i){"use strict";if(this.$FullViewLogger1())this.$FullViewLogger2(i);var j={token:i.token,fullViewType:i.fullViewType,scriptPath:c("ScriptPath").getTopViewEndpoint()};c("Banzai").post("xtrackable:full_view",j);if(this.$FullViewLogger1())this.$FullViewLogger3(j)};h.prototype.$FullViewLogger1=function(){"use strict";return 0};h.prototype.$FullViewLogger2=function(i){"use strict"};h.prototype.$FullViewLogger3=function(i){"use strict"};function h(){"use strict"}f.exports=h}),null);
__d("CommercialBreakMobileEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SUBSCRIPTION_SUCCESS:"commercial_break_skywalker_subscription_success",SUBSCRIPTION_FAILURE:"commercial_break_skywalker_subscription_failure",RECEIVE_INTENT_MSG:"commercial_break_skywalker_receive_intent",RECEIVE_START_MSG:"commercial_break_skywalker_receive_start",RECEIVE_INVALID_MSG:"commercial_break_skywalker_receive_invalid_message",VIDEO_FETCH_SUCCESS:"commercial_break_video_fetch_success",VIDEO_FETCH_FAILURE:"commercial_break_video_fetch_failure",COMMERCIAL_BREAK_INLINE_TO_FULLSCREEN:"commercial_break_inline_to_fullscreen",COMMERCIAL_BREAK_FULLSCREEN_TO_INLINE:"commercial_break_fullscreen_to_inline",COMMERCIAL_BREAK_SCROLLED_AWAY:"commercial_break_scrolled_away",COMMERCIAL_BREAK_SCROLLED_INTO:"commercial_break_scrolled_into",COMMERCIAL_BREAK_START_NFX:"commercial_break_start_nfx",COMMERCIAL_BREAK_HIDE_AD:"commercial_break_hide_ad",COMMERCIAL_BREAK_HIDE_AD_BREAKS:"commercial_break_hide_ad_breaks",COMMERCIAL_BREAK_START:"commercial_break_start",COMMERCIAL_BREAK_START_AD:"commercial_break_start_ad",COMMERCIAL_BREAK_TRANSIT:"commercial_break_transit",COMMERCIAL_BREAK_WAIT_FOR:"commercial_break_wait_for",COMMERCIAL_BREAK_STATIC_COUNTDOWN:"commercial_break_static_countdown",COMMERCIAL_BREAK_END:"commercial_break_end",COMMERCIAL_BREAK_PAUSE_AD:"commercial_break_pause_ad",COMMERCIAL_BREAK_PLAY_AD:"commercial_break_play_ad",COMMERCIAL_BREAK_NO_AD_TRANSITION:"commercial_break_no_ad_transition",COMMERCIAL_BREAK_ELIGIBLE_VOD_START:"commercial_break_eligible_vod_start",COMMERCIAL_BREAK_START_SHOW_NOTHING:"commercial_break_start_show_nothing",COMMERCIAL_BREAK_STARTING_INDICATOR:"commercial_break_starting_indicator",COMMERCIAL_BREAK_START_TIME_DELTA:"commercial_break_start_time_delta",COMMERCIAL_BREAK_IMPRESSION_ATTEMPT:"commercial_break_impression_attempt",COMMERCIAL_BREAK_SKYWALKER_RECEIVED_DUPLICATE_EVENT:"commercial_break_skywalker_received_duplicate_event",COMMERCIAL_BREAK_ADS_LOADED:"commercial_break_ads_loaded",COMMERCIAL_BREAK_FIRE_EVENT_IN_TRACKER:"commercial_break_fire_event_in_tracker",COMMERCIAL_BREAK_LOG_IMPRESSION_IN_TRACKER:"commercial_break_log_impression_in_tracker",COMMERCIAL_BREAK_REGISTER_VIDEO:"commercial_break_register_video",COMMERCIAL_BREAK_RESUME_HOST_VIDEO:"commercial_break_resume_host_video",COMMERCIAL_BREAK_CLICK_ON_STARTING_INDICATOR:"commercial_break_click_on_starting_indicator",COMMERCIAL_BREAK_PLUGIN_IS_ON_DIFFERENT_HOSTVIDEO:"commercial_break_plugin_is_on_different_hostvideo",COMMERCIAL_BREAK_LOG_AD_IMPRESSION:"commercial_break_log_ad_impression",COMMERCIAL_BREAK_CLICK:"commercial_break_click",COMMERCIAL_BREAK_SCRUB_THROUGH:"commercial_break_scrub_through",COMMERCIAL_BREAK_SCRUBBER_LEAVE_BEFORE_AD_BREAK:"commercial_break_scrubber_leave_before_ad_break",COMMERCIAL_BREAK_SCRUBBER_LEAVE_DURING_AD_BREAK:"commercial_break_scrubber_leave_during_ad_break",COMMERCIAL_BREAK_CONTEXT_CARD_INFO_BUTTON_CLICK:"commercial_break_context_card_info_button_click"})}),null);
__d("FullViewType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ENTIRE_UNIT:1})}),null);
__d("PercentVisible",[],(function a(b,c,d,e,f,g){f.exports={NO_VISIBLE:-1,VISIBLE_0_PCT:0,VISIBLE_50_PCT:50,VISIBLE_100_PCT:100}}),null);
__d("VisibilityState",[],(function a(b,c,d,e,f,g){"use strict";f.exports={TOP:"TOP",BOTTOM:"BOTTOM",FULL:"FULL",NULL:"NULL"}}),null);
__d("ViewableImpressionTracker",["csx","AdImpressionLoggingConfig","Banzai","BrowseClientEventLogger","CommercialBreakMobileEvent","DataAttributeUtils","DOM","FullViewType","MarauderLogger","NonBlockingIFrame","PercentVisible","Style","URI","ViewableImpressionUtils","Visibility","VisibilityState","WebSpeedJSExperiments","ge","getElementPosition","getViewportDimensions","mixInEventEmitter"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(j,k,l){"use strict";__p&&__p();this.id=j;this.element=k;this.config=l;this.iframe=null;this.viewableTimeout=null;this.clearSubsequentTimeout=null;this.waitForSubsequent=false;this.waitForLogged=false;this.isNonViewableLogged=false;this.isVisible=false;this.iframeLogged=false;this.banzaiLogged=false;this.topLeftInViewport=false;this.bottomRightInViewport=false}i.prototype.getID=function(){"use strict";return this.id};i.prototype.getConfig=function(){"use strict";return this.config};i.prototype.getPercentInViewport=function(){"use strict";var j=c("getViewportDimensions")(),k=c("getElementPosition")(this.element);return this.$ViewableImpressionTracker1(j,k)};i.prototype.$ViewableImpressionTracker2=function(j,k){__p&&__p();var l=arguments.length<=2||arguments[2]===undefined?0:arguments[2];"use strict";if(k.x<j.width&&k.x+k.width>0&&k.y<j.height&&k.y+k.height>l&&c("Style").get(this.element,"visibility")!=="hidden"&&c("Style").get(this.element,"opacity")!=="0"){var m=Math.max(k.x,0),n=Math.min(k.x+k.width,j.width),o=Math.max(k.y,l),p=Math.min(k.y+k.height,j.height);if(k.height*k.width===0)return 100;var q=100*(n-m)*(p-o)/(k.height*k.width);return q}return 0};i.prototype.$ViewableImpressionTracker1=function(j,k){"use strict";if(this.config.require_horizontally_onscreen&&c("ViewableImpressionUtils").isHorizontallyOffscreen(this.element,k,j))return 0;return this.$ViewableImpressionTracker2(j,k)};i.prototype.$ViewableImpressionTracker3=function(j,k,l){"use strict";var m=this.$ViewableImpressionTracker2(j,k,l);if(m===0)return c("PercentVisible").NO_VISIBLE;else if(m<50)return c("PercentVisible").VISIBLE_0_PCT;else if(m<100)return c("PercentVisible").VISIBLE_50_PCT;else return c("PercentVisible").VISIBLE_100_PCT};i.prototype.$ViewableImpressionTracker4=function(j,k){var l=arguments.length<=2||arguments[2]===undefined?0:arguments[2];"use strict";var m=Math.max(k.y,l),n=Math.min(k.y+k.height,j.height),o=100*(n-m)/(j.height-l);if(o<50)return c("PercentVisible").VISIBLE_0_PCT;else if(o<100)return c("PercentVisible").VISIBLE_50_PCT;else return c("PercentVisible").VISIBLE_100_PCT};i.prototype.$ViewableImpressionTracker5=function(j,k){"use strict";__p&&__p();var l=0,m=c("ge")("pagelet_bluebar");if(m&&m.offsetHeight)l=m.offsetHeight+m.offsetTop;if(this.config.should_log_viewport_duration){var n=this.$ViewableImpressionTracker4(j,k,l);switch(n){case c("PercentVisible").VISIBLE_0_PCT:case c("PercentVisible").VISIBLE_50_PCT:case c("PercentVisible").VISIBLE_100_PCT:this.emit("viewport_viewability",{tracker:this,id:this.getID(),token:this.getToken(),percentVisible:n});break;default:break}}var o=this.$ViewableImpressionTracker3(j,k,l);switch(o){case c("PercentVisible").VISIBLE_0_PCT:case c("PercentVisible").VISIBLE_50_PCT:case c("PercentVisible").VISIBLE_100_PCT:this.emit("viewability",{tracker:this,id:this.getID(),token:this.getToken(),percentVisible:o});break;default:this.emit("hidden",{id:this.getID(),token:this.getToken()});break}};i.prototype.$ViewableImpressionTracker6=function(j,k){"use strict";if(c("Style").get(this.element,"visibility")==="hidden"||c("Style").get(this.element,"opacity")==="0")return false;var l=k.x,m=k.y,n=k.x+k.width,o=k.y+k.height;this.topLeftInViewport=this.topLeftInViewport||l>=0&&l<=j.width&&m>=0&&m<=j.height;this.bottomRightInViewport=this.bottomRightInViewport||n>=0&&n<=j.width&&o>=0&&o<=j.height;return this.topLeftInViewport&&this.bottomRightInViewport};i.prototype.$ViewableImpressionTracker7=function(j,k){"use strict";if(this.hasEmittedFullViewEvent)return;if(this.$ViewableImpressionTracker6(j,k)){this.emit("full_view",{tracker:this,id:this.getID(),token:this.getToken(),fullViewType:c("FullViewType").ENTIRE_UNIT});this.hasEmittedFullViewEvent=true}};i.prototype.$ViewableImpressionTracker8=function(j,k){"use strict";__p&&__p();var l=k.y,m=k.y+k.height,n=l>=0&&l<=j.height,o=m>=0&&m<=j.height,p=void 0;if(n&&o)p=c("VisibilityState").FULL;else if(n)p=c("VisibilityState").TOP;else if(o)p=c("VisibilityState").BOTTOM;else p=c("VisibilityState").NULL;this.emit("viewability_debug",{tracker:this,id:this.getID(),token:this.getToken(),visibleState:p})};i.prototype.onVisible=function(event){"use strict";__p&&__p();this.isVisible=true;var j=c("getViewportDimensions")(),k=c("getElementPosition")(this.element),l=this.$ViewableImpressionTracker1(j,k),m=l>this.config.pixel_in_percentage;this.emit("visible",{tracker:this,id:this.getID(),token:this.getToken(),percentInViewport:l});if(this.config.should_log_viewability_duration)this.$ViewableImpressionTracker5(j,k);if(this.config.should_log_debug_duration)this.$ViewableImpressionTracker8(j,k);this.$ViewableImpressionTracker7(j,k);if(!m){this.$ViewableImpressionTracker9();return}if(this.isLogged())this.$ViewableImpressionTracker10();else this.$ViewableImpressionTracker11();if(!this.waitForLogged&&!this.isLogged()&&!(c("AdImpressionLoggingConfig").blockInvisible&&c("Visibility").isHidden())){this.waitForLogged=true;this.viewableTimeout=setTimeout(function(){__p&&__p();this.waitForLogged=false;if(c("AdImpressionLoggingConfig").blockInvisible&&c("Visibility").isHidden())return;var l=this.getPercentInViewport(),m=l>this.config.pixel_in_percentage;if(!m){this.$ViewableImpressionTracker12();return}this.logImpression(1,{});this.$ViewableImpressionTracker10()}.bind(this),this.config.duration_in_ms)}};i.prototype.onHidden=function(){"use strict";__p&&__p();this.emit("hidden",{id:this.getID(),token:this.getToken()});if(this.config.log_initial_nonviewable&&!this.isLogged()&&!this.isNonViewableLogged)this.logNonViewableImpression();else if(!this.config.log_initial_nonviewable&&!this.isLogged()&&this.isVisible)this.logNonViewableImpression();this.isVisible=false;if(this.waitForLogged){this.waitForLogged=false;clearTimeout(this.viewableTimeout)}if(this.isLogged()&&!this.waitForSubsequent&&this.config.subsequent_gap_in_ms>=0){this.waitForSubsequent=true;this.clearSubsequentTimeout=setTimeout(function(){this.waitForSubsequent=false;this.reset();if(this.isVisible)this.onVisible()}.bind(this),this.config.subsequent_gap_in_ms)}this.$ViewableImpressionTracker12()};i.prototype.onRemoved=function(){"use strict";this.isVisible=false};i.prototype.getToken=function(){"use strict";return c("DataAttributeUtils").getDataAttribute(this.element,"data-xt")};i.prototype.logImpression=function(j,k){"use strict";__p&&__p();if(this.isLogged())return;var l=this.getToken(),m=Math.floor(Date.now()/1e3),n=this.$ViewableImpressionTracker13(),o={xt:l,isv:j,cts:m,csp:n};if(c("Banzai").isEnabled("xtrackable_clientview_batch")&&this.config.should_batch||this.config.vital_mode_for_ss||this.config.signal_mode_for_ss){var p=this.config.vital_mode_for_ss?c("Banzai").VITAL:{};p.signal=this.config.signal_mode_for_ss;this.logWithBanzai(o,p)}else this.logWithIFrame(Object.assign(o,k))};i.prototype.logNonViewableImpression=function(){"use strict";if(this.config.nonviewableEnabled){var j=this.getToken();c("Banzai").post("xtrackable:nonviewable",{xt:j})}this.isNonViewableLogged=true};i.prototype.isLogged=function(){"use strict";return this.iframeLogged||this.banzaiLogged};i.prototype.reset=function(){"use strict";__p&&__p();if(this.iframeLogged)this.iframeLogged=false;if(this.iframe){c("DOM").remove(this.iframe);this.iframe=null}if(this.banzaiLogged)this.banzaiLogged=false;this.isNonViewableLogged=false;this.isVisible=false;this.waitForLogged=false;this.waitForSubsequent=false};i.prototype.logWithBanzai=function(j,k){"use strict";this.banzaiLogged=true;c("BrowseClientEventLogger").maybeLogClientViewEvent(j);c("Banzai").post("xtrackable:clientview_batch",j,k)};i.prototype.logWithIFrame=function(j){"use strict";this.iframeLogged=true;if(c("WebSpeedJSExperiments").non_blocking_tracker||this.config.is_instream_story)c("NonBlockingIFrame").loadIFrame(new(c("URI"))(this.config.impressionURL).addQueryData(j).toString());else{this.iframe=c("DOM").create("iframe",{src:new(c("URI"))(this.config.impressionURL).addQueryData(j),width:0,height:0,frameborder:0,scrolling:"no",className:"fbEmuTracking"});this.iframe.setAttribute("aria-hidden","true");c("DOM").appendContent(this.element,this.iframe)}};i.prototype.$ViewableImpressionTracker13=function(){"use strict";__p&&__p();var j=c("DataAttributeUtils").getDataAttribute(this.element,"data-dedupekey");if(j===null)return null;var k=this.$ViewableImpressionTracker14();if(k===null||k.length===0)return null;var l=k.length;while(--l>=0){var m=c("DataAttributeUtils").getDataAttribute(k[l],"data-dedupekey");if(m!==null&&j===m)break}return l+1};i.prototype.$ViewableImpressionTracker14=function(){"use strict";__p&&__p();var j=c("ge")("contentArea");if(j){var k="._5jmm",l=c("DOM").scry(j,k);return l.filter(function(n){return c("DataAttributeUtils").getDataAttribute(n,"data-dedupekey")})}else{var m=c("ge")("m_newsfeed_stream");return m===null?null:m.getElementsByTagName("article")}};i.prototype.$ViewableImpressionTracker15=function(){"use strict";return 0};i.prototype.$ViewableImpressionTracker9=function(){"use strict";if(this.$ViewableImpressionTracker15()){c("Style").set(this.element,"background-color","#abab9a");c("Style").set(this.element,"outline","3px solid #abab9a")}};i.prototype.$ViewableImpressionTracker11=function(){"use strict";if(this.$ViewableImpressionTracker15()){c("Style").set(this.element,"background-color","#e4f70a");c("Style").set(this.element,"outline","3px solid #e4f70a")}};i.prototype.$ViewableImpressionTracker12=function(){"use strict";if(this.$ViewableImpressionTracker15()){c("Style").set(this.element,"background-color",null);c("Style").set(this.element,"outline",null)}};i.prototype.$ViewableImpressionTracker10=function(){"use strict";if(this.$ViewableImpressionTracker15()){c("Style").set(this.element,"background-color","#047515");c("Style").set(this.element,"outline","3px solid #047515")}};c("mixInEventEmitter")(i,{visible:true,hidden:true,full_view:true,viewability:true,viewport_viewability:true,viewability_debug:true});f.exports=i}),null);
__d("ViewabilityDebugLogger",["Banzai","Map","ViewableImpressionTracker","VisibilityState","keyMirror"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("keyMirror")({top_enter_viewport:null,top_exit_viewport:null,bottom_enter_viewport:null,bottom_exit_viewport:null});i.logFromViewableImpressionTracker=function(j){var k=new i();k.subscribeToTrackerEvents(j)};function i(){this.$ViewabilityDebugLogger1=new(c("Map"))();this.$ViewabilityDebugLogger2=new(c("Map"))();this.$ViewabilityDebugLogger3=new(c("Map"))()}i.prototype.subscribeToTrackerEvents=function(j){j.addListener("viewability_debug",this.onView.bind(this));j.addListener("hidden",this.onHidden.bind(this))};i.prototype.onView=function(event){__p&&__p();var j=event.id,k=event.visibleState,l=Date.now(),m=this.$ViewabilityDebugLogger1.get(j),n=this.$ViewabilityDebugLogger2.get(j);switch(k){case c("VisibilityState").TOP:if(!this.$ViewabilityDebugLogger1.has(j))this.$ViewabilityDebugLogger4(event,l,c("VisibilityState").TOP);if(n){var o={token:n.token,start_ts:n.start_ts,event_type:h.bottom_exit_viewport,event_time:l};this.$ViewabilityDebugLogger5(o,j,c("VisibilityState").BOTTOM)}break;case c("VisibilityState").FULL:if(!this.$ViewabilityDebugLogger3.has(j))this.$ViewabilityDebugLogger4(event,l,c("VisibilityState").FULL);break;case c("VisibilityState").BOTTOM:if(!this.$ViewabilityDebugLogger2.has(j))this.$ViewabilityDebugLogger4(event,l,c("VisibilityState").BOTTOM);if(m){var p={token:m.token,start_ts:m.start_ts,event_type:h.top_exit_viewport,event_time:l};this.$ViewabilityDebugLogger5(p,j,c("VisibilityState").TOP)}break;case c("VisibilityState").NULL:if(m){var q={token:m.token,start_ts:m.start_ts,event_type:h.top_exit_viewport,event_time:l};this.$ViewabilityDebugLogger5(q,j,c("VisibilityState").TOP)}if(n){var r={token:n.token,start_ts:n.start_ts,event_type:h.bottom_exit_viewport,event_time:l};this.$ViewabilityDebugLogger5(r,j,c("VisibilityState").BOTTOM)}}};i.prototype.onHidden=function(event){var j=event.id,k=Date.now(),l=this.$ViewabilityDebugLogger1.get(j),m=this.$ViewabilityDebugLogger2.get(j);if(l){var n={token:l.token,start_ts:l.start_ts,event_type:h.top_exit_viewport,event_time:k};this.$ViewabilityDebugLogger5(n,j,c("VisibilityState").TOP)}if(m){var o={token:m.token,start_ts:m.start_ts,event_type:h.bottom_exit_viewport,event_time:k};this.$ViewabilityDebugLogger5(o,j,c("VisibilityState").BOTTOM)}};i.prototype.$ViewabilityDebugLogger4=function(event,j,k){__p&&__p();var l={token:event.token,start_ts:j,event_time:j};switch(k){case c("VisibilityState").TOP:l.event_type=h.top_enter_viewport;this.$ViewabilityDebugLogger1.set(event.id,l);this.$ViewabilityDebugLogger6(l);break;case c("VisibilityState").BOTTOM:l.event_type=h.bottom_enter_viewport;this.$ViewabilityDebugLogger2.set(event.id,l);this.$ViewabilityDebugLogger6(l);break;case c("VisibilityState").FULL:this.$ViewabilityDebugLogger3.set(event.id,l);if(!this.$ViewabilityDebugLogger1.has(event.id)){var m={token:l.token,start_ts:j,event_time:j,event_type:h.top_enter_viewport};this.$ViewabilityDebugLogger1.set(event.id,m);this.$ViewabilityDebugLogger6(m)}if(!this.$ViewabilityDebugLogger2.has(event.id)){var n={token:l.token,start_ts:j,event_time:j,event_type:h.bottom_enter_viewport};this.$ViewabilityDebugLogger2.set(event.id,n);this.$ViewabilityDebugLogger6(n)}break}};i.prototype.$ViewabilityDebugLogger6=function(j){c("Banzai").post("xtrackable:viewability_debug",j)};i.prototype.$ViewabilityDebugLogger5=function(j,k,l){c("Banzai").post("xtrackable:viewability_debug",j);switch(l){case c("VisibilityState").BOTTOM:this.$ViewabilityDebugLogger2["delete"](k);break;case c("VisibilityState").TOP:this.$ViewabilityDebugLogger1["delete"](k);break}this.$ViewabilityDebugLogger3["delete"](k)};f.exports=i}),null);
__d("VisibilityUnitType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FEED_UNIT:"feed_unit",VIEWPORT:"viewport"})}),null);
__d("ViewabilityDurationSegmentLogger",["Banzai","Map","PercentVisible","ViewableImpressionTracker","VisibilityUnitType"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=8e3;i.logFromViewableImpressionTracker=function(j){var k=new i();k.subscribeToTrackerEvents(j)};function i(){this.$ViewabilityDurationSegmentLogger1=new(c("Map"))();this.$ViewabilityDurationSegmentLogger2=new(c("Map"))();this.$ViewabilityDurationSegmentLogger3=new(c("Map"))();this.$ViewabilityDurationSegmentLogger4=new(c("Map"))();this.$ViewabilityDurationSegmentLogger5=new(c("Map"))()}i.prototype.subscribeToTrackerEvents=function(j){j.addListener("viewability",this.onViewable.bind(this));j.addListener("viewport_viewability",this.onViewport.bind(this));j.addListener("hidden",this.onHidden.bind(this))};i.prototype.onViewable=function(event){__p&&__p();var j=event.id,k=event.percentVisible,l=Date.now(),m=void 0,n=void 0;switch(k){case c("PercentVisible").VISIBLE_0_PCT:m=this.$ViewabilityDurationSegmentLogger1.get(j);if(!m)this.$ViewabilityDurationSegmentLogger6(event,c("PercentVisible").VISIBLE_0_PCT,l,c("VisibilityUnitType").FEED_UNIT);else this.$ViewabilityDurationSegmentLogger7(m,j,l);m=this.$ViewabilityDurationSegmentLogger2.get(j);if(m){n=this.$ViewabilityDurationSegmentLogger8(m,j,l,true);this.$ViewabilityDurationSegmentLogger9(n,j)}m=this.$ViewabilityDurationSegmentLogger4.get(j);if(m){n=this.$ViewabilityDurationSegmentLogger8(m,j,l,true);this.$ViewabilityDurationSegmentLogger9(n,j)}break;case c("PercentVisible").VISIBLE_50_PCT:m=this.$ViewabilityDurationSegmentLogger1.get(j);if(!m)this.$ViewabilityDurationSegmentLogger6(event,c("PercentVisible").VISIBLE_0_PCT,l,c("VisibilityUnitType").FEED_UNIT);else this.$ViewabilityDurationSegmentLogger7(m,j,l);m=this.$ViewabilityDurationSegmentLogger2.get(j);if(!m)this.$ViewabilityDurationSegmentLogger6(event,c("PercentVisible").VISIBLE_50_PCT,l,c("VisibilityUnitType").FEED_UNIT);else this.$ViewabilityDurationSegmentLogger7(m,j,l);m=this.$ViewabilityDurationSegmentLogger4.get(j);if(m){n=this.$ViewabilityDurationSegmentLogger8(m,j,l,true);this.$ViewabilityDurationSegmentLogger9(n,j)}break;case c("PercentVisible").VISIBLE_100_PCT:m=this.$ViewabilityDurationSegmentLogger1.get(j);if(!m)this.$ViewabilityDurationSegmentLogger6(event,c("PercentVisible").VISIBLE_0_PCT,l,c("VisibilityUnitType").FEED_UNIT);else this.$ViewabilityDurationSegmentLogger7(m,j,l);m=this.$ViewabilityDurationSegmentLogger2.get(j);if(!m)this.$ViewabilityDurationSegmentLogger6(event,c("PercentVisible").VISIBLE_50_PCT,l,c("VisibilityUnitType").FEED_UNIT);else this.$ViewabilityDurationSegmentLogger7(m,j,l);m=this.$ViewabilityDurationSegmentLogger4.get(j);if(!m)this.$ViewabilityDurationSegmentLogger6(event,c("PercentVisible").VISIBLE_100_PCT,l,c("VisibilityUnitType").FEED_UNIT);else this.$ViewabilityDurationSegmentLogger7(m,j,l);break}};i.prototype.onViewport=function(event){__p&&__p();var j=event.id,k=event.percentVisible,l=Date.now(),m=void 0,n=void 0;switch(k){case c("PercentVisible").VISIBLE_0_PCT:m=this.$ViewabilityDurationSegmentLogger3.get(j);if(m){n=this.$ViewabilityDurationSegmentLogger8(m,j,l,true);this.$ViewabilityDurationSegmentLogger9(n,j)}m=this.$ViewabilityDurationSegmentLogger5.get(j);if(m){n=this.$ViewabilityDurationSegmentLogger8(m,j,l,true);this.$ViewabilityDurationSegmentLogger9(n,j)}break;case c("PercentVisible").VISIBLE_50_PCT:m=this.$ViewabilityDurationSegmentLogger3.get(j);if(!m)this.$ViewabilityDurationSegmentLogger6(event,c("PercentVisible").VISIBLE_50_PCT,l,c("VisibilityUnitType").VIEWPORT);else this.$ViewabilityDurationSegmentLogger7(m,j,l);m=this.$ViewabilityDurationSegmentLogger5.get(j);if(m){n=this.$ViewabilityDurationSegmentLogger8(m,j,l,true);this.$ViewabilityDurationSegmentLogger9(n,j)}break;case c("PercentVisible").VISIBLE_100_PCT:m=this.$ViewabilityDurationSegmentLogger3.get(j);if(!m)this.$ViewabilityDurationSegmentLogger6(event,c("PercentVisible").VISIBLE_50_PCT,l,c("VisibilityUnitType").VIEWPORT);else this.$ViewabilityDurationSegmentLogger7(m,j,l);m=this.$ViewabilityDurationSegmentLogger5.get(j);if(!m)this.$ViewabilityDurationSegmentLogger6(event,c("PercentVisible").VISIBLE_100_PCT,l,c("VisibilityUnitType").VIEWPORT);else this.$ViewabilityDurationSegmentLogger7(m,j,l);break}};i.prototype.onHidden=function(event){__p&&__p();var j=event.id,k=Date.now(),l=this.$ViewabilityDurationSegmentLogger1.get(j),m=this.$ViewabilityDurationSegmentLogger2.get(j),n=this.$ViewabilityDurationSegmentLogger3.get(j),o=this.$ViewabilityDurationSegmentLogger4.get(j),p=this.$ViewabilityDurationSegmentLogger5.get(j);if(l)this.$ViewabilityDurationSegmentLogger9(this.$ViewabilityDurationSegmentLogger8(l,j,k,true),j);if(m)this.$ViewabilityDurationSegmentLogger9(this.$ViewabilityDurationSegmentLogger8(m,j,k,true),j);if(n)this.$ViewabilityDurationSegmentLogger9(this.$ViewabilityDurationSegmentLogger8(n,j,k,true),j);if(o)this.$ViewabilityDurationSegmentLogger9(this.$ViewabilityDurationSegmentLogger8(o,j,k,true),j);if(p)this.$ViewabilityDurationSegmentLogger9(this.$ViewabilityDurationSegmentLogger8(p,j,k,true),j)};i.prototype.$ViewabilityDurationSegmentLogger6=function(event,j,k,l){__p&&__p();var m={token:event.token,startedTrackingTS:k,percentVisible:j,visibilityUnit:l,intervalMs:0,cumulativeMs:0,segmentIdx:0};switch(j){case c("PercentVisible").VISIBLE_0_PCT:this.$ViewabilityDurationSegmentLogger1.set(event.id,m);break;case c("PercentVisible").VISIBLE_50_PCT:if(l===c("VisibilityUnitType").FEED_UNIT)this.$ViewabilityDurationSegmentLogger2.set(event.id,m);else this.$ViewabilityDurationSegmentLogger3.set(event.id,m);break;case c("PercentVisible").VISIBLE_100_PCT:if(l===c("VisibilityUnitType").FEED_UNIT)this.$ViewabilityDurationSegmentLogger4.set(event.id,m);else this.$ViewabilityDurationSegmentLogger5.set(event.id,m);break}};i.prototype.$ViewabilityDurationSegmentLogger8=function(j,k,l,m){__p&&__p();var n=l-j.startedTrackingTS,o=n-j.cumulativeMs,p=j.percentVisible,q={token:j.token,startedTrackingTS:j.startedTrackingTS,percentVisible:p,visibilityUnit:j.visibilityUnit,intervalMs:o,cumulativeMs:n,segmentIdx:++j.segmentIdx};if(m)q.duration=n;switch(p){case c("PercentVisible").VISIBLE_0_PCT:this.$ViewabilityDurationSegmentLogger1.set(k,q);break;case c("PercentVisible").VISIBLE_50_PCT:if(j.visibilityUnit===c("VisibilityUnitType").FEED_UNIT)this.$ViewabilityDurationSegmentLogger2.set(k,q);else this.$ViewabilityDurationSegmentLogger3.set(k,q);break;case c("PercentVisible").VISIBLE_100_PCT:if(j.visibilityUnit===c("VisibilityUnitType").FEED_UNIT)this.$ViewabilityDurationSegmentLogger4.set(k,q);else this.$ViewabilityDurationSegmentLogger5.set(k,q);break}return q};i.prototype.$ViewabilityDurationSegmentLogger7=function(j,k,l){var m=j.intervalMs,n=l-j.startedTrackingTS-j.cumulativeMs;if(this.$ViewabilityDurationSegmentLogger10(m,n)){var o=this.$ViewabilityDurationSegmentLogger8(j,k,l,false);c("Banzai").post("xtrackable:viewability",o,c("Banzai").VITAL)}};i.prototype.$ViewabilityDurationSegmentLogger10=function(j,k){__p&&__p();if(j>=h)return false;if(j==0)return true;if(j<1e3)return k>=1e3;var l=0;l=j/1e3;var m=k/1e3;return m>=2*l};i.prototype.$ViewabilityDurationSegmentLogger9=function(j,k){__p&&__p();var l=j.percentVisible;switch(l){case c("PercentVisible").VISIBLE_0_PCT:this.$ViewabilityDurationSegmentLogger1["delete"](k);break;case c("PercentVisible").VISIBLE_50_PCT:if(j.visibilityUnit===c("VisibilityUnitType").FEED_UNIT)this.$ViewabilityDurationSegmentLogger2["delete"](k);else this.$ViewabilityDurationSegmentLogger3["delete"](k);break;case c("PercentVisible").VISIBLE_100_PCT:if(j.visibilityUnit===c("VisibilityUnitType").FEED_UNIT)this.$ViewabilityDurationSegmentLogger4["delete"](k);else this.$ViewabilityDurationSegmentLogger5["delete"](k);break}c("Banzai").post("xtrackable:viewability",j,c("Banzai").VITAL)};f.exports=i}),null);
__d("ViewableImpressionDurationLogger",["Banzai","Map"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();h.logFromViewableImpressionTracker=function(i){var j=new h();j.subscribeToTrackerEvents(i)};function h(){this.$ViewableImpressionDurationLogger1=new(c("Map"))()}h.prototype.subscribeToTrackerEvents=function(i){i.addListener("visible",this.onElementVisible.bind(this));i.addListener("hidden",this.onElementHidden.bind(this))};h.prototype.onElementVisible=function(event){if(this.$ViewableImpressionDurationLogger1.get(event.id))return null;var i={token:event.token,startedTrackingTS:this.getTimeNow()};this.$ViewableImpressionDurationLogger1.set(event.id,i);return i};h.prototype.onElementHidden=function(event){var i=this.$ViewableImpressionDurationLogger1.get(event.id);if(!i)return false;i.trackingDuration=this.getTimeNow()-i.startedTrackingTS;return this.sendLog(event.id)};h.prototype.sendLog=function(i){var j=this.$ViewableImpressionDurationLogger1.get(i);if(!j||!j.trackingDuration)return false;c("Banzai").post("xtrackable:duration",j);this.$ViewableImpressionDurationLogger1["delete"](i);return true};h.prototype.getTimeNow=function(){return parseFloat((Date.now()/1e3).toFixed(2))};f.exports=h}),null);
__d("ViewableImpressionHeatmapLogger",["Banzai"],(function a(b,c,d,e,f,g){__p&&__p();h.logFromViewableImpressionTracker=function(i,j){"use strict";var k=new h(j);k.subscribeToTrackerEvents(i)};function h(i){"use strict";this.loggingDurationMS=i;this.trackingEntries={}}h.prototype.subscribeToTrackerEvents=function(i){"use strict";this.visibleSubscription=i.addListener("visible",this.onElementVisible,this);this.hiddenSubscription=i.addListener("hidden",this.onElementHidden,this)};h.prototype.onElementVisible=function(i){"use strict";var j=this.getCurrentTimestamp(),k=this.trackingEntries[i.id];if(!k){k=this.createTrackingEntry(i);this.beginTracking(i.id,k);j=k.startedTrackingTS}k.viewportProgressEvents.push({timestamp:j,percentInViewport:i.percentInViewport.toFixed(2)})};h.prototype.onElementHidden=function(i){"use strict";var j=this.getCurrentTimestamp(),k=this.trackingEntries[i.id];if(!k)return;k.viewportProgressEvents.push({timestamp:j,percentInViewport:0})};h.prototype.onTrackingCompleted=function(i){"use strict";var j=this.trackingEntries[i];j.viewportProgressEvents.push({timestamp:this.getCurrentTimestamp(),percentInViewport:j.tracker.getPercentInViewport().toFixed(2)});if(this.$ViewableImpressionHeatmapLogger1())this.$ViewableImpressionHeatmapLogger2(i,j);this.logToServer(j);delete this.trackingEntries[i]};h.prototype.logToServer=function(i){"use strict";var j=i;delete j.tracker;c("Banzai").post("xtrackable:heatmap",j)};h.prototype.beginTracking=function(i,j){"use strict";this.trackingEntries[i]=j;setTimeout(function(){return this.onTrackingCompleted(i)}.bind(this),this.loggingDurationMS)};h.prototype.createTrackingEntry=function(i){"use strict";return{tracker:i.tracker,token:i.token,startedTrackingTS:this.getCurrentTimestamp(),viewportProgressEvents:[]}};h.prototype.getCurrentTimestamp=function(){"use strict";return(Date.now()/1e3).toFixed(2)};h.prototype.$ViewableImpressionHeatmapLogger1=function(){"use strict";return 0};h.prototype.$ViewableImpressionHeatmapLogger2=function(i,j){"use strict";var k="Completed tracking for id "+i+" token="+j.token+" startedTrackingTS="+j.startedTrackingTS+"\n";j.viewportProgressEvents.forEach(function(l){k+="% in view: "+l.percentInViewport+" timestamp="+l.timestamp+"\n"})};f.exports=h}),null);
__d("ViewableImpressionEventHandler",["DataAttributeUtils","FullViewLogger","ViewabilityDebugLogger","ViewabilityDurationSegmentLogger","ViewableImpressionDurationLogger","ViewableImpressionHeatmapLogger","ViewableImpressionTracker","VisibilityTracking"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=1;h=babelHelpers.inherits(k,c("VisibilityTracking"));i=h&&h.prototype;k.prototype.extraInit=function(){this.impressionTrackers={}};k.prototype.getDataFromConfig=function(l){i.getDataFromConfig.call(this,l);this.doHeatmapLogging=l.doHeatmapLogging;this.heatmapLoggingDurationMS=l.heatmapLoggingDurationMS;l.impressionURL=l.impressionURL!==undefined?l.impressionURL:"/xti.php";l.nonviewableEnabled=l.nonviewableEnabled!==undefined?l.nonviewableEnabled:false};k.prototype.getImpressionTracking=function(l){__p&&__p();var m=this.getElementID(l),n=this.impressionTrackers[m];if(!n){var o=babelHelpers["extends"]({},this.getConfigFromElement(l),this.config);n=new(c("ViewableImpressionTracker"))(m,l,o);this.impressionTrackers[m]=n;if(o.log_impression_duration)c("ViewableImpressionDurationLogger").logFromViewableImpressionTracker(n);if(this.doHeatmapLogging)c("ViewableImpressionHeatmapLogger").logFromViewableImpressionTracker(n,this.heatmapLoggingDurationMS);if(o.should_log_full_views)c("FullViewLogger").logFromViewableImpressionTracker(n);if(o.should_log_viewability_duration)c("ViewabilityDurationSegmentLogger").logFromViewableImpressionTracker(n);if(o.should_log_debug_duration)c("ViewabilityDebugLogger").logFromViewableImpressionTracker(n)}return n};k.prototype.handleEvent=function(l,event){__p&&__p();var m=this.getImpressionTracking(l);if(!m)return;if(event.name==="visible"){m.onVisible(event);if(!this.visibleElementInfo[m.getID()])this.visibleElementInfo[m.getID()]={elem:l}}else if(event.name==="hidden"){var n=m.getConfig();if(event.cause==="default"||n.log_visibility_hidden_when_browser_inactive&&event.cause==="browser"){m.onHidden();delete this.visibleElementInfo[m.getID()]}else if(event.cause==="removed"){m.onRemoved();delete this.visibleElementInfo[m.getID()];delete this.impressionTrackers[m.getID()]}}};k.prototype.isInstreamAdStoryElement=function(l){var m=babelHelpers["extends"]({},this.getConfigFromElement(l),this.config);return!!m.is_instream_story};k.prototype.getConfigFromElement=function(l){return JSON.parse(c("DataAttributeUtils").getDataAttribute(l,"data-xt-vimp"))};k.prototype.getElementID=function(l){if(!l.getAttribute("id"))l.setAttribute("id","xt_uniq_"+j++);return l.getAttribute("id")};function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("ViewableImpressionTracking",["Arbiter","DesktopHscrollUnitEventConstants","ErrorUtils","LitestandMessages","Run","ViewableImpressionEventHandler","ViewableImpressionConfig"],(function a(b,c,d,e,f,g){var h={init:function i(){if(c("ViewableImpressionEventHandler").instance===undefined){c("ViewableImpressionEventHandler").instance=new(c("ViewableImpressionEventHandler"))(c("ViewableImpressionConfig"));c("ViewableImpressionEventHandler").instance.listeners.addSubscriptions(c("Arbiter").subscribe([c("LitestandMessages").STORIES_INSERTED,"AdsRefreshHandler/AdsLoaded","MPPInsights/ChartView","PhotoSnowliftAds/displayUnits","WebMessengerAdsControl/adjustAds",c("DesktopHscrollUnitEventConstants").HSCROLL_ITEM_INSERTED_EVENT,"WebVideoChannelAds/AdsLoaded"],c("ErrorUtils").guard(function(event){c("ViewableImpressionEventHandler").instance.refreshAndFireEvent(event)},"ViewableImpressionTracking")))}c("Run").onLoad(function(){c("ViewableImpressionEventHandler").instance.refreshAndFireEvent()})}};f.exports=h}),null);
__d("SearchBootstrapEntityModuleDebugUtil",["Arbiter","BanzaiODS","JSLogger","gkx"],(function a(b,c,d,e,f,g){"use strict";var h={backend_faster_no_matches:"BEM not shown because backend returned faster but had no matches anyway",backend_faster_with_matches:"BEM had matches but backend was faster",no_matches:"BEM not shown as no matches were found",shown:"BEM shown"},i={printDebugNotice:function j(k,l,m){c("BanzaiODS").bumpEntityKey("search.www."+k,l);c("Arbiter").subscribe(c("JSLogger").DUMP_EVENT,function(event,n){n.searchBootstrapEntityModule={notice:h[l],matches:JSON.stringify(m)}});c("gkx")("AT5mEoK6yZIZfOTePCTalrkJYM_xxtUvvUlHcKv-Nw4MRnriEvGxI7gLFZxvp7qTmJZGLJlpAI-hO4R1yDBCdPrb")}};f.exports=i}),null);
__d("SearchBootstrapEntityModuleUtil",["cx","fbt","Base64","DOM","FacebarJSConstants","immutable","SearchBootstrapEntityModuleUIConfig","SearchEntityModuleServerConstants","URI","md5","randomInt"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("immutable").Map(),k=new RegExp("^/(search/top|search/str.+/keywords_(top|search))"),l=new RegExp("^/(search|topic/trending)"),m=new RegExp("^/search/str/([^/]+)/");function n(y){__p&&__p();var z=void 0;switch(y){case"user":z=i._("People");break;case"page":z=i._("Pages");break;case"group":z=i._("Groups");break;case"application":z=i._("Apps");break;case"place":z=i._("Places");break;case"event":z=i._("Events");break}return z}function o(y){__p&&__p();if(y.subtext==null)return[];if(y.browse_type==="browse_type_tv_show")return[c("DOM").create("span",{},[c("DOM").create("span",{className:"_2vo8"},i._("SHOW")),y.subtext])];var z=y.subtext.split(/\s*\u00B7s*/g).map(function(B){return c("DOM").create("span",{},B)}),A=z.pop();z=z.slice(0,c("SearchBootstrapEntityModuleUIConfig").numSnippetsToShow-1);if(A!=null)z.push(A);return z}function p(y,z){__p&&__p();y=y.filter(function(C){return C.type!==c("FacebarJSConstants").keywordType}).sort(function(C,D){return C.bootstrapCost-D.bootstrapCost});var A=y[0],B=void 0;if(A!=null)B=A.type;y=y.filter(function(C){return C.type===B}).slice(0,c("SearchBootstrapEntityModuleUIConfig").numBootstrapResultsToShow);return y.map(function(C){return q(C,z)})}function q(y,z){var A=y.tuid,B=y.path,C=y.text,D=y.photo,E=y.photos,F=y.is_verified,G=r(y);return{tuid:A,uri:new(c("URI"))(B).addQueryData("ref",c("SearchEntityModuleServerConstants").BROWSE_RESULTS_PAGE_REF),type:G,text:C,photo:D,photos:E,snippets:o(y),module_role:c("SearchEntityModuleServerConstants").RESULT_TYPE_TO_MODULE_ROLE[G],is_bootstrap:true,is_verified:F,logging_unit_id:t(z,y)}}function r(y){var z=void 0;if(y.type==="app")z="application";else if(y.render_type==="place")z="place";else z=y.type;return z}function s(y,z,A){var B={ref:c("SearchEntityModuleServerConstants").BROWSE_NAV_SOURCE_SEE_MORE};if(z!=null)B.sid=z;return new(c("URI"))(c("SearchEntityModuleServerConstants").TYPE_TO_SERP_PATH[r(y[0])]).setQueryData({q:A,ref:c("Base64").encode(JSON.stringify(B)).replace(/\=+$/,"")})}function t(y,z){__p&&__p();var A=j.get(y);if(A==null){A=c("immutable").Map();j.set(y,A)}var B=A.get(z.tuid);if(B==null){B=u("www_bem_res");A.set(z.tuid,B)}return B}function u(y){return y+":"+c("md5")(String(c("randomInt")(0,Number.MAX_SAFE_INTEGER)))}function v(y){return y.getPath().match(l)!=null}function w(y){return y.getPath().match(k)!=null}function x(y){if(!v(y))return null;var z=y.getQueryData();if(z.q!=null)return z.q;var A=y.getPath(),B=A.match(m);if(B!=null)return decodeURIComponent(B[1]).replace(/\+/g," ");return null}f.exports={getTitleForResultType:n,getSnippetForRawBootstrapResult:o,transformRawBootstrapResultsToEntityModuleResults:p,getSeeMoreURIForResults:s,generateUnitIDWithPrefix:u,getQueryFromURI:x,isSERPURI:v,isTopTabURI:w}}),null);
__d("BrowseWebSLRPELoggerAction",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SEARCH:"search",CLICK:"click",MODULE_IMPRESSION:"module_impression",TIME_SPENT:"time_spent"})}),null);
__d("BrowseWebSLRPELoggerClickType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ITEM_IN_MODULE_TAPPED:"graph_search_results_item_in_module_tapped",ITEM_TAPPED:"graph_search_results_item_tapped",SEE_MORE_TAPPED:"graph_search_results_see_more_on_module_tapped",INLINE_FRIEND_REQUEST:"inline_friend_request",INLINE_PAGE_LIKE_REQUEST:"inline_page_like_request",MODULE_TAPPED:"graph_search_results_module_tapped",TAP_MODULE:"graph_search_results_module_tapped",VIEW_PORT_VIEWS_ON_SEARCH_RESULTS:"view_port_views_on_search_results"})}),null);
__d("SearchEntityModuleStyle",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SMALL:"small",MEDIUM:"medium",LARGE:"large",XLARGE:"xlarge"})}),null);
__d("XSearchBEMUnitDataLoggingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/search/async/log_bem_unit_data/",{session_id:{type:"String",required:true},logging_unit_id:{type:"String",required:true},query:{type:"String",required:true},query_function:{type:"String",required:true},results_module_role:{type:"String",required:true},tapped_results_entity_id:{type:"String"},entity_ids:{type:"StringSet"}})}),null);
__d("XSearchBrowseActionsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/search/async/browse_actions/",{id:{type:"String",required:true},result_type:{type:"String",required:true},quick_link_tab:{type:"String"}})}),null);
__d("XSearchProfilePictureController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/search/async/profile_picture/",{fbid:{type:"FBID",required:true},width:{type:"Int",required:true},height:{type:"Int",required:true}})}),null);
__d("SearchEntityModuleResult.react",["cx","fbt","AsyncRequest","Badge.react","BrowseClientEventLogger","BrowseWebSLRPELoggerClickType","DOM","DOMContainer.react","HovercardLink","Image.react","Link.react","React","SearchEntityModuleServerConstants","SearchEntityModuleStyle","SearchResultPageExperiments","XSearchBEMUnitDataLoggingController","XSearchBrowseActionsController","XSearchProfilePictureController","XUIButton.react","XUISpinner.react","memoize"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l,m=(l={},l[c("SearchEntityModuleStyle").SMALL]=48,l[c("SearchEntityModuleStyle").MEDIUM]=64,l[c("SearchEntityModuleStyle").LARGE]=72,l[c("SearchEntityModuleStyle").XLARGE]=100,l);j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(o){k.constructor.call(this,o);this.state={actionsLoaded:false,showCrActions:false};this.getLoggingData=c("memoize")(function(){var p=c("SearchEntityModuleServerConstants").TYPE_TO_DISPLAY_STYLE[this.props.result.type],q=c("SearchEntityModuleServerConstants").TYPE_TO_BROWSE_TYPE[this.props.result.type],r=c("SearchEntityModuleServerConstants").WWW_GRAPH_SEARCH_RESULTS_TRACKABLE_CODE,s=r+JSON.stringify({display_style:p,id:this.props.result.tuid,item_type:"result",module_result_type:q,module_type:this.props.module_role,position_in_module:this.props.position_in_module,query:this.props.browse_query,raw_id:parseInt(this.props.result.tuid,10),session_id:this.props.browse_session_id,vertical:"content",is_bootstrap:this.props.result.is_bootstrap,unit_id:this.props.result.logging_unit_id,unit_id_click_type:c("BrowseWebSLRPELoggerClickType").ITEM_IN_MODULE_TAPPED,unit_id_result_id:this.props.result.tuid});return{"data-xt":s,"data-gt":JSON.stringify({type:"xtracking",xt:s}),"data-bt":JSON.stringify({id:parseInt(this.props.result.tuid,10)}),"data-xt-vimp":JSON.stringify(this.props.client_view_config),"data-vistracking":"1","data-insertion-position":this.props.position_in_module}}.bind(this));this.$SearchEntityModuleResult1=c("DOM").create("div");this.$SearchEntityModuleResult2=c("DOM").create("div");this.$SearchEntityModuleResult3=[]}n.prototype.componentDidMount=function(){this.renderActions();this.logImpression();if(this.props.result.logging_unit_id!=null&&this.props.result.is_bootstrap)this.logUnitData()};n.prototype.render=function(){__p&&__p();var o,p=this.props.result.uri,q=c("HovercardLink").constructEndpoint({id:this.props.result.tuid}),r=void 0;if(this.props.result.badge_type)r=c("React").createElement(c("Badge.react"),{type:this.props.result.badge_type,size:"small"});else if(this.props.result.is_verified===true)r=c("React").createElement(c("Badge.react"),{type:"verified",size:"small"});var s=this.props.result.snippets.map(function(D,E){return c("React").createElement(c("DOMContainer.react"),{key:"snippet_"+E,className:(E===0?"_2yep":"")+(E!==0?" _2yeq":"")},D)}),t=this.props.result.photos,u=void 0,v=m[this.props.module_style];if(t!=null&&!this.props.has_module_guidelines)(function(){var D=t.length,E=t.map(function(u,F){var G=v/2-F%2,H=v/2-Math.round(F/D);return c("React").createElement(c("Image.react"),{key:F,className:"_4wq6",src:u,style:{width:G+"px",height:H+"px"}})});u=c("React").createElement("div",{className:"_4wq7",style:{width:v+"px",height:v+"px"}},E)})();else{var w=false;if(this.props.result.type==="group")w=this.props.has_module_guidelines;var x=this.props.result.photo,y=c("SearchResultPageExperiments").useUncachedBootstrapEntityModulePictures&&this.props.result.is_bootstrap&&this.props.result.type==="user";if(y)x=c("XSearchProfilePictureController").getURIBuilder().setFBID("fbid",this.props.result.tuid).setInt("width",v).setInt("height",v).getURI().toString();u=c("React").createElement(c("Image.react"),{className:"_2yeu"+(w?" _4lxz":""),src:x,width:v,height:v,style:{width:v+"px",height:v+"px"}})}var z=c("React").createElement("div",{className:"_2ye_"},c("React").createElement(c("DOMContainer.react"),null,this.$SearchEntityModuleResult1),c("React").createElement(c("XUIButton.react"),{className:"_4cei"+(this.state.actionsLoaded?" hidden_elem":""),image:c("React").createElement(c("XUISpinner.react"),{size:"small",background:"dark"}),label:i._("Loading...")})),A=null;if(this.state.showCrActions&&this.crActionsWrapper)A=c("React").createElement("div",{className:"_5-zc"},c("React").createElement(c("DOMContainer.react"),null,this.crActionsWrapper),c("React").createElement(c("XUIButton.react"),{className:"_4cei"+(this.state.actionsLoaded?" hidden_elem":""),image:c("React").createElement(c("XUISpinner.react"),{size:"small",background:"dark"}),label:i._("Loading...")}));var B=this.props.module_style===c("SearchEntityModuleStyle").XLARGE||this.props.module_style===c("SearchEntityModuleStyle").LARGE,C=null;if(this.props.has_module_guidelines)C=c("React").createElement("div",{style:{WebkitLineClamp:2},className:"_52eh _5bcu"},this.props.result.text,r);else C=c("React").createElement("div",null,this.props.result.text,r);return c("React").createElement("div",babelHelpers["extends"]({className:"_2yer _401d"+(B?" _2xje":"")+" _2nuh"},this.getLoggingData()),c("React").createElement(c("Link.react"),{className:"_2yet",href:p,"data-hovercard":q},u),c("React").createElement("div",{className:"_2yev"},c("React").createElement("div",{className:"_2xjf"},c("React").createElement(c("Link.react"),{href:p,className:(this.props.has_module_guidelines?"_1ii5":"")+" _2yez","data-hovercard":q},C),B?z:null),c("React").createElement("div",{className:"_2ye-"},s.shift(),c("React").createElement("div",{className:"_2xjg"},s)),A),B?null:z)};n.prototype.renderActions=function(){__p&&__p();var o=c("SearchEntityModuleServerConstants").TYPE_TO_BROWSE_TYPE[this.props.result.type],p=c("XSearchBrowseActionsController").getURIBuilder().setString("id",this.props.result.tuid).setString("quick_link_tab",this.props.result.quick_link_tab).setString("result_type",o),q=new(c("AsyncRequest"))(p.getURI()).setMethod("POST").setHandler(function(r){var s=r.getPayload(),t=s.actions!=null?s.actions:"";c("DOM").setContent(this.$SearchEntityModuleResult1,t);var u=false;if(s.cr_actions!=null){c("DOM").setContent(this.$SearchEntityModuleResult2,s.cr_actions);u=true}this.setState({actionsLoaded:true,showCrActions:u})}.bind(this)).setAllowCrossPageTransition(true);this.$SearchEntityModuleResult3.push(q);q.send()};n.prototype.logImpression=function(){var o=this.getLoggingData();c("BrowseClientEventLogger").logImpression({xt:o["data-xt"]})};n.prototype.logUnitData=function(){var o=this.props.result,p=c("XSearchBEMUnitDataLoggingController").getURIBuilder().setString("logging_unit_id",o.logging_unit_id).setString("session_id",this.props.browse_session_id).setString("query",this.props.plain_text_query).setString("query_function",this.props.browse_query).setString("tapped_results_entity_id",o.tuid).setString("results_module_role",o.module_role);new(c("AsyncRequest"))(p.getURI()).setAllowCrossPageTransition(true).send()};n.prototype.componentWillUnmount=function(){this.$SearchEntityModuleResult3.forEach(function(o){o.abandon()})};f.exports=n}),null);
__d("XSearchBEMClientDataLoggingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/search/async/log_bem_client_data/",{session_id:{type:"String",required:true},logging_unit_id:{type:"String",required:true},event_name:{type:"String",required:true}})}),null);
__d("SearchEntityModule.react",["cx","fbt","Arbiter","AsyncRequest","BrowseWebSLRPELoggerAction","BrowseWebSLRPELoggerClickType","Link.react","React","SearchEntityModuleResult.react","SearchEntityModuleServerConstants","SubscriptionsHandler","ViewableImpressionTracking","XSearchBEMClientDataLoggingController","XSearchBEMUnitDataLoggingController","XUICard.react","XUICardHeader.react","XUICardHeaderTitle.react","XUICardSection.react","memoize","memoizeWithArgs"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){__p&&__p();k.constructor.call(this,m);this.state={isExpanded:this.props.num_results_to_show==null,shouldRenderFooter:this.props.should_render_footer,results:this.props.results};this.onSeeMoreLinkClick=function(event){event.preventDefault();this.setState({isExpanded:true})}.bind(this);this.getModuleLoggingData=c("memoize")(function(){var n=c("SearchEntityModuleServerConstants").WWW_GRAPH_SEARCH_RESULTS_TRACKABLE_CODE,o=n+JSON.stringify({query:this.props.browse_query,session_id:this.props.browse_session_id,module_type:this.props.module_role,unit_id:this.props.logging_unit_id,unit_id_click_type:c("BrowseWebSLRPELoggerClickType").VIEW_PORT_VIEWS_ON_SEARCH_RESULTS});return{"data-xt":o,"data-xt-vimp":JSON.stringify(this.props.client_view_config)}}.bind(this));this.getSeeMoreLoggingData=c("memoizeWithArgs")(function(n){var o=c("SearchEntityModuleServerConstants").WWW_GRAPH_SEARCH_RESULTS_TRACKABLE_CODE,p=c("SearchEntityModuleServerConstants").SEE_MORE_LOGGING.MODULE_HEADER_ITEM_TYPE,q=c("SearchEntityModuleServerConstants").SEE_MORE_LOGGING.MODULE_FOOTER_ITEM_TYPE,r=o+JSON.stringify({item_type:n==="header"?p:q,module_type:this.props.module_role,query:this.props.browse_query,session_id:this.props.browse_session_id,source_module_role:this.props.module_role,vertical:"content",unit_id:this.props.logging_unit_id,unit_id_click_type:c("BrowseWebSLRPELoggerClickType").SEE_MORE_TAPPED});return{"data-xt":r,"data-gt":JSON.stringify({type:"xtracking",xt:r}),"data-xt-vimp":JSON.stringify(this.props.client_view_config),"data-vistracking":"1","data-bt":JSON.stringify({ct:"see_more",source_module_role:this.props.module_role})}}.bind(this),function(n){return n});this.$SearchEntityModule1=new(c("SubscriptionsHandler"))()}l.prototype.componentDidMount=function(){if(this.props.logging_unit_id!=null&&this.props.is_bootstrap_entity_module){this.logUnitData();c("ViewableImpressionTracking").init()}if(this.props.is_bootstrap_entity_module)this.$SearchEntityModule1.addSubscriptions(c("Arbiter").subscribeOnce("Search/addResultsToBEM",function(m,n){this.setState({results:this.state.results.concat(n.results),shouldRenderFooter:true})}.bind(this)),c("Arbiter").subscribeOnce("Search/firstModuleIsNotBEMMergable",function(){this.setState({shouldRenderFooter:true})}.bind(this)))};l.prototype.render=function(){__p&&__p();var m=this.props.num_results_to_show,n=!this.state.isExpanded&&m!=null?this.state.results.slice(0,m):this.state.results;if(n.length===0)return c("React").createElement("div",null);n=n.map(function(q,r){return c("React").createElement(c("SearchEntityModuleResult.react"),{key:q.tuid,result:q,position_in_module:r,browse_query:this.props.browse_query,client_view_config:this.props.client_view_config,browse_session_id:this.props.browse_session_id,module_style:this.props.module_style,module_role:this.props.module_role,plain_text_query:this.props.plain_text_query,has_module_guidelines:this.props.has_module_guidelines,viewer_id:this.props.viewer_id})}.bind(this));var o=void 0;if(this.props.see_more_uri!=null)o=c("React").createElement(c("Link.react"),babelHelpers["extends"]({},this.getSeeMoreLoggingData("header"),{href:this.props.see_more_uri}),i._("See All"));var p=this.props.title instanceof Object&&this.props.title.__html!=null?c("React").createElement("span",{dangerouslySetInnerHTML:this.props.title}):this.props.title;return c("React").createElement("div",babelHelpers["extends"]({},this.getModuleLoggingData(),{className:"_5w7z"+(this.props.result_type==="user"&&this.props.module_role==="SHORTCUT_PEOPLE"?" _d7o":"")+(this.props.result_type==="user"?" _5w81":"")+(this.props.result_type==="page"?" _5w82":"")+(this.props.result_type==="group"?" _5w84":"")+(this.props.result_type==="application"?" _3h4u":"")+(this.props.result_type==="place"?" _5w9b":"")+(this.props.result_type==="event"?" _5w9c":"")}),c("React").createElement(c("XUICard.react"),{className:"_5w9d"},c("React").createElement(c("XUICardHeader.react"),{link:o,type:"primary"},c("React").createElement(c("XUICardHeaderTitle.react"),null,c("React").createElement("div",{className:"_5w9e"}),p)),c("React").createElement(c("XUICardSection.react"),null,n,this.maybeRenderFooter())))};l.prototype.maybeRenderFooter=function(){if(!this.state.shouldRenderFooter)return[];var m=[],n=c("React").createElement(c("Link.react"),babelHelpers["extends"]({key:"see_more_footer"},this.getSeeMoreLoggingData("footer"),{href:"",onClick:this.onSeeMoreLinkClick,className:"_5w9f"+(this.state.isExpanded||this.props.num_results_to_show==null||this.state.results.length<=this.props.num_results_to_show?" hidden_elem":"")}),i._("See All"));m.push(n);if(this.props.see_more_uri!=null){var o=c("React").createElement(c("Link.react"),babelHelpers["extends"]({key:"see_all_footer"},this.getSeeMoreLoggingData("footer"),{href:this.props.see_more_uri,className:"_5w9f"+(!this.state.isExpanded&&this.props.num_results_to_show!=null&&this.state.results.length>this.props.num_results_to_show?" hidden_elem":"")}),i._("See All"));m.push(o)}return m};l.prototype.logUnitData=function(){var m=c("XSearchBEMUnitDataLoggingController").getURIBuilder().setString("logging_unit_id",this.props.logging_unit_id).setString("session_id",this.props.browse_session_id).setString("query",this.props.plain_text_query).setString("query_function",this.props.browse_query).setString("results_module_role",this.props.module_role).setStringSet("entity_ids",this.state.results.map(function(o){return o.tuid}));new(c("AsyncRequest"))(m.getURI()).setAllowCrossPageTransition(true).send();var n=c("XSearchBEMClientDataLoggingController").getURIBuilder().setString("logging_unit_id",this.props.logging_unit_id).setString("session_id",this.props.browse_session_id).setString("event_name",c("BrowseWebSLRPELoggerAction").MODULE_IMPRESSION);new(c("AsyncRequest"))(n.getURI()).setAllowCrossPageTransition(true).send()};l.prototype.componentWillUnmount=function(){this.$SearchEntityModule1.release()};f.exports=l}),null);
__d("SearchEntityModuleDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("ExplicitRegistrationReactDispatcher"));i=h&&h.prototype;function j(k){"use strict";i.constructor.call(this,k);this.dispatch=this.dispatch.bind(this)}f.exports=new j({strict:true})}),null);
__d("SearchEntityModuleUIConstants",["fbt"],(function a(b,c,d,e,f,g,h){"use strict";var i={Actions:{ADD_MODULE:"ADD_MODULE",ADD_RESULTS:"ADD_RESULTS",REMOVE_ALL_RESULTS_AND_MODULES:"REMOVE_ALL_RESULTS_AND_MODULES"},MODULE_ROLE_TO_TITLE:{user:h._("People"),page:h._("Pages"),group:h._("Groups"),application:h._("Apps"),place:h._("Places"),event:h._("Events")}};f.exports=i}),null);
__d("SearchEntityModuleActions",["SearchEntityModuleDispatcher","SearchEntityModuleUIConstants"],(function a(b,c,d,e,f,g){"use strict";var h=c("SearchEntityModuleUIConstants").Actions,i={addModule:function j(k,f){var l={type:h.ADD_MODULE,value:{sessionID:k,module:f}};c("SearchEntityModuleDispatcher").dispatch(l)},addResultsToModule:function j(k,f,l){var m={type:h.ADD_RESULTS,value:{sessionID:k,module:f,results:l}};c("SearchEntityModuleDispatcher").dispatch(m)},clearAllResultsAndModules:function j(k){var l={type:h.REMOVE_ALL_RESULTS_AND_MODULES,value:{sessionID:k}};c("SearchEntityModuleDispatcher").dispatch(l)}};f.exports=i}),null);
__d("SearchEntityModuleContainerStore",["FluxReduceStore","immutable","SearchEntityModuleDispatcher","SearchEntityModuleUIConstants","SearchResultPageExperiments"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("SearchEntityModuleUIConstants").Actions;h=babelHelpers.inherits(k,c("FluxReduceStore"));i=h&&h.prototype;k.prototype.getInitialState=function(){return c("immutable").Map()};k.prototype.reduce=function(l,m){__p&&__p();var n=void 0,o=m.value.sessionID;switch(m.type){case j.ADD_MODULE:n=l.get(o);if(n==null)n=c("immutable").List([]);n=n.push(babelHelpers["extends"]({},m.value.module,{results:c("immutable").List([])}));l=l.set(o,n);break;case j.ADD_RESULTS:n=l.get(o);if(n==null)n=c("immutable").List([]);n=this.addResultsWithoutDupes(o,n,m.value.module,m.value.results);l=l.set(o,n);break;case j.REMOVE_ALL_RESULTS_AND_MODULES:n=l.get(o);if(n!=null){n=n.clear();l=l.set(o,n)}break;default:break}return l};k.prototype.addResultsWithoutDupes=function(l,m,n,o){__p&&__p();f=m.find(function(f){return f.role===n.role&&f.is_bootstrap_entity_module===n.is_bootstrap_entity_module&&f.id===n.id});if(f==null)return m;var p=f.results,q=m.first();if(q!=null&&q.is_bootstrap_entity_module)p=q.results.concat(p);var r=p.map(function(x){return x.tuid}),s=[];for(var t=o,u=Array.isArray(t),v=0,t=u?t:t[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var w;if(u){if(v>=t.length)break;w=t[v++]}else{v=t.next();if(v.done)break;w=v.value}var x=w;if(r.indexOf(x.tuid)===-1){r.push(x.tuid);s.push(x)}}f.results=f.results.concat(s);return m};k.prototype.getResults=function(l,f){__p&&__p();var m=this.getState().get(l),n=null;for(var o=m,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;if(s.role===f.role&&s.is_bootstrap_entity_module===f.is_bootstrap_entity_module&&s.id===f.id)n=s}if(n==null)return c("immutable").List([]);var t=m.get(0),u=m.get(1),v=t.results.size>0?t.results.first().type:null,w=n.results.size>0?n.results.first().type:null;if(c("SearchResultPageExperiments").removeNonAdjacentBEMModuleRole&&t.is_bootstrap_entity_module&&v!==null&&v===w&&n!==t&&n!==u)return c("immutable").List([]);if(t!=null&&t.is_bootstrap_entity_module&&t.results.size>0&&u!=null&&u.results.size>0){var x=u.results.first().type,y=v===x;if(y)if(n===t)return t.results.concat(u.results);else if(n===u)return c("immutable").List([])}return n.results};k.prototype.getModules=function(l){var m=this.getState(),n=this.getState().get(l);if(n==null){n=c("immutable").List([]);m.set(l,n)}return n};function k(){h.apply(this,arguments)}f.exports=new k(c("SearchEntityModuleDispatcher"))}),null);
__d("SearchEntityModuleContainer.react",["FluxContainer","immutable","React","SearchEntityModule.react","SearchEntityModuleActions","SearchEntityModuleContainerStore","SearchEntityModuleDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.getStores=function(){return[c("SearchEntityModuleContainerStore")]};j.calculateState=function(k,l){return{modules:c("SearchEntityModuleContainerStore").getModules(l.browse_session_id)}};j.prototype.componentWillMount=function(){c("SearchEntityModuleDispatcher").explicitlyRegisterStores([c("SearchEntityModuleContainerStore")])};j.prototype.componentWillUnmount=function(){c("SearchEntityModuleActions").clearAllResultsAndModules(this.props.browse_session_id)};j.prototype.render=function(){__p&&__p();var k=this.state.modules,f=k.find(function(f){return f.role===this.props.module_role&&f.is_bootstrap_entity_module===this.props.is_bootstrap_entity_module&&f.id===this.props.id}.bind(this));if(f!=null&&f.component==null){f.component=this;c("SearchEntityModuleActions").addResultsToModule(this.props.browse_session_id,{id:this.props.id,role:this.props.module_role,is_bootstrap_entity_module:this.props.is_bootstrap_entity_module},c("immutable").List(this.props.results));this.forceUpdate();return c("React").createElement("div",null)}if(f!=null&&f.component===this){var l=c("SearchEntityModuleContainerStore").getResults(this.props.browse_session_id,{id:this.props.id,role:this.props.module_role,is_bootstrap_entity_module:this.props.is_bootstrap_entity_module});return c("React").createElement(c("SearchEntityModule.react"),{plain_text_query:this.props.plain_text_query,browse_query:this.props.browse_query,module_role:this.props.module_role,result_type:this.props.result_type,results:l.toArray(),num_results_to_show:this.props.num_results_to_show,client_view_config:this.props.client_view_config,browse_session_id:this.props.browse_session_id,module_style:this.props.module_style,title:this.props.title,see_more_uri:this.props.see_more_uri,logging_unit_id:this.props.logging_unit_id,is_bootstrap_entity_module:this.props.is_bootstrap_entity_module,has_module_guidelines:this.props.has_module_guidelines,viewer_id:this.props.viewer_id,should_render_footer:true})}return c("React").createElement("div",null)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j,{withProps:true})}),null);
__d("SearchEntityModuleUtils",["SearchEntityModuleActions","SearchEntityModuleContainerStore","SearchEntityModuleDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports={addModules:function h(i,j){__p&&__p();var k;c("SearchEntityModuleDispatcher").explicitlyRegisterStores([c("SearchEntityModuleContainerStore")]);var l=c("SearchEntityModuleContainerStore").getModules(j),m=function m(r){var s=l.find(function(t){return t.role===r.role&&t.id===r.id&&t.is_bootstrap_entity_module===r.is_bootstrap_entity_module});if(s==null)c("SearchEntityModuleActions").addModule(j,r)};for(var n=i,o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q;m(r)}}}}),null);
__d("SearchBootstrapEntityModule",["Arbiter","ReactRenderer","SearchBootstrapEntityModuleDebugUtil","SearchBootstrapEntityModuleUtil","SearchEntityModuleContainer.react","SearchEntityModuleContainerStore","SearchEntityModuleDispatcher","SearchEntityModuleServerConstants","SearchEntityModuleUtils","tidyEvent"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="pagelet_loader_browse:independent:modules:pagelet",i="pagelet_loader_initial_browse_result",j=void 0,k=false,l={init:function m(n){j=n;c("tidyEvent")(c("Arbiter").subscribe("pagelet_event",function(event,p){if(event==="display"&&(p.id===h||p.id===i))k=true}));var o=j.squashed_ent_ids?j.squashed_ent_ids:[];c("Arbiter").inform("FacebarDataSource.getBootstrapMatches",{query:j.plain_text_query,callback:function p(q){l.onBootstrapResponse(q)},whitelistedEntIds:o},c("Arbiter").BEHAVIOR_PERSISTENT)},onBootstrapResponse:function m(n){__p&&__p();var o=c("SearchBootstrapEntityModuleUtil").transformRawBootstrapResultsToEntityModuleResults(n,j.browse_session_id);if(k||o.length===0){if(k)c("SearchBootstrapEntityModuleDebugUtil").printDebugNotice("old_bem",o.length===0?"backend_faster_no_matches":"backend_faster_with_matches",n);else c("SearchBootstrapEntityModuleDebugUtil").printDebugNotice("old_bem","no_matches",n);return}c("SearchEntityModuleDispatcher").explicitlyRegisterStores([c("SearchEntityModuleContainerStore")]);var p=c("SearchEntityModuleContainerStore").getModules(j.browse_session_id);if(p.size>0){c("SearchBootstrapEntityModuleDebugUtil").printDebugNotice("old_bem","backend_faster_with_matches",n);return}var q=c("SearchEntityModuleServerConstants").RESULT_TYPE_TO_MODULE_ROLE[o[0].type];c("SearchEntityModuleUtils").addModules([{id:-1,role:q,is_bootstrap_entity_module:true}],j.browse_session_id);c("SearchBootstrapEntityModuleDebugUtil").printDebugNotice("old_bem","shown",n);c("ReactRenderer").constructAndRenderComponent(c("SearchEntityModuleContainer.react"),{plain_text_query:j.plain_text_query,browse_query:j.browse_query,results:o,result_type:o[0].type,module_role:q,is_bootstrap_entity_module:true,num_results_to_show:j.num_results_to_show,client_view_config:j.client_view_config,browse_session_id:j.browse_session_id,module_style:j.module_style,title:c("SearchBootstrapEntityModuleUtil").getTitleForResultType(o[0].type),see_more_uri:c("SearchBootstrapEntityModuleUtil").getSeeMoreURIForResults(o,j.typeahead_session_id!=null?j.typeahead_session_id:"",j.plain_text_query),logging_unit_id:j.logging_unit_id,has_module_guidelines:j.has_module_guidelines,viewer_id:j.viewer_id,id:-1},j.root)}};f.exports=l}),null);
__d("SearchInstantBootstrapEntityModule",["cx","fbt","Arbiter","BanzaiODS","Base64","ContextualComponent","CSS","CurrentUser","DOM","React","ReactDOM","ReactRenderer","Run","SearchBootstrapEntityModuleDebugUtil","SearchBootstrapEntityModuleUIConfig","SearchBootstrapEntityModuleUtil","SearchEntityModule.react","SearchEntityModuleServerConstants","SearchEntityModuleUIConfig","SearchWWWTrackableClientViewConfig","SubscriptionsHandler","XUIPageNavigation.react","XUIPageNavigationGroup.react","XUIPageNavigationItem.react","XUISpinner.react","ge"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=[i._("All"),i._("Posts"),i._("People"),i._("Photos"),i._("Videos"),i._("Pages"),i._("Places"),i._("Groups"),i._("Apps"),i._("Events")],k=void 0;function l(m){__p&&__p();this.$SearchInstantBootstrapEntityModule11=function(n,o){if(o!=null)this.$SearchInstantBootstrapEntityModule9=o}.bind(this);this.$SearchInstantBootstrapEntityModule12=function(n,o){var p=o.to;if(!c("SearchBootstrapEntityModuleUtil").isSERPURI(p)&&k.$SearchInstantBootstrapEntityModule6!=null)this.$SearchInstantBootstrapEntityModule13(k.$SearchInstantBootstrapEntityModule6);if(c("SearchBootstrapEntityModuleUtil").isTopTabURI(p)){this.$SearchInstantBootstrapEntityModule4=c("SearchBootstrapEntityModuleUtil").getQueryFromURI(p);this.$SearchInstantBootstrapEntityModule14();this.$SearchInstantBootstrapEntityModule15(p)}}.bind(this);this.$SearchInstantBootstrapEntityModule19=function(n){var o=c("SearchBootstrapEntityModuleUtil").transformRawBootstrapResultsToEntityModuleResults(n,this.$SearchInstantBootstrapEntityModule1.getBrowseSessionID());this.$SearchInstantBootstrapEntityModule5=o;c("SearchBootstrapEntityModuleDebugUtil").printDebugNotice(c("SearchBootstrapEntityModuleUIConfig").hasInstantLoading?"new_bem_with_instant_loading":"new_bem",o.length===0?"no_matches":"shown",n);if(c("SearchBootstrapEntityModuleUIConfig").hasInstantLoading){if(o.length>0)this.$SearchInstantBootstrapEntityModule17();this.$SearchInstantBootstrapEntityModule20()}}.bind(this);this.$SearchInstantBootstrapEntityModule21=function(){if(c("SearchBootstrapEntityModuleUIConfig").hasInstantLoading)this.$SearchInstantBootstrapEntityModule22();this.$SearchInstantBootstrapEntityModule9=null}.bind(this);this.$SearchInstantBootstrapEntityModule1=m.getCore();this.$SearchInstantBootstrapEntityModule2=new(c("SubscriptionsHandler"))();k=this}l.prototype.enable=function(){this.$SearchInstantBootstrapEntityModule8=c("ge")("content");if(this.$SearchInstantBootstrapEntityModule8==null)return;this.$SearchInstantBootstrapEntityModule10();c("Run").onAfterLoad(function(){this.$SearchInstantBootstrapEntityModule2.addSubscriptions(this.$SearchInstantBootstrapEntityModule1.subscribe("session",this.$SearchInstantBootstrapEntityModule11),c("Arbiter").subscribe("pre_page_transition",this.$SearchInstantBootstrapEntityModule12))}.bind(this))};l.prototype.disable=function(){this.$SearchInstantBootstrapEntityModule2.release()};l.prototype.$SearchInstantBootstrapEntityModule13=function(f){__p&&__p();if(this.$SearchInstantBootstrapEntityModule8==null)return;var m=c("ContextualComponent").closestToNode(this.$SearchInstantBootstrapEntityModule8);if(m==null)return;m.onUnmount(function(){if(f==this.$SearchInstantBootstrapEntityModule6){this.$SearchInstantBootstrapEntityModule16();this.$SearchInstantBootstrapEntityModule17()}}.bind(this))};l.prototype.$SearchInstantBootstrapEntityModule10=function(){__p&&__p();var m=c("DOM").create("div",{className:"_126b"});this.$SearchInstantBootstrapEntityModule3=c("DOM").create("div",{className:"_126c"},m);c("ReactRenderer").constructAndRenderComponentAcrossTransitions(c("XUISpinner.react"),{size:"large"},m);var n=[this.$SearchInstantBootstrapEntityModule3],j=c("SearchBootstrapEntityModuleUIConfig").hasTabBarPlaceholder?this.$SearchInstantBootstrapEntityModule18():null;if(j!=null)n.push(j);this.$SearchInstantBootstrapEntityModule7=c("DOM").create("div",{className:"_126d"},n);c("DOM").appendContent(this.$SearchInstantBootstrapEntityModule7,this.$SearchInstantBootstrapEntityModule3);c("CSS").hide(this.$SearchInstantBootstrapEntityModule7);c("DOM").appendContent(document.body,this.$SearchInstantBootstrapEntityModule7)};l.prototype.$SearchInstantBootstrapEntityModule18=function(){var m=j.map(function(p,q){return c("React").createElement(c("XUIPageNavigationItem.react"),{className:"_4gsg",href:"#",key:q},p)}),n=c("DOM").create("div"),o=c("DOM").create("div",{className:"_5sqx _4-u2 _4-u8","aria-hidden":true},c("DOM").create("div",{className:"_zz9 _5im-"},n));c("ReactRenderer").constructAndRenderComponentAcrossTransitions(c("XUIPageNavigation.react"),{children:c("React").createElement(c("XUIPageNavigationGroup.react"),null,m)},n);return o};l.prototype.$SearchInstantBootstrapEntityModule14=function(){var m=[];if(this.$SearchInstantBootstrapEntityModule4!=null){m=this.$SearchInstantBootstrapEntityModule1.getSquashedEntityIDsFromQueryString(this.$SearchInstantBootstrapEntityModule4);if(m==null)m=[]}c("Arbiter").inform("FacebarDataSource.getBootstrapMatches",{query:this.$SearchInstantBootstrapEntityModule4,callback:this.$SearchInstantBootstrapEntityModule19,whitelistedEntIds:m},c("Arbiter").BEHAVIOR_PERSISTENT)};l.prototype.$SearchInstantBootstrapEntityModule15=function(m){__p&&__p();var n=this.$SearchInstantBootstrapEntityModule4;if(n==null)return;var o=this.$SearchInstantBootstrapEntityModule5;if(o==null||o.length===0)return;var p={},q=void 0,r=m.getQueryData().ref;if(r!=null)try{p=JSON.parse(c("Base64").decode(r))}catch(s){q=r}var t=o.map(function(u){return u.tuid});p=babelHelpers["extends"]({},p,{preloaded_entity_ids:t,preloaded_entity_type:o[0].type,ent_ids:this.$SearchInstantBootstrapEntityModule1.getSquashedEntityIDsFromQueryString(n)});if(q!=null)p.ref=q;m.setQueryData(babelHelpers["extends"]({},m.getQueryData(),{ref:c("Base64").encode(JSON.stringify(p)).replace(/\=+$/,"")}))};l.prototype.$SearchInstantBootstrapEntityModule20=function(){var m=this.$SearchInstantBootstrapEntityModule5,n=this.$SearchInstantBootstrapEntityModule4;if(m==null||m.length===0||n==null)return;var o=c("DOM").create("div"),p=c("SearchBootstrapEntityModuleUtil").getTitleForResultType(m[0].type),q={plain_text_query:n,browse_query:"keywords_search("+n+")",results:m,module_role:c("SearchEntityModuleServerConstants").RESULT_TYPE_TO_MODULE_ROLE[m[0].type],result_type:m[0].type,num_results_to_show:c("SearchBootstrapEntityModuleUIConfig").numResultsToShow,client_view_config:c("SearchWWWTrackableClientViewConfig"),browse_session_id:this.$SearchInstantBootstrapEntityModule1.getBrowseSessionID(),module_style:c("SearchEntityModuleUIConfig").moduleStyle,title:p,see_more_uri:c("SearchBootstrapEntityModuleUtil").getSeeMoreURIForResults(m,this.$SearchInstantBootstrapEntityModule9,n),logging_unit_id:c("SearchBootstrapEntityModuleUtil").generateUnitIDWithPrefix("www_bem"),has_module_guidelines:c("SearchEntityModuleUIConfig").hasModuleGuidelines,viewer_id:c("CurrentUser").getID(),is_bootstrap_entity_module:true,should_render_footer:false};if(this.$SearchInstantBootstrapEntityModule6!=null)c("BanzaiODS").bumpEntityKey("search.www.bem.instant_bem","previous_bem_not_unmounted");this.$SearchInstantBootstrapEntityModule6=c("ReactRenderer").constructAndRenderComponentAcrossTransitions(c("SearchEntityModule.react"),q,o,this.$SearchInstantBootstrapEntityModule21);c("DOM").prependContent(this.$SearchInstantBootstrapEntityModule3,o)};l.prototype.$SearchInstantBootstrapEntityModule17=function(){if(this.$SearchInstantBootstrapEntityModule6==null)return;var m=c("ReactDOM").findDOMNode(this.$SearchInstantBootstrapEntityModule6),n=c("ReactDOM").unmountComponentAtNode(m.parentNode);if(!n)c("BanzaiODS").bumpEntityKey("search.www.bem.instant_bem","current_bem_did_not_unmount");this.$SearchInstantBootstrapEntityModule6=null};l.prototype.$SearchInstantBootstrapEntityModule22=function(){c("CSS").show(this.$SearchInstantBootstrapEntityModule7);if(document.body!=null)c("CSS").removeClass(document.body,"_2yq");if(this.$SearchInstantBootstrapEntityModule8!=null)c("CSS").hide(this.$SearchInstantBootstrapEntityModule8)};l.prototype.$SearchInstantBootstrapEntityModule16=function(){if(this.$SearchInstantBootstrapEntityModule8!=null)c("CSS").show(this.$SearchInstantBootstrapEntityModule8);c("CSS").hide(this.$SearchInstantBootstrapEntityModule7)};l.moveInsideWrapper=function(m){__p&&__p();if(k==null)return;if(!c("SearchBootstrapEntityModuleUIConfig").hasInstantLoading)k.$SearchInstantBootstrapEntityModule20();var f=k.$SearchInstantBootstrapEntityModule6;if(f==null)return;var n=c("ReactDOM").findDOMNode(f);if(n==null)return;if(n.parentNode==null)return;k.$SearchInstantBootstrapEntityModule16();k.$SearchInstantBootstrapEntityModule13(f);c("DOM").appendContent(m,n.parentNode)};f.exports=l}),null);
__d("NodeHighlighter",["DOM","TokenizeUtil","concatMap","escapeRegex","getElementText","isTextNode"],(function a(b,c,d,e,f,g){__p&&__p();var h={};function i(l,m){var n=c("getElementText")(l).split(m),o=n.map(function(p){if(m.test(p))return j(p);return p||""});return n.length>1?o:null}function j(l){var m=c("DOM").create("span",{"class":"highlightNode",className:"highlightNode"},l);return m}var k={getTextNodes:function l(m){if(this.isLeafNode(m)||this.isStopNode(m))return m;else if(this.isDiscardNode(m))return[];return c("concatMap")(this.getTextNodes.bind(this),Array.from(m.childNodes))},getHighlightCandidates:function l(){return[]},isLeafNode:function l(m){return c("isTextNode")(m)},isStopNode:function l(m){return false},isDiscardNode:function l(m){return false},createSegmentedRegex:function l(m){var n=c("TokenizeUtil").getPunctuation();m=this.escapeAndAddBidirectionalCharsToTokens(m);m=m.map(function(o){o=o.split(/\s+/).join("(?:"+n+"|\\s)+");return o});return"(^|\\s|"+n+")("+m.join("|")+")(?=(?:$|\\s|"+n+"))"},createNonSegmentedRegex:function l(m){return"("+m.map(c("escapeRegex")).join("|")+")"},escapeAndAddBidirectionalCharsToTokens:function l(m){var n="[\\u200E\\u200F\\u202A\\u202B\\u202C\\u202D\\u202E]*";return m.map(function(o){return n+String(o).split("").map(c("escapeRegex")).join(n)+n})},createRegex:function l(m){__p&&__p();m=m.filter(function(t){return t});if(!m||m.length===0)return new RegExp(null);var n=m.join("|");if(h[n])return h[n];var o=/[\u0E00-\u109F\u2000-\uFFFF]/,p=[],q=[];m.forEach(function(t){if(o.test(t))q.push(t);else p.push(t)});var r="";if(p.length){r+=this.createSegmentedRegex(p);r+=q.length?"|":""}if(q.length)r+=this.createNonSegmentedRegex(q);var s=new RegExp(r,"i");h[n]=s;return s},searchNodes:function l(m,n){return c("DOM").scry(m,n)},highlight:function l(m,n){__p&&__p();n=n.filter(function(q){return q});if(!n||n.length===0||!m)return;var o=c("concatMap")(function(q){return c("concatMap")(this.getTextNodes.bind(this),this.searchNodes(m,q))}.bind(this),this.getHighlightCandidates()),p=this.createRegex(n);o.forEach(function(q){var r=i(q,p);if(r)if(this.isStopNode(q))c("DOM").setContent(q,r);else c("DOM").replace(q,r)}.bind(this))}};f.exports=k}),null);
__d("SearchCommentHighlighter",["csx","Arbiter","CSS","NodeHighlighter","Parent","UFIUIEvents"],(function a(b,c,d,e,f,g,h){__p&&__p();var i="data-highlight-tokens",j=babelHelpers["extends"]({},c("NodeHighlighter"),{_enableCommentHighlighting:function k(){if(this._subscription)return;this._subscription=c("Arbiter").subscribe(c("UFIUIEvents").Changed,function(l,m){var n=m.form;return this._highlightComments(n)}.bind(this));c("Arbiter").subscribeOnce("pre_page_transition",function(){return this._disableCommentHighlighting()}.bind(this))},_disableCommentHighlighting:function k(){this._subscription.unsubscribe();this._subscription=null},_highlightComments:function k(l){var m=this._getHighlightTokens(l);if(m)c("NodeHighlighter").highlight.call(this,l,m)},_getHighlightTokens:function k(l){var m=c("Parent").byAttribute(l,i);return m?JSON.parse(m.getAttribute(i)):null},isDiscardNode:function k(l){return c("CSS").hasClass(l,"highlightNode")},getHighlightCandidates:function k(){return[".UFICommentContent"]},highlight:function k(l,m){if(!l.setAttribute)return;l.setAttribute(i,JSON.stringify(m));this._enableCommentHighlighting()}});f.exports=j}),null);
__d("FbFeedHighlighter",["csx","cx","CSS","NodeHighlighter","SearchCommentHighlighter"],(function a(b,c,d,e,f,g,h,i){var j="_58cn",k=babelHelpers["extends"]({},c("NodeHighlighter"),{getHighlightCandidates:function l(){return["._5pbw","._5pbx","._6m6","._6m7","._59tj","._5b-_","._5b_0","._4_j6",".commentBody","._6lc","._6s_"]},isStopNode:function l(m){return c("CSS").hasClass(m,j)},isDiscardNode:function l(m){return c("CSS").hasClass(m,"text_exposed_link")},highlight:function l(m,n){c("NodeHighlighter").highlight.call(this,m,n);c("SearchCommentHighlighter").highlight(m,n)}});f.exports=k}),null);