if (self.CavalryLogger) { CavalryLogger.start_js(["zI1Nv"]); }

__d("AppUseTrackerLogger",["AsyncRequest","PageTransitions","Run","isInIframe","pageID"],(function a(b,c,d,e,f,g){__p&&__p();function h(){if(!h.instance)h.instance=this;return h.instance}Object.assign(h,{setup:function i(j,k,l,m,n,o){new h().init(j,k,l,m,n,o)}});Object.assign(h.prototype,{instance:null,endpoint:"/ajax/apps/usage_update.php",heartbeat_endpoint:"/ajax/apps/heartbeat.php",INITIAL_PING:0,ONGOING_PING:1,DISCOVERY_PING:2,ENDING_PING:3,_application_id:0,_is_game:0,_createRequest:function i(j){return new(c("AsyncRequest"))().setURI(this.endpoint).setMethod("POST").setData({app:this._application_id,is_game:this._is_game,type:j,condition:this._signal_on_page_transition})},_createHeartbeatRequest:function i(){return new(c("AsyncRequest"))().setURI(this.heartbeat_endpoint).setMethod("POST").setData({app:this._application_id,page_id:c("pageID")})},init:function i(j,k,l,m,n,o){__p&&__p();if(c("isInIframe")())return;this.cleanup();c("PageTransitions").registerHandler(this.catchPageTransition.bind(this));this._application_id=j;this._is_game=k;if(o){var p=function(){return this._createHeartbeatRequest().send()}.bind(this);p();this._timers.push(setInterval(p,o))}this._timers.push(setTimeout(function(){this._createRequest(this.INITIAL_PING).send();var q=this._createRequest(this.ONGOING_PING);this._timers.push(setInterval(q.send.bind(q),m))}.bind(this),l));if(n)this._timers.push(setTimeout(function(){this._createRequest(this.DISCOVERY_PING).send()}.bind(this),n));c("Run").onBeforeUnload(this.onBeforeUnload.bind(this))},catchPageTransition:function i(j){this._createRequest(this.ENDING_PING).send();this.cleanup()},onBeforeUnload:function i(){this._createRequest(this.ENDING_PING).send();this.cleanup()},cleanup:function i(){if(this._timers)for(var j=0;j<this._timers.length;j++)clearInterval(this._timers[j]);this._timers=[]}});f.exports=h}),null);
__d("CanvasRHCHeightController.react",["React","DOMQuery"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.render=function(){"use strict";var l=c("DOMQuery").find(document,"#contentArea"),m=0;if(this.props.rhc.scrollHeight<l.scrollHeight)m=l.scrollHeight-this.props.rhc.scrollHeight;var n={height:m+"px"};return c("React").createElement("div",{style:n})};function k(){"use strict";h.apply(this,arguments)}k.propTypes={rhc:j.object};f.exports=k}),null);
__d("InsightsInfoTip.react",["cx","ix","Image.react","React","ReactDOM","Tooltip","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$InsightsInfoTip1=function(){c("Tooltip").set(c("ReactDOM").findDOMNode(this.refs.root),c("ReactDOM").findDOMNode(this.refs.tooltip).cloneNode(true),this.props.position,this.props.alignH)}.bind(this),o}m.prototype.componentDidMount=function(){"use strict";this.$InsightsInfoTip1()};m.prototype.componentDidUpdate=function(n){"use strict";this.$InsightsInfoTip1()};m.prototype.componentWillUnmount=function(){"use strict";if(this.refs.icon)c("Tooltip").remove(c("ReactDOM").findDOMNode(this.refs.icon))};m.prototype.render=function(){"use strict";var n=i("76155"),o=null;if(!this.props.noImage)o=c("React").createElement(c("Image.react"),{className:"_5j1g",src:n,ref:"icon"});var p=c("joinClasses")("_5j1f",this.props.className);return c("React").createElement("span",{className:p,ref:"root"},this.props.children,o,c("React").createElement("div",{className:"_5j1h"},c("React").createElement("div",{className:"_5j1i",ref:"tooltip"},this.props.tip)))};m.propTypes={alignH:l.oneOf(["center","left","right"]),position:l.oneOf(["above","below","left","right"])};m.defaultProps={alignH:"right",position:"above"};f.exports=m}),null);
__d("InsightsLegendKey.react",["cx","React","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";if(this.props.children.length!==2)return;var l=c("joinClasses")("_kz-",this.props.className);return c("React").createElement("div",{className:l},this.props.children[0],c("React").createElement("span",{className:"_kdk"},this.props.children[1]))};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("InsightsLegendAreaKey.react",["cx","InsightsLegendKey.react","React"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement(c("InsightsLegendKey.react"),{className:this.props.className},c("React").createElement("div",{className:"_1l46 _1l47",style:{background:this.props.color}}),this.props.children)};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("BUIDraggableList.react",["cx","invariant","AbstractDraggableList.react","BUIComponent","FBOverlayBase.react","React","XUIGrayText.react","joinClasses","mapObject"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("BUIComponent"));k=j&&j.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$BUIDraggableList1=function(s){var t=c("React").createElement(c("FBOverlayBase.react"),null,c("React").createElement("div",null,c("React").createElement(c("XUIGrayText.react"),{shade:"medium"},c("React").createElement("div",null,s))));return t},this.$BUIDraggableList2=function(s){var t=c("mapObject")(s,function(u){var v=this.$BUIDraggableList1(u.label),w=babelHelpers["extends"]({},u,{label:v});return w}.bind(this));return t}.bind(this),o}m.prototype.render=function(){this.props.itemIDs.length!==0||i(0);var n=c("joinClasses")(this.props.className,"_5nz6");return c("React").createElement(c("AbstractDraggableList.react"),babelHelpers["extends"]({},this.props,{className:n,itemsByID:this.$BUIDraggableList2(this.props.itemsByID)}))};m.propTypes={itemIDs:l.arrayOf(l.string.isRequired).isRequired,itemsByID:l.object.isRequired,itemsRenderer:l.func,onRemove:l.func.isRequired,onReorder:l.func.isRequired};f.exports=m}),null);
__d("getNormalizedClientRect",["getDocumentScrollElement"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){__p&&__p();var j=i.getBoundingClientRect(),k=0,l=0,m=c("getDocumentScrollElement")(i.ownerDocument),n=m.getBoundingClientRect();if(n.left>0)k=-n.left;else{var o=m.scrollWidth+n.left,p=n.width;if(p>o)k=p-o}if(n.top>0)l=-n.top;return{bottom:j.bottom+l,height:j.height,left:j.left+k,right:j.right+k,top:j.top+l,width:j.width}}f.exports=h}),null);
__d("StickyArea",["cx","CSS","DOM","DOMQuery","Event","Run","Style","ViewportBounds","getNormalizedClientRect","getOverlayZIndex","removeFromArray","throttle"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=[],j=null,k=null,l=c("throttle").acrossTransitions(o,1e3),m="$$StickyArea_scrollListener",n="$$StickyArea_scrollListenerCount";function o(){i.sort(function(u,v){var w=u.getNode(),x=v.getNode();if(w.compareDocumentPosition)return 3-(w.compareDocumentPosition(x)&6);else return w.sourceIndex-x.sourceIndex})}function p(u,v,w){var x=u.getPlaceholder(),y=u.getNode(),z=c("Style").get(y,"float"),A=u.getData();if(A.placeholderWidth!==v||A.placeholderHeight!==w||A.placeholderFloat!==z){c("Style").apply(x,{"float":z,height:w+"px",width:v+"px"});A.placeholderHeight=w;A.placeholderWidth=v}if(y.nextSibling!==x)c("DOM").insertAfter(y,x)}function q(u,v){var w=u.getData();if(w.fixed!==v){c("Style").apply(u.getNode(),w.styles);c("CSS").conditionShow(u.getPlaceholder(),v);c("CSS").conditionClass(u.getNode(),"_1a1e",v);c("Event").fire(u.getNode(),"change");w.fixed=v}}function r(u,v){if(!u)return 0;else if(v.right<=u.rect.left||v.left>=u.rect.right)return r(u.prev,v);else return u.bottom}function s(){__p&&__p();var u=0,v=i.length,w=100,x=null;function y(z,A){__p&&__p();var B=w;while(u<v){var C=i[u],D=C.getNode(),E=C._scrollTarget;if(A&&!c("DOMQuery").contains(A,D))break;w=Math.max(B,C.getZIndex());var F=C.getData(),G=D.parentNode,H=F.styles;if(G==null){u++;continue}for(var I in H)H[I]="";q(C,false);var J=D.offsetHeight,K=D.offsetWidth,L=E!==window?E.getBoundingClientRect().top:0,M=c("getNormalizedClientRect")(D),N=r(z||(E===window?x:null),M)+C.getOffset(),O=M.top-L;if(O<=N){H.width=K+"px";var P=parseInt(c("Style").get(G,"padding-bottom"),10),Q=c("getNormalizedClientRect")(G);if(Q.bottom-P>N+J||!C.getIsBoundToContainer()){var R=parseInt(c("Style").get(D,"margin-left"),10);H.position="fixed";H.bottom="auto";H.top=N+L+"px";H.left=M.left-R+"px"}else{if(!F.parent||G!==F.parent){if(c("Style").get(G,"position")==="static")c("Style").set(G,"position","relative");F.parent=G}H.position="absolute";H.top="auto";H.bottom=P+"px";var S=parseInt(c("Style").get(G,"border-left-width"),10);H.left=M.left-Q.left-S+"px"}p(C,K,J);q(C,true)}u++;var T={bottom:N+J,prev:z,rect:M},U=0;if(!C.getIsBoundToContainer()){x=T;U=100}y(T,G);var V=C.getZIndexOverride()||w+++U;c("Style").set(D,"z-index",V)}}y(null,null)}function t(u,v,w){__p&&__p();var x=arguments.length<=3||arguments[3]===undefined?{}:arguments[3];"use strict";this._isDestroyed=false;this._node=u;this._data={fixed:false,placeholderFloat:null,placeholderHeight:null,placeholderWidth:null,styles:{}};this._offset=w;this._boundToContainer=x.boundToContainer!==false;if(x.stickTo===t.stickTo.SCROLL_PARENT)this._scrollTarget=c("Style").getScrollParent(u.parentNode)||window;else this._scrollTarget=window;this._zIndexOverride=x.zIndexOverride;c("CSS").addClass(u,"_k");if(!v)c("Run").onLeave(this.destroy.bind(this));if(!this._scrollTarget[m]){this._scrollTarget[m]=c("Event").listen(this._scrollTarget,"scroll",function(){l();s()});this._scrollTarget[n]=1}else this._scrollTarget[n]++;if(!i.length){j=c("Event").listen(window,"resize",function(){l();s()});k=c("ViewportBounds").subscribe("change",function(){l();s()})}i.push(this);t.reflow()}t.prototype.destroy=function(){"use strict";__p&&__p();if(this._isDestroyed)return;c("removeFromArray")(i,this);this._scrollTarget[n]--;if(this._scrollTarget[n]===0){this._scrollTarget[m].remove();this._scrollTarget[m]=null}if(!i.length){j.remove();j=null;k.unsubscribe();k=null}if(this._placeholder)c("DOM").remove(this._placeholder);var u=0;for(var v in this._data.styles){this._data.styles[v]="";u++}if(u)c("Style").apply(this._node,this._data.styles);this._isDestroyed=true};t.prototype.getData=function(){"use strict";return this._data};t.prototype.getNode=function(){"use strict";return this._node};t.prototype.getOffset=function(){"use strict";return this._offset||0};t.prototype.getPlaceholder=function(){"use strict";if(!this._placeholder)this._placeholder=c("DOM").create("div");return this._placeholder};t.prototype.getIsBoundToContainer=function(){"use strict";return this._boundToContainer};t.prototype.getZIndexOverride=function(){"use strict";return this._zIndexOverride};t.prototype.getZIndex=function(){"use strict";if(!this._zIndex)this._zIndex=c("getOverlayZIndex")(this._node);return this._zIndex};t.prototype.setOffset=function(u){"use strict";this._offset=u};t.reflow=c("throttle").acrossTransitions(function(){o();s()},100);t.stickTo={SCROLL_PARENT:"SCROLL_PARENT",WINDOW:"WINDOW"};f.exports=t}),null);
__d("StickyArea.react",["cx","React","ReactDOM","StickyArea","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.componentDidMount=function(){"use strict";this.$StickyArea1=new(c("StickyArea"))(c("ReactDOM").findDOMNode(this),true,this.props.offset||0,{boundToContainer:this.props.boundToContainer,stickTo:this.props.stickTo,zIndexOverride:this.props.zIndexOverride})};l.prototype.componentDidUpdate=function(m){"use strict";if(this.props.offset!==m.offset)this.$StickyArea1.setOffset(this.props.offset);c("StickyArea").reflow()};l.prototype.componentWillUnmount=function(){"use strict";this.$StickyArea1.destroy();this.$StickyArea1=null};l.prototype.setOffset=function(m){"use strict";this.$StickyArea1.setOffset(m)};l.prototype.render=function(){"use strict";return c("React").createElement("div",babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,"_k"),ref:"root"}),this.props.children)};function l(){"use strict";i.apply(this,arguments)}l.propTypes={boundToContainer:k.bool,stickTo:k.oneOf([c("StickyArea").stickTo.SCROLL_PARENT,c("StickyArea").stickTo.WINDOW]).isRequired,zIndexOverride:k.oneOfType([k.number,k.oneOf(["auto","initial","inherit"])])};l.defaultProps={boundToContainer:true,stickTo:c("StickyArea").stickTo.WINDOW};f.exports=l}),null);
__d("XUIBackgroundBar.react",["cx","React","sumOfArray"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;"use strict";for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.getColorAtIndex=function(q){if(Array.isArray(this.props.colors))return this.props.colors[q];else return this.props.colors(q)}.bind(this),m}k.prototype.render=function(){"use strict";__p&&__p();var l=this.props.values,m=c("sumOfArray")(l),n=this.props.scale;n.rangeRound([0,100]);var o={width:n(m)+"%"};function p(q,r){if(r>0&&q===0)return null;var s=n(m)!==0?100*n(q)/n(m)+"%":"0",t={backgroundColor:this.getColorAtIndex(r),width:s};return c("React").createElement("div",{className:"_5abn",key:r,style:t})}return c("React").createElement("div",{className:"_5abm",style:o},l.map(p,this),c("React").createElement("div",{className:"_352g"}))};f.exports=k}),null);
__d("FeedPlaceHolderStory.react",["cx","Locale","React","XUICard.react","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement(c("XUICard.react"),{className:c("joinClasses")("_2iwp",this.props.className)},c("React").createElement("div",{className:(c("Locale").isRTL()?"direction_rtl":"")+" _2iwo"},c("React").createElement("div",{className:"_2iwq"},c("React").createElement("div",{className:"_2iwr"}),c("React").createElement("div",{className:"_2iws"}),c("React").createElement("div",{className:"_2iwt"}),c("React").createElement("div",{className:"_2iwu"}),c("React").createElement("div",{className:"_2iwv"}),c("React").createElement("div",{className:"_2iww"}),c("React").createElement("div",{className:"_2iwx"}),c("React").createElement("div",{className:"_2iwy"}),c("React").createElement("div",{className:"_2iwz"}),c("React").createElement("div",{className:"_2iw-"}),c("React").createElement("div",{className:"_2iw_"}),c("React").createElement("div",{className:"_2ix0"}))))};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("FixedDataTableColumnGroupNew.react",["React"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.render=function(){"use strict";return null};function k(){"use strict";h.apply(this,arguments)}k.__TableColumnGroup__=true;k.propTypes={align:j.oneOf(["left","center","right"]),fixed:j.bool,hideHeaders:j.bool,header:j.oneOfType([j.node,j.func])};k.defaultProps={fixed:false,hideHeaders:false};f.exports=k}),null);
__d("XGamerGraphMarkUserPlaysFBAppController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/gamer-graph/mark-user-plays-fb-app/",{})}),null);
__d("GamerGraphMarkUserPlaysFBApp",["AsyncRequest","XGamerGraphMarkUserPlaysFBAppController"],(function a(b,c,d,e,f,g){"use strict";f.exports.mark=function(h){var i=c("XGamerGraphMarkUserPlaysFBAppController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(i).setData({app_id:h}).send()}}),null);
__d("GiftCredits",["AsyncRequest","Dialog","URI"],(function a(b,c,d,e,f,g){__p&&__p();var h={dialog:null,callback:null,purchaseLock:false,purchaseLockExpiryThreshold:5e3,purchaseLockTimeoutId:null,getPurchaseCreditPrompt:function i(j,k,l,m){h.main(j,null,null,null,l,null,null,null,"BuyCredits",{},m)},redeemGiftcard:function i(j,k,l){var m=new(c("URI"))(document.location).setPath("/giftcards").toString();h.main(j,null,null,m,null,null,null,null,k,{},l)},getPrompt:function i(j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G){h.main(j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G)},main:function i(j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G){if(h.isPurchaseLocked())return false;h.setPurchaseLock(true);var H={_path:"pay",method:"pay",display:"async",app_id:j,receiver:k,api_key:p,credits_purchase:w,action:r,next:m,dev_purchase_params:JSON.stringify(s),additional_params:JSON.stringify(t),order_info:JSON.stringify(l),product:u,package_id:v,request_id:x,sdk:y,quantity:z,quantity_min:A,quantity_max:B,test_currency:C,pricepoint_id:D,user:E,user_hash:F,ingame_gift_data:G},I=new(c("AsyncRequest"))().setURI("/fbml/ajax/dialog/").setData(H).setMethod("GET").setReadOnly(true).setStatusElement("commerce_get_more_loading");h.callback=n;h.dialog=new(c("Dialog"))().setAsync(I).setModal(true).setCloseHandler(function(J){h.setPurchaseLock(false);n(J)}).show()},isPurchaseLocked:function i(){return h.purchaseLock},setPurchaseLock:function i(j){h.purchaseLock=j;if(j)h.purchaseLockTimeoutId=setTimeout(function(){h.setPurchaseLock(false)},h.purchaseLockExpiryThreshold);else clearTimeout(h.purchaseLockTimeoutId);return true}};f.exports=h}),null);
__d("legacy:giftcredits",["GiftCredits"],(function a(b,c,d,e,f,g){b.GiftCredits=c("GiftCredits")}),3);
__d("TimePlayingEnum",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FIVE_SECONDS:"five_seconds",TEN_SECONDS:"ten_seconds",THIRTY_SECONDS:"thirty_seconds",ONE_MINUTE:"one_minute",TWO_MINUTES:"two_minutes",FIVE_MINUTES:"five_minutes"})}),null);
__d("CanvasActivityLogger",["Event","ScriptPath","Visibility","clickRefAction","getActiveElement","setIntervalAcrossTransitions","$","Banzai","TimePlayingEnum"],(function a(b,c,d,e,f,g){__p&&__p();var h=1e3,i=false,j=false,k=false,l=false,m=null,n=null,o=null,p=0,q=0,r=0,s={5:c("TimePlayingEnum").FIVE_SECONDS,10:c("TimePlayingEnum").TEN_SECONDS,30:c("TimePlayingEnum").THIRTY_SECONDS,60:c("TimePlayingEnum").ONE_MINUTE,120:c("TimePlayingEnum").TWO_MINUTES,300:c("TimePlayingEnum").FIVE_MINUTES},t={CANVAS_ACTIVE:"active",CANVAS_INACTIVE:"inactive"},u=t.CANVAS_INACTIVE;function v(){return l&&k&&(i||j)}function w(){__p&&__p();if(u==t.CANVAS_ACTIVE&&!v()){u=t.CANVAS_INACTIVE;var A=Date.now()-n;c("ScriptPath").closeOverlayView("canvas",n?{ms_since_open:A}:null);q+=A;for(var B in s)if(Object.prototype.hasOwnProperty.call(s,B)&&q>B*h){var C=s[B];c("Banzai").post("canvas_playing_game",{played:C,app_id:r});delete s[B]}if(Date.now()-o>60*h){var D=A+p;c("Banzai").post("canvas_time_spent",[D,r]);o=Date.now();p=0}else p=n?A+p:p}else if(u==t.CANVAS_INACTIVE&&v()){u=t.CANVAS_ACTIVE;n=Date.now();if(!o)o=Date.now();c("ScriptPath").openOverlayView("canvas")}}c("Banzai").subscribe(c("Banzai").SHUTDOWN,function(){if(v())c("ScriptPath").closeOverlayView("canvas",n?{ms_since_open:Date.now()-n}:null)});function x(A){__p&&__p();c("clickRefAction")("canvas",m,A,"FORCE").set_namespace("canvas");switch(A.type){case"beforeunload":l=false;i=false;j=false;break;case"visible":l=true;break;case"hidden":l=false;break;case"mouseover":j=true;break;case"mouseout":j=false;break;case"focus":case"blur":i=c("getActiveElement")()==c("$")("iframe_canvas");break;default:break}w()}function y(A){var B=document.createEvent("FocusEvent");B.initEvent(A,true,true);return B}var z={trackState:function A(B,C){__p&&__p();r=C;l=!c("Visibility").isHidden();k=document.hasFocus();i=c("getActiveElement")()==c("$")("iframe_canvas");j=B.querySelector(":hover")!==null;w();c("Event").listen(B,"mouseover",x);c("Event").listen(B,"mouseout",x);c("Event").listen(window,"blur",x);c("Event").listen(window,"focus",x);c("Event").listen(window,"beforeunload",x);c("Visibility").addListener("hidden",function(){return x(y("hidden"))});c("Visibility").addListener("visible",function(){return x(y("visible"))});c("setIntervalAcrossTransitions")(function(){k=document.hasFocus();w()},h)}};f.exports=z}),null);
__d("CanvasResizer",["createArrayFromMixed","CSS","DOMEventListener","Vector"],(function a(b,c,d,e,f,g){__p&&__p();var h;function i(){__p&&__p();var k,l=document.documentElement;if(window.innerHeight)k=window.innerHeight;else if(l&&l.clientHeight)k=l.clientHeight;else k=document.body.clientHeight;for(var m=0;m<h.length;m++){var n=h[m];if(!c("CSS").hasClass(n,"noresize")){var o=c("Vector").getElementPosition(n,"document").y,p=k-o;n.style.height=p/(h.length-m)+"px"}}}c("DOMEventListener").add(window,"resize",i);var j={smartSizingFrameAdded:function k(){h=[];var l=c("createArrayFromMixed")(document.getElementsByTagName("iframe"));l.forEach(function(m){if(c("CSS").hasClass(m,"smart_sizing_iframe")&&!c("CSS").hasClass(m,"noresize")){c("CSS").removeClass(m,"canvas_iframe_util");h.push(m)}});i()}};f.exports=j}),null);
__d("XHPTemplate",["DataStore","DOM","HTML","XHPTemplateProcessor"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("XHPTemplateProcessor").processor;function i(k){"use strict";if(h instanceof Function)k=h(k);this._model=k}i.prototype.render=function(){"use strict";if(c("HTML").isHTML(this._model))this._model=c("DOM").setContent(document.createDocumentFragment(),this._model)[0];return this._model.cloneNode(true)};i.prototype.build=function(){"use strict";return new j(this.render())};i.getNode=function(k,l){"use strict";return i.getNodes(k)[l]};i.getNodes=function(k){"use strict";__p&&__p();var l=c("DataStore").get(k,"XHPTemplate:nodes");if(!l){l={};var m=c("DOM").scry(k,"[data-jsid]");m.push(k);var n=m.length;while(n--){var o=m[n];l[o.getAttribute("data-jsid")]=o;o.removeAttribute("data-jsid")}c("DataStore").set(k,"XHPTemplate:nodes",l)}return l};function j(k){"use strict";this._root=k;this._populateNodes()}j.prototype._populateNodes=function(){"use strict";__p&&__p();this._nodes={};this._leaves={};var k=this._root.getElementsByTagName("*");for(var l=0,m=k.length;l<m;l++){var n=k[l],o=n.getAttribute("data-jsid");if(o){n.removeAttribute("data-jsid");this._nodes[o]=n;this._leaves[o]=!n.childNodes.length}}};j.prototype.getRoot=function(){"use strict";return this._root};j.prototype.getNode=function(k){"use strict";return this._nodes[k]};j.prototype.setNodeProperty=function(k,l,m){"use strict";this.getNode(k)[l]=m;return this};j.prototype.setNodeContent=function(k,l){"use strict";if(!this._leaves[k])throw new Error("Can't setContent on non-leaf node: "+k);c("DOM").setContent(this.getNode(k),l);return this};f.exports=i}),null);
__d("LayerPage",["Arbiter","CSS","DOM","Layer","LayerButtons","LayerFormHooks","LayerHideOnTransition","LayerMouseHooks","LayerTabIsolation","ModalLayer","Style"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("Layer"));i=h&&h.prototype;j.prototype._configure=function(n,o){"use strict";this._fitWidth=!!n.fitWidth;if(n.width)this._width=Math.floor(n.width);else this._width=null;if(n.bottomMargin!==undefined)this._bottomMargin=n.bottomMargin;else this._bottomMargin=null;i._configure.call(this,n,o)};j.prototype._getDefaultBehaviors=function(){"use strict";return i._getDefaultBehaviors.call(this).concat([m,c("LayerButtons"),c("LayerFormHooks"),c("LayerHideOnTransition"),c("LayerMouseHooks"),c("LayerTabIsolation"),c("ModalLayer")])};j.prototype._buildWrapper=function(n,o){"use strict";return c("DOM").create("div",null,o)};j.prototype.updatePosition=function(){"use strict";__p&&__p();var n=c("DOM").find(this.getRoot(),"div.uiLayerPage");if(this._fitWidth)c("Style").set(n,"width",l+"%");else if(this._width){var o=c("DOM").find(n,"div.uiLayerPageContentWrap"),p=this._width;if(c("CSS").hasClass(o,"uiLayerPageDefaultPadding"))p+=2*k;c("Style").set(n,"width",p+"px")}return true};j.prototype.getContentRoot=function(){"use strict";if(!this._contentRoot)this._contentRoot=c("DOM").find(this.getRoot(),".uiOverlayContent");return this._contentRoot};j.prototype.getBottomMargin=function(){"use strict";return this._bottomMargin};function j(){"use strict";h.apply(this,arguments)}var k=15,l=95;function m(n){"use strict";this._layer=n;this._subscription=null}m.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe(["show","hide"],function(n,o){if(n==="show")c("Arbiter").inform("layer_shown",{type:"LayerPage"});else c("Arbiter").inform("layer_hidden",{type:"LayerPage"})})};m.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null};f.exports=j}),null);