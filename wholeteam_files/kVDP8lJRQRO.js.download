if (self.CavalryLogger) { CavalryLogger.start_js(["tW6n6"]); }

__d("XComposerActorChangeController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/composer/actor/change/",{composer_id:{type:"String",required:true},entry_point:{type:"Enum",required:true,enumType:1},from_actor_id:{type:"Int",required:true},target_id:{type:"Int",required:true}})}),null);
__d("ComposerXActorSelector.react",["fbt","ActorSelector.react","ActorSelectorNuxTypes","ActorURI","Arbiter","AsyncRequest","ReactComposerContextTypes","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerStore","React","SimpleNUXMessage","SimpleNUXMessageTypes","emptyFunction","XActorSelectorNuxSeenWriteController","XComposerActorChangeController","XUIAmbientNUX.react","GroupsPagesConfig"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("React").PropTypes,j=c("React").createClass({displayName:"ComposerXActorSelector",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerStore"))],propTypes:{actorIDs:i.array.isRequired,composerID:i.string.isRequired,entryPoint:i.string.isRequired,loading:i.bool,nuxEnabled:i.bool,nuxHoverContext:i.object,onChange:i.func,pageTimelineNuxTipID:i.string,selectedActorID:i.string.isRequired,settingsURI:i.string,syncEnabled:i.bool,targetID:i.string.isRequired},statics:{calculateState:function k(l){return{disabled:c("ReactComposerStore").isPosting(l)}}},getInitialState:function k(){return{loading:false,nuxShown:!c("SimpleNUXMessage").hasUserSeenMessage(c("SimpleNUXMessageTypes").GROUP_FOR_PAGES_VOICE_SWITCHER_NUX)}},componentWillMount:function k(){__p&&__p();this._arbiterToken=c("Arbiter").subscribe("ComposerXPages/composePostWithActor",function(l,m){if(m.actorID){if(this.props.onChange){this.props.onChange(m.actorID);return}this._updateCurrentActor(m.actorID,function(){if(m.callback)m.callback()})}}.bind(this))},componentWillUnmount:function k(){c("Arbiter").unsubscribe(this._arbiterToken)},render:function k(){return c("React").createElement("div",null,c("React").createElement(c("ActorSelector.react"),{actorIDs:this.props.actorIDs,className:this.props.className,disabled:this.state.disabled,loading:this.props.loading||this.state.loading,nuxBody:this._getNUXBody(),nuxEnabled:this.props.nuxEnabled,nuxHoverContext:this.props.nuxHoverContext,onChange:this._onChange,onCompleteNux:this._onCompleteNux,pageTimelineNuxTipID:this.props.pageTimelineNuxTipID,ref:"selector",selectedActorID:this.props.selectedActorID,settingsURI:this.props.settingsURI,tooltipConstructor:this._getTooltipForActorName,syncEnabled:this.props.syncEnabled}),this.props.entryPoint==="group"&&c("GroupsPagesConfig").should_show_voice_switcher_nux?this._renderNUX():null)},_onNUXCloseButtonClick:function k(){c("SimpleNUXMessage").markMessageSeenByUser(c("SimpleNUXMessageTypes").GROUP_FOR_PAGES_VOICE_SWITCHER_NUX);this.setState({nuxShown:false})},_renderNUX:function k(){return c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"left",contextRef:function(){return this.refs.selector}.bind(this),onCloseButtonClick:this._onNUXCloseButtonClick,position:"above",shown:this.state.nuxShown,width:"auto"},this._getNUXBody())},_getNUXBody:function k(){return h._("Post as yourself or as one of the Pages you manage.")},_getTooltipForActorName:function k(l){return h._("Posting as {actorName}",[h.param("actorName",l)])},_onChange:function k(l){if(this.props.onChange)this.props.onChange(l.value);else this._updateCurrentActor(l.value)},_updateCurrentActor:function k(l,m){m=m||c("emptyFunction");if(this.props.selectedActorID===l){m();return}this.setState({loading:true});var n=c("ActorURI").create(c("XComposerActorChangeController").getURIBuilder().setString("composer_id",this.props.composerID).setEnum("entry_point",this.props.entryPoint).setInt("from_actor_id",this.props.selectedActorID).setInt("target_id",this.props.targetID).getURI(),l),o=function(){this.setState({loading:false})}.bind(this);new(c("AsyncRequest"))().setURI(n).setErrorHandler(o).setServerDialogCancelHandler(o).setFinallyHandler(m).send()},_onCompleteNux:function k(){var l=c("XActorSelectorNuxSeenWriteController").getURIBuilder().setEnum("nux_type",c("ActorSelectorNuxTypes").COMPOSER).getURI();new(c("AsyncRequest"))().setURI(l).send()}});f.exports=j}),null);
__d("XReactComposerActorChangeController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/actor/change/",{composer_id:{type:"String",required:true},composer_type:{type:"Enum",required:true,enumType:1},target_id:{type:"String",required:true},group_sell_composer_sell_availability:{type:"Enum",enumType:1}})}),null);
__d("ReactObjectiveFirstPagesComposerActorSelector.react",["cx","ActorURI","AsyncRequest","ComposerXActorSelector.react","React","ReactComposerContextTypes","XReactComposerActorChangeController"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("React").createClass({displayName:"ReactObjectiveFirstPagesComposerActorSelector",contextTypes:c("ReactComposerContextTypes"),getInitialState:function j(){return{showSpinner:false}},render:function j(){var k=babelHelpers["extends"]({},this.props,{composerID:this.context.composerID});return c("React").createElement(c("ComposerXActorSelector.react"),babelHelpers["extends"]({},k,{className:"_29oh",loading:this.state.showSpinner,onChange:this._onActorChange}))},_onActorChange:function j(k){this.setState({showSpinner:true});var l=c("ActorURI").create(c("XReactComposerActorChangeController").getURIBuilder().setString("composer_id",this.context.composerID).setEnum("composer_type",this.context.composerType).setString("target_id",this.context.targetID).getURI(),k);new(c("AsyncRequest"))().setURI(l).send()}});f.exports=i}),null);
__d("ReactComposerActorSelectorContainer.react",["cx","ActorURI","AsyncRequest","ComposerXActorSelector.react","React","ReactComposerContextTypes","XReactComposerActorChangeController"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;"use strict";for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={showSpinner:false},this.$ReactComposerActorSelectorContainer1=function(q){this.setState({showSpinner:true});var r=c("ActorURI").create(c("XReactComposerActorChangeController").getURIBuilder().setString("composer_id",this.context.composerID).setEnum("composer_type",this.context.composerType).setString("target_id",this.context.targetID).getURI(),q);new(c("AsyncRequest"))().setURI(r).send()}.bind(this),m}k.prototype.render=function(){"use strict";var l=babelHelpers["extends"]({},this.props,{composerID:this.context.composerID});return c("React").createElement(c("ComposerXActorSelector.react"),babelHelpers["extends"]({},l,{className:"_4w4v",loading:this.state.showSpinner,onChange:this.$ReactComposerActorSelectorContainer1}))};k.contextTypes=c("ReactComposerContextTypes");f.exports=k}),null);